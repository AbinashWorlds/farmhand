{"version":3,"sources":["serviceWorkerRegistration.js","Farmhand.context.js","enums.js","constants.js","data/items.js","data/items-map.js","data/recipes.js","data/maps.js","data/levels.js","data/shop-inventory.js","data/fruit-names.js","img/pixel.png","img/index.js","img/plot-states/watered-plot.png","img/plot-states/fertilized-plot.png","img/dishes/carrot-soup.png","img/dishes/cheese.png","img/dishes/chocolate.png","img/dishes/bread.png","img/dishes/burger.png","img/dishes/french-onion-soup.png","img/items/jackolantern.png","img/dishes/spaghetti.png","img/items/carrot.png","img/items/carrot-growing.png","img/items/carrot-seed.png","img/items/pumpkin.png","img/items/pumpkin-growing.png","img/items/pumpkin-seed.png","img/items/spinach.png","img/items/spinach-growing.png","img/items/spinach-seed.png","img/items/corn.png","img/items/corn-growing.png","img/items/corn-seed.png","img/items/potato.png","img/items/potato-growing.png","img/items/potato-seed.png","img/items/onion.png","img/items/onion-growing.png","img/items/onion-seed.png","img/items/soybean.png","img/items/soybean-growing.png","img/items/soybean-seed.png","img/items/wheat.png","img/items/wheat-growing.png","img/items/wheat-seed.png","img/items/tomato.png","img/items/tomato-growing.png","img/items/tomato-seed.png","img/items/fertilizer.png","img/items/scarecrow.png","img/items/sprinkler.png","img/items/cow-feed.png","img/items/hugging-machine.png","img/items/milk-1.png","img/items/milk-2.png","img/items/milk-3.png","img/items/rainbow-milk-1.png","img/items/rainbow-milk-2.png","img/items/rainbow-milk-3.png","img/items/chocolate-milk.png","img/items/inventory-box.png","img/tools/hoe.png","img/tools/scythe.png","img/tools/watering-can.png","img/animals/cows/blue-cow.png","img/animals/cows/brown-cow.png","img/animals/cows/green-cow.png","img/animals/cows/orange-cow.png","img/animals/cows/purple-cow.png","img/animals/cows/rainbow-cow.png","img/animals/cows/white-cow.png","img/animals/cows/yellow-cow.png","utils.js","data/achievements.js","common/utils.js","strings.js","templates.js","reducers.js","event-handlers.js","components/AppBar/AppBar.js","components/LogView/LogView.js","components/AnimatedNumber/AnimatedNumber.js","components/QuantityInput/QuantityInput.js","components/Item/Item.js","components/PriceEventView/PriceEventView.js","components/ProgressBar/ProgressBar.js","components/Achievement/Achievement.js","components/AchievementsView/AchievementsView.js","components/StatsView/StatsView.js","components/AccountingView/AccountingView.js","components/SettingsView/SettingsView.js","components/Navigation/Navigation.js","common/constants.js","components/Inventory/Inventory.js","components/CowPenContextMenu/CowPenContextMenu.js","components/ContextPane/ContextPane.js","components/Plot/Plot.js","components/Toolbelt/Toolbelt.js","components/QuickSelect/QuickSelect.js","components/Field/Field.js","components/Home/Home.js","components/CowPen/CowPen.js","components/TierPurchase/TierPurchase.js","components/Shop/Shop.js","components/Recipe/Recipe.js","components/Workshop/Workshop.js","components/Stage/Stage.js","components/NotificationSystem/NotificationSystem.js","mui-theme.js","fetch-utils.js","config.js","Farmhand.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","farmhand","showUpdateNotification","onUpdate","onSuccess","catch","error","FarmhandContext","createContext","enumify","keys","reduce","acc","key","cropType","fieldMode","stageFocusType","cropLifeStage","itemType","genders","cowColors","standardCowColors","RAINBOW","dialogView","freeze","Object","BREAKPOINTS","STANDARD_LOAN_AMOUNT","LOAN_GARNISHMENT_RATE","FERTILIZER_ITEM_ID","PURCHASEABLE_FIELD_SIZES","Map","columns","rows","price","PURCHASEABLE_COW_PENS","cows","SCARECROW_ITEM_ID","SPRINKLER_ITEM_ID","COW_STARTING_WEIGHT_VARIANCE","COW_HUG_BENEFIT","COW_FEED_ITEM_ID","HUGGING_MACHINE_ITEM_ID","STAGE_TITLE_MAP","HOME","FIELD","SHOP","COW_PEN","WORKSHOP","STORAGE_EXPANSION_PRICE","PERSISTED_STATE_KEYS","DEFAULT_ROOM","CARROT","CORN","ONION","POTATO","PUMPKIN","SOYBEAN","SPINACH","TOMATO","WHEAT","SEED","GROWING","COW_FEED","CROP","FERTILIZER","HUGGING_MACHINE","MILK","SCARECROW","SPRINKLER","crop","cropTimetable","growsInto","tier","isSeed","cropLifecycleDuration","values","value","rest","doesPriceFluctuate","type","enablesFieldMode","PLANT","isPlantableCrop","fromSeed","id","carrotSeed","name","carrot","pumpkinSeed","pumpkin","spinachSeed","spinach","cornSeed","corn","potatoSeed","potato","onionSeed","onion","soybeanSeed","soybean","wheatSeed","wheat","tomatoSeed","tomato","fertilizer","description","FERTILIZE","sprinkler","SET_SPRINKLER","hoveredPlotRangeSize","isReplantable","scarecrow","SET_SCARECROW","Number","MAX_SAFE_INTEGER","cowFeed","huggingMachine","milk1","milk2","milk3","rainbowMilk1","rainbowMilk2","rainbowMilk3","chocolateMilk","items","itemName","item","itemsMap","baseItemsMap","itemify","recipe","CRAFTED_ITEM","ingredients","sum","itemId","bread","condition","itemsSold","cheese","chocolate","carrotSoup","jackolantern","spaghetti","frenchOnionSoup","burger","recipesMap","recipes","recipeName","cropIdToTypeMap","levels","unlocksShopItem","increasesSprinklerRange","i","length","unlockableItems","itemUnlockLevels","entries","plotStates","craftedItems","tools","hoe","scythe","animals","cow","blue","brown","green","orange","purple","rainbow","white","yellow","GROWN","shopInventoryMap","shopInventory","chooseRandom","list","Math","round","random","memoizationSerializer","args","JSON","stringify","map","arg","toString","MemoizeCache","cacheSize","cache","this","memoize","fn","fastMemoize","create","clampNumber","num","min","max","castToMoney","moneyTotal","scaleNumber","baseMin","baseMax","createNewField","Array","fill","undefined","moneyString","number","Dinero","amount","toFormat","formatNumber","format","precision","convertPrecision","dollarString","integerString","getItemBaseValue","getItemCurrentValue","valueAdjustments","toUnit","getAdjustedItemValue","toFixed","isItemSoldInShop","getResaleValue","getPlotContentFromItemId","getPlotContentType","doesPlotContainCrop","plot","isItemAFarmProduct","isItemAGrownCrop","getCropId","getCropLifecycleDuration","getLifeStageRange","stage","concat","getCropLifeStage","daysWatered","floor","cropLifeStageToImageSuffixMap","getFinalCropItemIdFromSeedItemId","seedItemId","getFinalCropItemFromSeedItem","generateCow","options","gender","baseWeight","MALE","color","colorsInBloodline","daysOld","daysSinceMilking","happiness","happinessBoostsToday","uuid","isBred","isUsingHuggingMachine","fruitNames","weightMultiplier","getCowMilkItem","BROWN","isRainbowCow","getCowMilkRate","FEMALE","Infinity","getCowWeight","getCowValue","getInventoryQuantityMap","inventory","quantity","maxYieldOfRecipe","inventoryQuantityMap","canMakeRecipe","howMany","filterItemIdsToSeeds","itemsIds","filter","findInField","field","find","row","serializer","doesMenuObstructStage","filterCondition","push","innerWidth","itemTypesToShowInReverse","Set","sortItemIdsByTypeAndValue","itemIds","sortBy","has","sortItems","forEach","inventorySpaceConsumed","inventorySpaceRemaining","inventoryLimit","doesInventorySpaceRemain","areHuggingMachinesInInventory","some","nullArray","arraySize","findCowById","cowInventory","farmProductsSold","numberSold","levelAchieved","sqrt","getLevelEntitlements","levelNumber","sprinklerRange","getAvailbleShopInventory","levelEntitlements","hasOwnProperty","getRandomLevelUpRewardQuantity","level","reduceByPersistedKeys","get7DayAverage","historicalData","revenue","cowColorToIdMap","BLUE","GREEN","ORANGE","PURPLE","WHITE","YELLOW","getProfit","losses","getProfitRecord","recordSingleDayProfit","todaysRevenue","todaysLosses","computeMarketPositions","todaysStartingInventory","todaysPurchases","endingPosition","startingInventory","purchaseQuantity","sanitizeStateForImport","sanitizedState","rejectedKey","addMoney","reward","money","sumOfCropsHarvested","cropsHarvested","cropHarvested","achievements","rewardDescription","wasWateredToday","goal","purchasedCowPen","addItemToInventory","every","cowColorsPurchased","generateValueAdjustments","achievement","priceCrashes","priceSurges","PROGRESS_SAVED_MESSAGE","FARM_PRODUCTS_TOOLTIP_TEXT","SERVER_ERROR","MILKS_PRODUCED","_","milksProduced","message","sort","milkName","COW_ATTRITION_MESSAGE","COW_BORN_MESSAGE","parentCow1","parentCow2","offspringCow","PRICE_CRASH","PRICE_SURGE","LOAN_INCREASED","loanBalance","LOAN_BALANCE_NOTIFICATION","LEVEL_GAINED_NOTIFICATION","newLevel","randomCropSeed","chunks","levelObject","join","CONNECTED_TO_ROOM","room","POSITIONS_POSTED_NOTIFICATION","positions","positivePositions","negativePositions","OBSERVE","incrementPlotContentAge","isFertilized","setWasWateredProperty","plotContent","setWasWatered","resetWasWatered","updateField","modifierFn","y","x","applyChanceEvent","chancesAndEvents","chance","processWeather","applyPrecipitation","processNerfs","applyCrows","createPriceEvent","priceEvent","priceEventKey","processLevelUp","oldLevel","selectedItemId","showNotification","adjustItemValues","historicalValueAdjustments","plotContainsScarecrow","fieldHasScarecrow","notification","severity","newDayNotifications","waterField","updatedField","destroyCrop","processSprinklers","crops","modifiedField","plotY","plotX","rangeSize","centerX","centerY","squareSize","rangeStartX","rangeStartY","getRangeCoords","fieldRow","modifyFieldPlotAt","set","processFeedingCows","cowInventoryLength","cowFeedInventoryPosition","findIndex","unitsSpent","anyUnitsRemain","decrementItemFromInventory","processCowAttrition","oldCowInventory","removeCowFromInventory","processMilkingCows","milk","numberOfItemsToAdd","currentItemSlot","currentItem","fieldReducer","fieldUpdaters","processField","processCowBreeding","cowBreedingPen","cowId1","cowId2","cow1","cow2","daysUntilBirth","shouldGenerateOffspring","get","Error","maleCow","femaleCow","generateOffspringCow","computeCowInventoryForNextDay","removeFieldPlotAt","itemInventoryIndex","splice","rotateNotificationLogs","notificationLog","dayCount","notifications","info","success","warning","unshift","day","generatePriceEvents","unlockedSeedItemIds","unlockedItems","cropItem","priceEventType","daysRemaining","getPriceEventForCrop","decrementPriceEventDays","priceEvents","updatePriceEvents","updateFinancialRecords","profitabilityStreak","record7dayProfitAverage","recordProfitabilityStreak","historicalDailyLosses","historicalDailyRevenue","slice","profitAverage","loss","currentProfitabilityStreak","updateInventoryRecordsForNextDay","applyLoanInterest","computeStateForNextDay","isFirstDay","cowForSale","todaysPastNotifications","purchaseItem","totalValue","addRevenue","revenueToAdd","sellItem","initialMoney","adjustedItemValue","saleIsGarnished","saleValue","loanGarnishment","garnishedProfit","adjustLoan","newItemsSold","updateLearnedRecipes","learnedRecipes","recipeId","makeRecipe","ingredientId","onClick","doShowNotifications","purchaseCow","cowValue","sellCow","cowsSold","cowColorId","getCowColorId","newCowsSold","indexOf","changeCowBreedingPenResident","modifyCow","cowId","cowIndex","changeCowAutomaticHugState","doAutomaticallyHug","doAdd","isPenFull","isCowInPen","newCowBreedingPen","plantInPlot","plantableItemId","finalCropItemId","fertilizeCrop","fertilizerInventory","initialFertilizerQuantity","doFertilizersRemain","setSprinkler","doSprinklersRemain","setScarecrow","doScarecrowsRemain","harvestPlot","clearPlot","purchaseField","fieldId","purchasedField","column","waterPlot","waterAllPlots","purchaseCowPen","cowPenId","purchaseStorageExpansion","hugCow","changeCowName","newName","selectCow","selectedCowId","updateAchievements","prevState","completedAchievements","ACHIEVEMENT_COMPLETED","adjustmentAmount","loansTakenOut","forRange","fieldFn","rangeRadius","startX","endX","startY","endY","CLEANUP","HARVEST","WATER","toolbeltFieldModes","handleItemPurchaseClick","handleMakeRecipeClick","handleCowPurchaseClick","handleCowSellClick","handleCowAutomaticHugChange","checked","target","handleCowBreedChange","handleCowHugClick","handleCowNameInputChange","handleItemSellClick","handleViewChange","setState","stageFocus","handleViewChangeButtonClick","handleFieldModeSelect","includes","handleItemSelectClick","newHoveredPlotRangeSize","handlePlotClick","handleFieldActionRangeChange","range","handleClickEndDayButton","incrementDay","document","activeElement","blur","handleAddMoneyClick","handleClearPersistedDataClick","clearPersistedData","handleWaterAllPlotsClick","handleFieldPurchase","handleCowPenPurchase","handleStorageExpansionPurchase","handleMenuToggle","setOpen","isMenuOpen","handleClickNextMenuButton","focusNextView","handleClickPreviousMenuButton","focusPreviousView","handleCowSelect","handleCowClick","handleCloseNotification","_event","reason","handleNotificationClick","handleNotificationExited","handleClickDialogViewButton","openDialogView","handleCloseDialogView","closeDialogView","handleDialogViewExited","currentDialogView","NONE","handleClickLoanPaydownButton","paydownAmount","handleClickTakeOutLoanButton","loanAmount","handleExportDataClick","blob","Blob","saveAs","handleImportDataClick","data","file","fileReader","FileReader","addEventListener","e","json","srcElement","result","parse","readAsText","handleSaveButtonClick","persistState","handleFarmNameUpdate","farmName","handleUseAlternateEndDayButtonPositionChange","_e","useAlternateEndDayButtonPosition","handleOnlineToggleChange","goOnline","redirect","encodeURIComponent","handleRoomChange","trim","MoneyDisplay","idleColor","useState","displayedMoney","setDisplayedMoney","textColor","setTextColor","previousMoney","setPreviousMoney","currentTweenable","setCurrentTweenable","useEffect","cancel","tweenable","tween","easing","duration","render","from","to","style","AppBar","viewTitle","className","position","Toolbar","Typography","variant","Consumer","props","gameState","handlers","LogView","Alert","elevation","source","Divider","j","defaultFormatter","AnimatedNumber","formatter","displayedNumber","setDisplayedNumber","previousNumber","setPreviousNumber","QuantityNumberFormat","inputRef","onChange","isNumericString","thousandSeparator","allowNegative","decimalScale","onValueChange","floatValue","QuantityTextInput","handleSubmit","handleUpdateNumber","maxQuantity","TextField","inputProps","pattern","onKeyUp","which","InputProps","inputComponent","QuantityInput","setQuantity","Fab","size","noop","ValueIndicator","poorValue","Tooltip","arrow","placement","title","PurchaseValueIndicator","SellValueIndicator","Item","isPurchaseView","isSelectView","isSelected","isSellView","playerInventoryQuantities","showQuantity","adjustedValue","previousDayAdjustedValue","maxQuantityPlayerCanPurchase","setPurchaseQuantity","sellQuantity","setSellQuantity","handleItemPurchase","handleItemSell","Card","classNames","raised","CardHeader","avatar","src","alt","subheader","CardContent","CardActions","Button","disabled","PriceEventView","incompleteColor","ProgressBar","percent","displayedProgress","setDisplayedProgress","displayedColor","setDisplayedColor","delay","currentPercent","interpolate","background","width","Achievement","isComplete","partitionAchievements","complete","incomplete","AchievementsList","ExpansionPanelDetails","AchievementsView","partitionedAchievements","ExpansionPanel","defaultExpanded","ExpansionPanelSummary","ElevatedPaper","Paper","children","StatsView","targetLevel","totalFarmProductsSold","currentLevel","TableContainer","component","Table","aria-label","TableBody","TableRow","TableCell","scope","align","abs","MoneyNumberFormat","setLoanInputValue","fixedDecimalScale","prefix","isAllowed","AccountingView","loanInputValue","LOAN_INTEREST_RATE","SettingsView","isClearDataDialogOpen","setIsClearDataDialogOpen","FormControl","FormLabel","FormGroup","FormControlLabel","control","Switch","label","as","results","Dialog","open","onClose","maxWidth","DialogTitle","DialogContent","dividers","DialogActions","autoFocus","FarmNameDisplay","displayedFarmName","setDisplayedFarmName","maxLength","onBlur","placeholder","OnlineControls","activePlayers","isOnline","displayedRoom","setDisplayedRoom","FARMERS_LOG","PRICE_EVENTS","STATS","ACHIEVEMENTS","ACCOUNTING","SETTINGS","dialogTriggerTextMap","dialogTitleMap","dialogContentMap","Navigation","isDialogViewOpen","viewList","process","Select","view","MenuItem","Icon","HistoryIcon","FlashOnIcon","TrendingUpIcon","AssignmentTurnedInIcon","AttachMoneyIcon","SettingsIcon","fullWidth","onExited","categoryIds","categoryIdKeys","ANIMAL_PRODUCTS","ANIMAL_SUPPLIES","CRAFTED_ITEMS","CROPS","FIELD_TOOLS","SEEDS","itemTypeCategoryMap","separateItemsIntoCategories","category","Inventory","playerInventory","itemCategories","headerText","genderIcons","faVenus","faMars","isHeartFull","heartIndex","numberOfFullHearts","isCowInBreedingPen","CowBloodline","memo","toLowerCase","CowCardSubheader","huggingMachinesRemain","isCowPurchased","isInBreedingPen","isBreedingPenFull","_null","icon","faFullHeart","faEmptyHeart","Checkbox","CowCard","debounced","isNameEditable","setName","AGE","COLOR","GENDER","HAPPINESS","VALUE","WEIGHT","numberOfCowsBreeding","CowPenContextMenu","sortType","setSortType","isAscending","setIsAscending","displayEmpty","sorter","sortedCows","reverse","sortCows","onFocus","PlayerInventory","prev","next","ContextPane","getBackgroundStyles","backgroundImages","Plot","isInHoverRange","setHoveredPlot","image","itemImages","getPlotImage","lifeStage","isRipe","daysLeftToMature","ceil","getDaysLeftToMature","backgroundImage","onMouseOver","animated","heartBeat","pixel","Toolbelt","currentFieldMode","toolImageId","selected","ItemList","QuickSelect","fieldToolInventory","plantableCropInventory","Grid","container","alignItems","wrap","orientation","flexItem","zoomKeyMap","zoomIn","zoomOut","fieldKeyMap","selectWateringCan","selectScythe","selectHoe","hoveredPlot","hoveredPlotX","hoveredPlotY","rangeFloorX","rangeFloorY","MemoPlot","FieldContentWrapper","fieldContent","previousScale","resetTransform","scale","keyMap","FieldContent","onMouseLeave","arr","adjustableRangeFieldModes","RangeSliderValueLabelComponent","Field","currentScale","setCurrentScale","fieldActionRange","setFieldActionRange","limitToBounds","reset","animationTime","pan","onZoomChange","wheel","doubleClick","transformProps","Slider","marks","handleFieldActionRangeSliderChange","step","valueLabelDisplay","valueLabelFormat","ValueLabelComponent","Home","expandIcon","linkTarget","Cow","isMoving","showHugAnimation","randomPosition","repositionTimeoutId","animateMovementTimeoutId","animateHugTimeoutId","animateTimeoutHandler","finishMoving","move","setTimeout","movementAnimationDuration","scheduleMove","repositionTimeoutHandler","waitVariance","prevProps","clearTimeout","hugAnimationDuration","left","top","PopperProps","disablePortal","faHeart","Component","CowPen","TierPurchase","selectedTier","tierValues","tiers","hasPurchasedTier","tierLevel","purchasedTier","handleTierPurchase","selectedTierNumber","onSelectChange","updateSelectedTier","nextTierNumber","nextTierToPurchase","String","canPlayerBuySelectedTier","renderTierLabel","Shop","IngredientsList","Recipe","canBeMade","handleMakeRecipe","Workshop","Stage","ref","useRef","current","scrollTop","overflow","NotificationSystem","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","createMuiTheme","typography","useNextVariants","commonFetchConfig","mode","credentials","headers","referrerPolicy","getData","a","url","params","URLSearchParams","append","fetch","method","response","postData","body","endpoints","getMarketData","postDayResults","computePlayerInventory","getFieldToolInventory","getPlantableCropInventory","applyPriceEvents","patchedValueAdjustments","Farmhand","arguments","localforage","createInstance","hasBooted","heartbeatIntervalId","isAwaitingNetworkRequest","path","startsWith","decodeURIComponent","version","initInputHandlers","initReducers","eventHandlers","bind","debounce","nextView","openAccounting","openAchievements","openLog","openPriceEvents","openStats","openSettings","previousView","toggleMenu","keyHandlers","index","viewName","assign","reducerName","reducer","reducers","getItem","syncToRoom","decodedRoom","newIsOnline","clearInterval","updatedAchievementsState","clear","farmId","startHeartbeat","oldHeartbeatIntervalId","setInterval","COW_PEN_PURCHASED","previousLearnedRecipes","overrides","setItem","nextDayState","serverMessages","pendingNotifications","currentViewIndex","waiting","postMessage","reload","theme","Provider","Drawer","PaperProps","MobileStepper","steps","activeStep","itemInInventory","ReactDOM","hashType","getElementById","URL","href","origin","contentType","status","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":";iqKAYMA,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTK,MAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,YAI1BC,QAAQC,IACN,+GAIFnB,OAAOoB,SAASC,uBAAuBV,GAGnCL,GAAUA,EAAOgB,UACnBhB,EAAOgB,SAASX,KAMlBO,QAAQC,IAAI,sCAGRb,GAAUA,EAAOiB,WACnBjB,EAAOiB,UAAUZ,WAO5Ba,OAAM,SAAAC,GACLP,QAAQO,MAAM,4CAA6CA,M,+SC9FlDC,EAFSC,0B,wBCOXC,EAAU,SAAAC,GAAI,OACzBA,EAAKC,QAAO,SAACC,EAAKC,GAAN,oBAAiB,CAACA,GAAMA,GAAQD,KAAQ,KAMzCE,EAAWL,EAAQ,CAC9B,SACA,OACA,QACA,SACA,UACA,UACA,UACA,SACA,UAOWM,GAAYN,EAAQ,CAC/B,UACA,YACA,UACA,UACA,QACA,gBACA,gBACA,UAOWO,GAAiBP,EAAQ,CACpC,OACA,OACA,QACA,OACA,UACA,YACA,aAOWQ,GAAgBR,EAAQ,CAAC,OAAQ,UAAW,UAM5CS,GAAWT,EAAQ,CAC9B,WACA,eACA,OACA,aACA,kBACA,OACA,YACA,cAOWU,GAAUV,EAAQ,CAAC,SAAU,SAM7BW,GAAYX,EAAQ,CAC/B,OACA,QACA,QACA,SACA,SACA,UACA,QACA,WAGkBY,IAAsBD,GAAlCE,Q,YAAkCF,G,cAO7BG,GAAad,EAAQ,CAChC,OACA,aACA,eACA,cACA,eACA,WACA,UC1GMe,GAAWC,OAAXD,OAKKE,GAGP,IAKOC,GAAuB,IAEvBC,GAAwB,IAIxBC,GAAqB,aAOrBC,GAA2BN,GACtC,IAAIO,IAAI,CACN,CAAC,EAAG,CAAEC,QAAS,EAAGC,KAAM,GAAIC,MAAO,MACnC,CAAC,EAAG,CAAEF,QAAS,GAAIC,KAAM,GAAIC,MAAO,MACpC,CAAC,EAAG,CAAEF,QAAS,GAAIC,KAAM,GAAIC,MAAO,SAI3BC,GAAwBX,GACnC,IAAIO,IAAI,CACN,CAAC,EAAG,CAAEK,KAAM,GAAIF,MAAO,OACvB,CAAC,EAAG,CAAEE,KAAM,GAAIF,MAAO,OACvB,CAAC,EAAG,CAAEE,KAAM,GAAIF,MAAO,UASdG,GAAoB,YACpBC,GAAoB,YAIpBC,GAA+B,IAM/BC,GAAkB,IAUlBC,GAAmB,WACnBC,GAA0B,kBAe1BC,GAAkB,CAC7B,CAAC3B,GAAe4B,MAAO,OACvB,CAAC5B,GAAe6B,OAAQ,QACxB,CAAC7B,GAAe8B,MAAO,OACvB,CAAC9B,GAAe+B,SAAU,OAC1B,CAAC/B,GAAegC,UAAW,YAIhBC,GAA0B,IAM1BC,GAAuB,CAClC,wBACA,iBACA,qBACA,aACA,eACA,WACA,iBACA,WACA,WACA,QACA,wBACA,yBACA,6BACA,uBACA,KACA,YACA,iBACA,YACA,iBACA,cACA,gBACA,QACA,sBACA,kBACA,eACA,cACA,sBACA,kBACA,iBACA,0BACA,4BACA,wBACA,UACA,eACA,kBACA,gBACA,0BACA,mCACA,mBACA,WAGWC,GAAe,SCzIpB3B,GAAWC,OAAXD,OAEN4B,GASEtC,EATFsC,OACAC,GAQEvC,EARFuC,KACAC,GAOExC,EAPFwC,MACAC,GAMEzC,EANFyC,OACAC,GAKE1C,EALF0C,QACAC,GAIE3C,EAJF2C,QACAC,GAGE5C,EAHF4C,QACAC,GAEE7C,EAFF6C,OACAC,GACE9C,EADF8C,MAEMC,GAAkB5C,GAAlB4C,KAAMC,GAAY7C,GAAZ6C,QAEZC,GAOE7C,GAPF6C,SACAC,GAME9C,GANF8C,KACAC,GAKE/C,GALF+C,WACAC,GAIEhD,GAJFgD,gBACAC,GAGEjD,GAHFiD,KACAC,GAEElD,GAFFkD,UACAC,GACEnD,GADFmD,UASIC,GAAO,SAAC,GAAD,IACXC,EADW,EACXA,cACAC,EAFW,EAEXA,UACAC,EAHW,EAGXA,KAHW,IAKXC,cALW,MAKF9F,QAAQ4F,GALN,MAMXG,6BANW,MAMalD,OAAOmD,OAAOL,GAAe5D,QACnD,SAACC,EAAKiE,GAAN,OAAgBjE,EAAMiE,IACtB,GARS,EAWRC,EAXQ,4FAaXtD,GAAO,yBACL+C,gBACAQ,oBAAoB,EACpBN,OACAO,KAAMhB,GACNa,MAAO,GAAKF,EAAwBF,GAAQC,EAAS,EAAI,IACrDA,GAAU,CACZO,iBAAkBlE,GAAUmE,MAC5BV,YACAW,iBAAiB,IAEhBL,KAGDM,GAAW,SAAC,GAAD,MAAmD,CAClEb,cADe,EAAGA,cAElBzD,SAFe,EAAkBA,SAGjCiE,oBAAoB,EACpBM,GAJe,EAA4Bb,UAK3CC,KALe,EAAuCA,KAMtDO,KAAMhB,KAOKsB,GAAahB,GAAK,CAC7BxD,SAAUsC,GACVmB,cAAe,CACb,CAACV,IAAO,EACR,CAACC,IAAU,GAEbU,UAAW,SACXa,GAAI,cACJE,KAAM,cACNd,KAAM,IAOKe,GAASlB,GAAK,2BACtBc,GAASE,KADY,IAExBC,KAAM,YAOKE,GAAcnB,GAAK,CAC9BxD,SAAU0C,GACVe,cAAe,CACb,CAACV,IAAO,EACR,CAACC,IAAU,GAEbU,UAAW,UACXa,GAAI,eACJE,KAAM,eACNd,KAAM,IAOKiB,GAAUpB,GAAK,2BACvBc,GAASK,KADa,IAEzBF,KAAM,aAOKI,GAAcrB,GAAK,CAC9BxD,SAAU4C,GACVa,cAAe,CACb,CAACV,IAAO,EACR,CAACC,IAAU,GAEbU,UAAW,UACXa,GAAI,eACJE,KAAM,eACNd,KAAM,IAOKmB,GAAUtB,GAAK,2BACvBc,GAASO,KADa,IAEzBJ,KAAM,aAOKM,GAAWvB,GAAK,CAC3BxD,SAAUuC,GACVkB,cAAe,CACb,CAACV,IAAO,EACR,CAACC,IAAU,GAEbU,UAAW,OACXa,GAAI,YACJE,KAAM,eACNd,KAAM,IAOKqB,GAAOxB,GAAK,2BACpBc,GAASS,KADU,IAEtBN,KAAM,UAOKQ,GAAazB,GAAK,CAC7BxD,SAAUyC,GACVgB,cAAe,CACb,CAACV,IAAO,EACR,CAACC,IAAU,GAEbU,UAAW,SACXa,GAAI,cACJE,KAAM,eACNd,KAAM,IAOKuB,GAAS1B,GAAK,2BACtBc,GAASW,KADY,IAExBR,KAAM,YAOKU,GAAY3B,GAAK,CAC5BxD,SAAUwC,GACViB,cAAe,CACb,CAACV,IAAO,EACR,CAACC,IAAU,GAEbU,UAAW,QACXa,GAAI,aACJE,KAAM,cACNd,KAAM,IAOKyB,GAAQ5B,GAAK,2BACrBc,GAASa,KADW,IAEvBV,KAAM,WAOKY,GAAc7B,GAAK,CAC9BxD,SAAU2C,GACVc,cAAe,CACb,CAACV,IAAO,EACR,CAACC,IAAU,GAEbU,UAAW,UACXa,GAAI,eACJE,KAAM,gBACNd,KAAM,IAOK2B,GAAU9B,GAAK,2BACvBc,GAASe,KADa,IAEzBZ,KAAM,aAOKc,GAAY/B,GAAK,CAC5BxD,SAAU8C,GACVW,cAAe,CACb,CAACV,IAAO,EACR,CAACC,IAAU,GAEbU,UAAW,QACXa,GAAI,aACJE,KAAM,cACNd,KAAM,IAOK6B,GAAQhC,GAAK,2BACrBc,GAASiB,KADW,IAEvBd,KAAM,WAOKgB,GAAajC,GAAK,CAC7BxD,SAAU6C,GACVY,cAAe,CACb,CAACV,IAAO,EACR,CAACC,IAAU,GAEbU,UAAW,SACXa,GAAI,cACJE,KAAM,eACNd,KAAM,IAOK+B,GAASlC,GAAK,2BACtBc,GAASmB,KADY,IAExBhB,KAAM,YAaKkB,GAAajF,GAAO,CAC/BkF,YAAa,+CACbzB,iBAAkBlE,GAAU4F,UAC5BtB,GAAIxD,GACJ0D,KAAM,aACNP,KAAMf,GACNY,MAAO,KAOI+B,GAAYpF,GAAO,CAC9BkF,YAAa,kDACbzB,iBAAkBlE,GAAU8F,cAG5BC,qBDlRqC,ECmRrCzB,GAAI,YACJ0B,eAAe,EACfxB,KAAM,YACNP,KAAMX,GACNQ,MAAO,MAOImC,GAAYxF,GAAO,CAC9BkF,YACE,8GACFzB,iBAAkBlE,GAAUkG,cAI5BH,qBAAsBI,OAAOC,iBAC7B9B,GAAI,YACJ0B,eAAe,EACfxB,KAAM,YACNP,KAAMZ,GACNS,MAAO,MAaIuC,GAAU5F,GAAO,CAC5B6D,GAAI5C,GACJiE,YACE,mGACFnB,KAAM,WACNP,KAAMjB,GACNc,MAAO,IAOIwC,GAAiB7F,GAAO,CACnC6D,GAAI3C,GACJgE,YAAa,oDACbnB,KAAM,kBACNP,KAAMd,GACNW,MAAO,MAOIyC,GAAQ9F,GAAO,CAC1B6D,GAAI,SACJE,KAAM,eACNP,KAAMb,GACNU,MAAO,KAOI0C,GAAQ/F,GAAO,CAC1B6D,GAAI,SACJE,KAAM,eACNP,KAAMb,GACNU,MAAO,KAOI2C,GAAQhG,GAAO,CAC1B6D,GAAI,SACJE,KAAM,eACNP,KAAMb,GACNU,MAAO,MAOI4C,GAAejG,GAAO,CACjC6D,GAAI,iBACJE,KAAM,uBACNP,KAAMb,GACNU,MAAO,KAOI6C,GAAelG,GAAO,CACjC6D,GAAI,iBACJE,KAAM,uBACNP,KAAMb,GACNU,MAAO,MAOI8C,GAAenG,GAAO,CACjC6D,GAAI,iBACJE,KAAM,uBACNP,KAAMb,GACNU,MAAO,MAOI+C,GAAgBpG,GAAO,CAClC6D,GAAI,iBACJE,KAAM,iBACNP,KAAMb,GACNU,MAAO,KC5cM,kBACVpD,OAAOf,KAAKmH,GAAOlH,QAAO,SAACC,EAAKkH,GACjC,IAAMC,EAAOF,EAAMC,GAEnB,OADAlH,EAAImH,EAAK1C,IAAM0C,EACRnH,IACN,KCECoH,GAAQ,eAAQC,IAEhBC,GAAU,SAAAC,GACd,IAAMJ,EAAOtG,OAAOD,OAAPC,OAAA,IAAAA,QAAA,IAAAA,CAAA,GACR0G,GADQ,IAEXnD,KAAM9D,GAASkH,aACfvD,MAAOpD,OAAOf,KAAKyH,EAAOE,aAAa1H,QACrC,SAAC2H,EAAKC,GAAN,OACED,EHuF0C,KGrFxCN,GAASO,GAAQ1D,MACjBsD,EAAOE,YAAYE,KACvB,MAMJ,OAFAP,GAASG,EAAO9C,IAAM0C,EAEfA,GAOIS,GAAQN,GAAQ,CAC3B7C,GAAI,QACJE,KAAM,QACN8C,YAAa,CACX,CAACR,GAAYxC,IAAK,IAEpBoD,UAAW,SAAA5I,GAAK,OAAIA,EAAM6I,UAAUb,GAAYxC,KAAO,MAO5CsD,GAAST,GAAQ,CAC5B7C,GAAI,SACJE,KAAM,SACN8C,YAAa,CACX,CAACR,GAAYxC,IAAK,GAEpBoD,UAAW,SAAA5I,GAAK,OAAKA,EAAM6I,UAAUb,GAAYxC,KAAO,IAAM,MAOnDuD,GAAYV,GAAQ,CAC/B7C,GAAI,YACJE,KAAM,YACN8C,YAAa,CACX,CAACR,GAAoBxC,IAAK,IAE5BoD,UAAW,SAAA5I,GAAK,OAAKA,EAAM6I,UAAUb,GAAoBxC,KAAO,IAAM,MAO3DwD,GAAaX,GAAQ,CAChC7C,GAAI,cACJE,KAAM,cACN8C,YAAa,CACX,CAACR,GAAaxC,IAAK,GAErBoD,UAAW,SAAA5I,GAAK,OAAKA,EAAM6I,UAAUb,GAAaxC,KAAO,IAAM,MAOpDyD,GAAeZ,GAAQ,CAClC7C,GAAI,eACJE,KAAM,kBACN8C,YAAa,CACX,CAACR,GAAcxC,IAAK,GAEtBoD,UAAW,SAAA5I,GAAK,OAAKA,EAAM6I,UAAUb,GAAcxC,KAAO,IAAM,MAOrD0D,GAAYb,GAAQ,CAC/B7C,GAAI,YACJE,KAAM,YACN8C,YAAa,CACX,CAACR,GAAYxC,IAAK,GAClB,CAACwC,GAAaxC,IAAK,GAErBoD,UAAW,SAAA5I,GAAK,OACdA,EAAM6I,UAAUb,GAAYxC,KAAO,IACnCxF,EAAM6I,UAAUb,GAAaxC,KAAO,KAO3B2D,GAAkBd,GAAQ,CACrC7C,GAAI,oBACJE,KAAM,oBACN8C,YAAa,CACX,CAACR,GAAYxC,IAAK,EAClB,CAACsD,GAAOtD,IAAK,GAEfoD,UAAW,SAAA5I,GAAK,OACdA,EAAM6I,UAAUb,GAAYxC,KAAO,IAAMxF,EAAM6I,UAAUC,GAAOtD,KAAO,MAO9D4D,GAASf,GAAQ,CAC5B7C,GAAI,SACJE,KAAM,SACN8C,YAAa,CACX,CAACG,GAAMnD,IAAK,EACZ,CAACsD,GAAOtD,IAAK,EACb,CAACwC,GAAYxC,IAAK,EAClB,CAACwC,GAAcxC,IAAK,GACpB,CAACwC,GAAcxC,IAAK,EACpB,CAACwC,GAAaxC,IAAK,GAErBoD,UAAW,SAAA5I,GAAK,OACdA,EAAM6I,UAAUF,GAAMnD,KAAO,GAC7BxF,EAAM6I,UAAUC,GAAOtD,KAAO,GAC9BxF,EAAM6I,UAAUb,GAAYxC,KAAO,GACnCxF,EAAM6I,UAAUb,GAAcxC,KAAO,IACrCxF,EAAM6I,UAAUb,GAAcxC,KAAO,GACrCxF,EAAM6I,UAAUb,GAAaxC,KAAO,KC7ItCjC,GASEtC,EATFsC,OACAC,GAQEvC,EARFuC,KACAC,GAOExC,EAPFwC,MACAC,GAMEzC,EANFyC,OACAC,GAKE1C,EALF0C,QACAC,GAIE3C,EAJF2C,QACAC,GAGE5C,EAHF4C,QACAC,GAEE7C,EAFF6C,OACAC,GACE9C,EADF8C,MAGWsF,GAAazH,OAAOf,KAAKyI,GAASxI,QAAO,SAACC,EAAKwI,GAC1D,IAAMjB,EAASgB,EAAQC,GAEvB,OADAxI,EAAIuH,EAAO9C,IAAM8C,EACVvH,IACN,IAEUoH,GAAQ,2BAChBC,IACAiB,IAGQG,GAAkB,CAC7B,CAACjG,IAAS,SACV,CAACC,IAAO,OACR,CAACC,IAAQ,QACT,CAACC,IAAS,SACV,CAACC,IAAU,UACX,CAACC,IAAU,UACX,CAACC,IAAU,UACX,CAACC,IAAS,SACV,CAACC,IAAQ,SCnCE0F,GAAS,GAEtBA,GAAO,GAAK,CACVC,gBAAiB1B,GAAiBxC,IAGpCiE,GAAO,GAAK,CACVC,gBAAiB1B,GAAkBxC,IAGrCiE,GAAO,GAAK,CACVC,gBAAiB1B,GAAiBxC,IAGpCiE,GAAO,GAAK,CACVC,gBAAiB1B,GAAkBxC,IAGrCiE,GAAO,GAAK,CACVC,gBAAiB1B,GAAgBxC,IAGnCiE,GAAO,GAAK,CACVE,yBAAyB,GAG3BF,GAAO,IAAM,CACXC,gBAAiB1B,GAAexC,IAGlCiE,GAAO,IAAM,CACXE,yBAAyB,GAG3BF,GAAO,IAAM,CACXC,gBAAiB1B,GAAiBxC,IAGpCiE,GAAO,IAAM,CACXC,gBAAiB1B,GAAgBxC,IAGnCiE,GAAO,IAAM,CACXC,gBAAiB1B,GAAkBxC,IAGrCiE,GAAO,IAAM,CACXC,gBAAiB1B,GAAgBxC,IAGnCiE,GAAO,IAAM,CACXC,gBAAiB1B,GAAiBxC,IAGpC,IAAK,IAAIoE,GAAI,EAAGA,GAAIH,GAAOI,OAAQD,KACjCH,GAAOG,IAAP,aAAcpE,GAAIoE,IAAMH,GAAOG,KAGjChI,OAAOD,OAAO8H,IAEP,IAAMK,GAAkBL,GAAO3I,QAAO,SAACC,EAAD,GAAmC,IAA3ByE,EAA0B,EAA1BA,GAAIkE,EAAsB,EAAtBA,gBAKvD,OAJIA,IACF3I,EAAI2I,GAAmBlE,GAGlBzE,IACN,IAEUgJ,GAAmBnI,OAAOoI,QAAQF,IAAiBhJ,QAC9D,SAACC,EAAD,GAA2B,IAAD,mBAAnB2H,EAAmB,KAExB,OADA3H,EADwB,MACX2H,EACN3H,IAET,I,mDCzDa,IAEb0E,GACAK,GACAF,GACAI,GACAE,GACAE,GACAE,GACAI,GACAF,GAGAI,GACAO,GACAJ,IChCa,IACb,OACA,QACA,UACA,UACA,aACA,SACA,WACA,aACA,eACA,YACA,cACA,aACA,YACA,SACA,QACA,aACA,aACA,UACA,YACA,YACA,WACA,UACA,SACA,SACA,aACA,SACA,MACA,OACA,aACA,QACA,aACA,QACA,aACA,WACA,cACA,aACA,YACA,SACA,aACA,SACA,UACA,SACA,OACA,UACA,QACA,OACA,SACA,SACA,SACA,YACA,QACA,aACA,SACA,QACA,WACA,QACA,YACA,QACA,SACA,SACA,QACA,OACA,YACA,YACA,YACA,SACA,WACA,OACA,UACA,cACA,SACA,QACA,UACA,SACA,SACA,WACA,YACA,QACA,QACA,cACA,SACA,UACA,UACA,aACA,UACA,YACA,WACA,YACA,SACA,aACA,OACA,YC7Fa,wPCmEFkD,GCnEE,ymBDmEFA,GEnEE,qPFwEFC,GAAe,CAC1B,cGzEa,6YH0EbpB,OI1Ea,iaJ2EbC,UK3Ea,ieL4EbJ,MM5Ea,iVN6EbS,OO7Ea,6aP8Eb,oBQ9Ea,yaR+EbH,aS/Ea,6bTgFbC,UUhFa,8dVmFFlB,GAAK,aAEhBrC,OWrFa,yaXsFb,iBYtFa,6RZuFb,cavFa,iWbwFbE,QcxFa,6XdyFb,kBezFa,iUf0Fb,egB1Fa,qXhB2FbE,QiB3Fa,icjB4Fb,kBkB5Fa,iSlB6Fb,emB7Fa,qPnB8FbE,KoB9Fa,6epB+Fb,eqB/Fa,qXrBgGb,YsBhGa,qatBiGbE,OuBjGa,yWvBkGb,iBwBlGa,iWxBmGb,cyBnGa,6RzBoGbE,M0BpGa,ib1BqGb,gB2BrGa,qV3BsGb,a4BtGa,yN5BuGbE,Q6BvGa,yY7BwGb,kB8BxGa,6V9ByGb,e+BzGa,6W/B0GbE,MgC1Ga,igBhC2Gb,gBiC3Ga,6SjC4Gb,akC5Ga,yQlC6GbE,OmC7Ga,yTnC8Gb,iBoC9Ga,qPpC+Gb,cqC/Ga,qPrCkHbC,WsClHa,yWtCmHbO,UuCnHa,6avCoHbJ,UwCpHa,yUxCuHb,WyCvHa,qmBzCwHb,kB0CxHa,6S1CyHb,S2CzHa,yU3C0Hb,S4C1Ha,qX5C2Hb,S6C3Ha,qY7C4Hb,iB8C5Ha,ya9C6Hb,iB+C7Ha,yd/C8Hb,iBgD9Ha,iehD+Hb,iBiD/Ha,6VjDiIb,gBkDjIa,0QlDmIVmD,IAGQC,GAAQ,CACnBC,ImDvIa,yWnDwIbC,OoDxIa,iUpDyIb,eqDzIa,0ZrD4IFC,GAAU,CACrBC,IAAK,CACHC,KsD9IW,qtBtD+IXC,MuD/IW,itBvDgJXC,MwDhJW,6tBxDiJXC,OyDjJW,itBzDkJXC,O0DlJW,6tB1DmJXC,Q2DnJW,q3B3DoJXC,M4DpJW,ypB5DqJXC,O6DrJW,+sBCsDP/G,GAAyB5C,GAAzB4C,KAAMC,GAAmB7C,GAAnB6C,QAAS+G,GAAU5J,GAAV4J,MAEjBC,GAAmBC,GAAcpK,QAAO,SAACC,EAAKmH,GAElD,OADAnH,EAAImH,EAAK1C,IAAM0C,EACRnH,IACN,IAEUoK,GAAe,SAAAC,GAAI,OAC9BA,EAAKC,KAAKC,MAAMD,KAAKE,UAAYH,EAAKvB,OAAS,MAO3C2B,GAAwB,SAAAC,GAAI,OAChCC,KAAKC,UACH,YAAIF,GAAMG,KAAI,SAAAC,GAAG,MAAoB,oBAARA,EAAqBA,EAAIC,WAAaD,OAUjEE,G,WASJ,aAAiE,IAAD,yDAAJ,GAAI,IAAlDC,iBAAkD,MvEjFrB,GuEiFqB,2BARhEC,MAAQ,GASNC,KAAKF,UAAYA,E,gDAGfhL,GACF,OAAOA,KAAOkL,KAAKD,Q,0BAGjBjL,GACF,OAAOkL,KAAKD,MAAMjL,K,0BAGhBA,EAAKgE,GACHpD,OAAOf,KAAKqL,KAAKD,OAAOpC,OAASqC,KAAKF,YACxCE,KAAKD,MAAQ,IAGfC,KAAKD,MAAMjL,GAAOgE,M,KAITmH,GAAU,SAACC,EAAI9M,GAAL,OACrB+M,KAAYD,EAAD,aACTH,MAAO,CAAEK,OAAQ,kBAAM,IAAIP,GAAazM,MACrCA,KAQMiN,GAAc,SAACC,EAAKC,EAAKC,GAAX,OACzBF,GAAOC,EAAMA,EAAMD,GAAOE,EAAMA,EAAMF,GAE3BG,GAAc,SAAAH,GAAG,OAAInB,KAAKC,MAAY,IAANkB,GAAa,KAQ7CI,GAAa,sCAAInB,EAAJ,yBAAIA,EAAJ,uBACxBA,EAAK3K,QAAO,SAAC2H,EAAK+D,GAAN,OAAe/D,EAAO4C,KAAKC,MAAY,IAANkB,KAAa,GAAK,KAW3DK,GAAc,SAAC7H,EAAOyH,EAAKC,EAAKI,EAASC,GAA3B,OAChB/H,EAAQyH,IAAQM,EAAUD,IAAaJ,EAAMD,GAAOK,GAE3CE,GAAiB,kBAC5B,IAAIC,MvEtH8B,IuEuH/BC,UAAKC,GACLvB,KAAI,kBAAM,IAAIqB,MvEzHgB,GuEyHWC,KAAK,UAMtCE,GAAc,SAAAC,GAAM,OAC/BC,aAAO,CAAEC,OAAQlC,KAAKC,MAAe,IAAT+B,KAAiBG,YAQzCC,GAAe,SAACJ,EAAQK,GAAT,OACnBJ,aAAO,CAAEC,OAAQlC,KAAKC,MAAe,IAAT+B,GAAeM,UAAW,IACnDC,iBAAiB,GACjBJ,SAASE,IAODG,GAAe,SAAAR,GAAM,OAAII,GAAaJ,EAAQ,SAM9CS,GAAgB,SAAAT,GAAM,OAAII,GAAaJ,EAAQ,QAMtDU,GAAmB,SAAArF,GAAM,OAAIP,GAASO,GAAQ1D,OAOvCgJ,GAAsB,SAAC,EAAQC,GAAT,IAAGzI,EAAH,EAAGA,GAAH,OACjC8H,aAAO,CACLC,OAAQlC,KAAKC,MAIiB,KAH3B2C,EAAiBzI,GACduI,GAAiBvI,IAChB2C,GAAS3C,GAAIN,mBAAqB+I,EAAiBzI,GAAM,GAC1DuI,GAAiBvI,KAEvBmI,UAAW,IACVO,UAOQC,GAAuB,SAACF,EAAkBvF,GAAnB,OAClCrB,SAAS4G,EAAiBvF,IAAW,GAAKP,GAASO,GAAQ1D,OAAOoJ,QAAQ,KAM/DC,GAAmB,SAAC,GAAD,IAAG7I,EAAH,EAAGA,GAAH,OAAYzG,QAAQkM,GAAiBzF,KAMxD8I,GAAiB,SAAC,GAAD,IAAG9I,EAAH,EAAGA,GAAH,OAAY2C,GAAS3C,GAAIR,MAAQ,GAkBlDuJ,GAA2B,SAAA7F,GAAM,MAAK,CACjDA,WAOW8F,GAAqB,SAAC,GAAD,IAAG9F,EAAH,EAAGA,OAAH,OAAgBP,GAASO,GAAQvD,MAMtDsJ,GAAsB,SAAAC,GAAI,OACrCA,GAAQF,GAAmBE,KAAUrN,GAAS8C,MAanCwK,GAAqB,SAAAzG,GAAI,OACpCnJ,QAR8B,SAAAmJ,GAAI,OAClCnJ,QAAQmJ,EAAK/C,OAAS9D,GAAS8C,OAAS+D,EAAKvD,WAQ3CiK,CAAiB1G,IACfA,EAAK/C,OAAS9D,GAASiD,MACvB4D,EAAK/C,OAAS9D,GAASkH,eAOhBsG,GAAY,SAAC,GAAD,IAAGnG,EAAH,EAAGA,OAAH,OACvBc,GAAgBrB,GAASO,GAAQzH,WAMtB6N,GAA2B3C,IAAQ,gBAAGzH,EAAH,EAAGA,cAAH,OAC9C9C,OAAOmD,OAAOL,GAAe5D,QAAO,SAACC,EAAKiE,GAAN,OAAgBjE,EAAMiE,IAAO,MAOtD+J,GAAoB5C,IAAQ,SAAAzH,GAAa,MACpD,CAACV,GAAMC,IAASnD,QACd,SAACC,EAAKiO,GAAN,OAAgBjO,EAAIkO,OAAOhC,MAAMvI,EAAcsK,IAAQ9B,KAAK8B,MAC5D,OAQSE,GAAmB,SAAC,GAAD,IAAGxG,EAAH,EAAGA,OAAQyG,EAAX,EAAWA,YAAX,OAC9BJ,GAAkB5G,GAASO,GAAQhE,eAAe2G,KAAK+D,MAAMD,KAC7DnE,IAEIqE,GAAgC,CACpC,CAACrL,IAAO,OACR,CAACC,IAAU,WA4CAqL,GAAmC,SAAAC,GAAU,OACxDpH,GAASoH,GAAY5K,WAMV6K,GAA+B,SAAC,GAAD,IAAGhK,EAAH,EAAGA,GAAH,OAC1C2C,GAASmH,GAAiC9J,KAO/BiK,GAAc,WAAmB,IAAlBC,EAAiB,uDAAP,GAC9BC,EAASD,EAAQC,QAAUxE,GAAavJ,OAAOmD,OAAOzD,KAEtDsO,EAAavE,KAAKC,MvE7Tc,MuE+TjCqE,IAAWrO,GAAQuO,KvE1TgB,IuE0ToB,GACxDnN,GACA,IAAA2I,KAAKE,UAGHuE,EAAQJ,EAAQI,OAAS3E,GAAavJ,OAAOmD,OAAOvD,KAE1D,OAAO,aACLoO,aACAE,QACAC,kBAAmB,CAAE,CAACD,IAAQ,GAC9BE,QAAS,EACTC,iBAAkB,EAClBN,SACAO,UAAW,EACXC,qBAAsB,EACtB3K,GAAI4K,eACJC,QAAQ,EACRC,uBAAuB,EACvB5K,KAAMyF,GAAaoF,IACnBC,iBAAkB,GACfd,IAmDMe,GAAiB,SAAC,GAA0B,IAAxBX,EAAuB,EAAvBA,MAAOI,EAAgB,EAAhBA,UACtC,GAAIJ,IAAUvO,GAAUmP,MACtB,OAAO3I,GAGT,IAAM4I,EAAeb,IAAUvO,GAAUE,QAEzC,OAAIyO,EAAY,EAAI,EACXS,EAAe/I,GAAeH,GAC5ByI,EAAY,EAAI,EAClBS,EAAe9I,GAAeH,GAGhCiJ,EAAe7I,GAAeH,IAO1BiJ,GAAiB,SAAArG,GAAG,OAC/BA,EAAIoF,SAAWrO,GAAQuP,OACnBhE,GACEtC,EAAIiG,iBvEnZiC,GACA,IAER,EACA,GuEqZ/BM,KAMOC,GAAe,SAAC,GAAD,IAAGnB,EAAH,EAAGA,WAAYY,EAAf,EAAeA,iBAAf,OAC1BnF,KAAKC,MAAMsE,EAAaY,IAMbQ,GAAc,SAAAzG,GAAG,OAC5BwG,GAAaxG,GACbgC,GACEM,GACEtC,EAAIyF,QACJ,EvElauC,IAED,IADA,OACA,MuE6atCiB,GAA0B9E,IAAQ,SAAA+E,GAAS,OAC/CA,EAAUpQ,QAAO,SAACC,EAAD,GAA4B,IAApByE,EAAmB,EAAnBA,GAAI2L,EAAe,EAAfA,SAE3B,OADApQ,EAAIyE,GAAM2L,EACHpQ,IACN,OAQQqQ,GAAmBjF,IAAQ,WAAkB+E,GAAe,IAA9B1I,EAA6B,EAA7BA,YACnC6I,EAAuBJ,GAAwBC,GAErD,OACE7F,KAAKoB,IAAL,MAAApB,KAAI,YACCzJ,OAAOf,KAAK2H,GAAaoD,KAAI,SAAAlD,GAAM,OACpC2C,KAAK+D,MAAMiC,EAAqB3I,GAAUF,EAAYE,UAErD,KAUI4I,GAAgB,SAAChJ,EAAQ4I,EAAWK,GAApB,OAC3BH,GAAiB9I,EAAQ4I,IAAcK,GAM5BC,GAAuB,SAAAC,GAAQ,OAC1CA,EAASC,QAAO,SAAAlM,GAAE,OAAI2C,GAAS3C,GAAIL,OAAS9D,GAAS8C,SAwB1CwN,GAAcxF,IACzB,SAACyF,EAAOhJ,GAAR,OAAsBgJ,EAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAID,KAAKjJ,OAAe,OAChE,CACEmJ,WAAYvG,KAyBHwG,IAfW7F,IACtB,SAACyF,EAAOK,GAAR,OACEL,EAAM9Q,QAAO,SAACC,EAAK+Q,GAGjB,OAFA/Q,EAAImR,KAAJ,MAAAnR,EAAG,YAAS+Q,EAAIJ,OAAOO,KAEhBlR,IACN,MACL,CACEgR,WAAYvG,KAOqB,kBAAMxM,OAAOmT,WAAatQ,KAEzDuQ,GAA2B,IAAIC,IAAI,CAAChR,GAASiD,OAE7CgO,GAA4BnG,IAAQ,SAAAoG,GAAO,OAC/CC,KAAOD,EAAS,CACd,SAAA/M,GAAE,OAAI6B,OAAOc,GAAS3C,GAAIL,OAAS9D,GAAS8C,OAC5C,SAAAqB,GAAO,IAAD,EACoB2C,GAAS3C,GAAzBL,EADJ,EACIA,KAAMH,EADV,EACUA,MACd,OAAOoN,GAAyBK,IAAItN,IAASH,EAAQA,QAS9C0N,GAAY,SAAA1K,GACvB,IAAM4D,EAAM,GAGZ,OAFA5D,EAAM2K,SAAQ,SAAAzK,GAAI,OAAK0D,EAAI1D,EAAK1C,IAAM0C,KAE/BoK,GAA0BtK,EAAM4D,KAAI,qBAAGpG,OAAcoG,KAAI,SAAApG,GAAE,OAAIoG,EAAIpG,OAO/DoN,GAAyBzG,IAAQ,SAAA+E,GAAS,OACrDA,EAAUpQ,QAAO,SAAC2H,EAAD,UAAuBA,EAAvB,EAAQ0I,WAA+B,MAO7C0B,GAA0B,SAAC,GAAD,IAAG3B,EAAH,EAAGA,UAAW4B,EAAd,EAAcA,eAAd,OACjB,IAApBA,EACIhC,IACAgC,EAAiBF,GAAuB1B,IAMjC6B,GAA2B,SAAC,GAAD,IAAG7B,EAAH,EAAGA,UAAW4B,EAAd,EAAcA,eAAd,OACtCD,GAAwB,CAAE3B,YAAW4B,mBAAoB,GAM9CE,GAAgC7G,IAAQ,SAAA+E,GAAS,OAC5DA,EAAU+B,MAAK,qBAAGzN,KAAgB3C,SAOvBqQ,GAAY/G,IACvB,SAAAgH,GAAS,OAAIvR,OAAOD,OAAO,IAAIsL,MAAMkG,GAAWjG,KAAK,SACrD,CACElB,UAAW,KASFoH,GAAcjH,IAAQ,SAACkH,EAAc7N,GAAf,OACjC6N,EAAaxB,MAAK,SAAAtH,GAAG,OAAI/E,IAAO+E,EAAI/E,SAOzB8N,GAAmBnH,IAAQ,SAAAtD,GAAS,OAC/CjH,OAAOoI,QAAQnB,GAAW/H,QACxB,SAAC2H,EAAD,0BAAOC,EAAP,KAAe6K,EAAf,YACE9K,GAAOkG,GAAmBxG,GAASO,IAAW6K,EAAa,KAC7D,MAQSC,GAAgB,SAAAF,GAAgB,OAC3CjI,KAAK+D,MAAM/D,KAAKoI,KAAKH,GAAoB,IAAM,GAcpCI,GAAuBvH,IAAQ,SAAAwH,GAC1C,IAAM5S,EAAM,CACV6S,evE7oBmC,EuE8oBnC5L,MAAO,IAgBT,OAZAyB,GAAOoI,MAAK,YAAuD,IAApDnI,EAAmD,EAAnDA,gBAAiBlE,EAAkC,EAAlCA,GAS9B,OATgE,EAA9BmE,yBAEhC5I,EAAI6S,iBAGFlK,IACF3I,EAAIiH,MAAM0B,IAAmB,GAGxBlE,IAAOmO,KAGT5S,KAOI8S,GAA2B1H,IAAQ,SAAA2H,GAAiB,OAC/D5I,GAAcwG,QACZ,gBAAGlM,EAAH,EAAGA,GAAH,QAEIsE,GAAgBiK,eAAevO,KAC9BsO,EAAkB9L,MAAM+L,eAAevO,UAoBnCwO,GAAiC,SAAAC,GAAK,OAAY,GAARA,GAO1CC,GAAwB,SAAAlU,GAAK,OACxCqD,GAAqBvC,QAAO,SAACC,EAAKC,GAOhC,MAJ0B,qBAAfhB,EAAMgB,KACfD,EAAIC,GAAOhB,EAAMgB,IAGZD,IACN,KAMQoT,GAAiB,SAAAC,GAAc,OAC1CA,EAAetT,QAAO,SAAC2H,EAAK4L,GAAN,OAAkBzH,GAAWnE,EAAK4L,KAAU,GvEvqBf,GuE0qB/CC,GAAkB,CACtB,CAAC/S,GAAUgT,MAAO,OAClB,CAAChT,GAAUmP,OAAQ,QACnB,CAACnP,GAAUiT,OAAQ,QACnB,CAACjT,GAAUkT,QAAS,SACpB,CAAClT,GAAUmT,QAAS,SACpB,CAACnT,GAAUE,SAAU,UACrB,CAACF,GAAUoT,OAAQ,QACnB,CAACpT,GAAUqT,QAAS,UAUTC,GAAY,SAACR,EAASS,GAAV,OAAqBlI,GAAWyH,EAASS,IAQrDC,GAAkB,SAC7BC,EACAC,EACAC,GAH6B,OAI1B7J,KAAKqB,IAAIsI,EAAuBH,GAAUI,EAAeC,KAQjDC,GAAyB,SACpCC,EACAC,EACAnE,GAHoC,OAKpCA,EAAUpQ,QAAO,SAACC,EAAD,GAA4C,IAApCyE,EAAmC,EAAnCA,GAAc8P,EAAqB,EAA/BnE,SACrBoE,EAAoBH,EAAwB5P,IAAO,EACnDgQ,EAAmBH,EAAgB7P,IAAO,EAEhD,OAAK2C,GAAS3C,GAAIN,oBAIdqQ,IAAsBD,IAEtBA,EAAiBC,GACjBD,EAAiBE,EAEjBzU,EAAIyE,IAAO,GAEX8P,EAAiBC,GACjBD,EAAiBE,KAEjBzU,EAAIyE,GAAM,IAIPzE,GAjBEA,IAkBR,KAMQ0U,GAAyB,SAAAzV,GACpC,IAAM0V,EAAc,eAAQ1V,GAG5B,MAFC,CAAC,WAAW2S,SAAQ,SAAAgD,GAAW,cAAWD,EAAeC,MAEnDD,GC70BD1R,GAAS5C,GAAT4C,KAEF4R,GAAW,SAAC5V,EAAO6V,GAAR,mBAAC,eACb7V,GADY,IAEf8V,MAAOlJ,GAAW5M,EAAM8V,MAAOD,MAG3BE,GAAsB5J,IAAQ,SAAA6J,GAAc,OAChDpU,OAAOmD,OAAOiR,GAAgBlV,QAC5B,SAAC2H,EAAKwN,GAAN,OAAwBxN,EAAMwN,IAC9B,MAIE1O,GAAUY,GAASvF,YAEnBsT,GAAe,CAClB,eAACL,EAAD,uDAAU,IAAV,MAAmB,CAClBrQ,GAAI,aACJE,KAAM,eACNmB,YAAa,6CACbsP,kBAAmBtI,GAAagI,GAChCjN,UAAW,SAAA5I,GAAK,OACd2R,GACE3R,EAAM4R,OACN,SAAAlD,GAAI,OAAID,GAAoBC,IAASQ,GAAiBR,KAAU1K,OAEpE6R,OAAQ,SAAA7V,GAAK,OAAI4V,GAAS5V,EAAO6V,KAVlC,GAaA,eAACA,EAAD,uDAAU,IAAV,MAAmB,CAClBrQ,GAAI,aACJE,KAAM,eACNmB,YAAa,iCACbsP,kBAAmBtI,GAAagI,GAChCjN,UAAW,SAAA5I,GAAK,OACd2R,GACE3R,EAAM4R,OACN,SAAAlD,GAAI,OAAID,GAAoBC,IAASA,EAAK0H,oBAE9CP,OAAQ,SAAA7V,GAAK,OAAI4V,GAAS5V,EAAO6V,KAVlC,GAaA,eAACA,EAAD,uDAAU,IAAV,MAAmB,CAClBrQ,GAAI,eACJE,KAAM,iBACNmB,YAAa,mCACbsP,kBAAmBtI,GAAagI,GAChCjN,UAAW,SAAA5I,GAAK,OAAI+V,GAAoB/V,EAAMgW,iBAAmB,GACjEH,OAAQ,SAAA7V,GAAK,OAAI4V,GAAS5V,EAAO6V,KANlC,GASA,eAACQ,EAAD,uDAAQ,IAAR,MAAmB,CAClB7Q,GAAI,0BACJE,KAAM,6BACNmB,YAAY,oDAAD,OAAsDgH,GAC/DwI,GADS,2HAGXF,kBAAmB,mBACnBvN,UAAW,SAAA5I,GAAK,OAAIA,EAAMqU,SAAWgC,GAKrCR,OAAQ,SAAA7V,GAAK,OAAIA,IAZlB,GAeA,eAAC6V,EAAD,uDAAU,GAAV,MAAkB,CACjBrQ,GAAI,mBACJE,KAAM,qBACNmB,YACE,sEACFsP,kBAAkB,GAAD,OAAKN,EAAL,qBAAwBtO,GAAQ7B,MACjDkD,UAAW,SAAA5I,GAAK,OAAIA,EAAMsW,gBAAkB,GAC5CT,OAAQ,SAAA7V,GAAK,OAAIuW,GAAmBvW,EAAOuH,GAASsO,KAPrD,GAUA,eAACA,EAAD,uDAAU,IAAV,MAAmB,CAClBrQ,GAAI,0BACJE,KAAM,sBACNmB,YAAa,+DACbsP,kBAAkB,GAAD,OAAKN,EAAL,qBAAwBtO,GAAQ7B,MACjDkD,UAAW,SAAA5I,GAAK,OACd4B,OAAOmD,OAAOvD,IAAmBgV,OAC/B,SAAA1G,GAAK,OAAI9P,EAAMyW,mBAAmB3G,GAAS,MAE/C+F,OAAQ,SAAA7V,GAAK,OAAIuW,GAAmBvW,EAAOuH,GAASsO,KATrD,GAYA,eAACQ,EAAD,uDAAQ,IAAMR,EAAd,uDAAuB,GAAvB,MAA+B,CAC9BrQ,GAAI,iBACJE,KAAK,iBAAD,OAAmBmI,GAAawI,IACpCxP,YAAY,QAAD,OAAUgH,GAAawI,GAAvB,+BACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwB1N,GAASvB,WAAWlB,MAC7DkD,UAAW,SAAA5I,GAAK,OACd+U,GACE/U,EAAMgV,sBACNhV,EAAMiV,cACNjV,EAAMkV,eACHmB,GACPR,OAAQ,SAAA7V,GAAK,OAAIuW,GAAmBvW,EAAOmI,GAASvB,WAAYiP,KAXjE,GAcA,eAACQ,EAAD,uDAAQ,KAAOR,EAAf,uDAAwB,GAAxB,MAAgC,CAC/BrQ,GAAI,iBACJE,KAAK,iBAAD,OAAmBmI,GAAawI,IACpCxP,YAAY,QAAD,OAAUgH,GAAawI,GAAvB,+BACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwB1N,GAAS,cAAczC,MAChEkD,UAAW,SAAA5I,GAAK,OACd+U,GACE/U,EAAMgV,sBACNhV,EAAMiV,cACNjV,EAAMkV,eACHmB,GACPR,OAAQ,SAAA7V,GAAK,OAAIuW,GAAmBvW,EAAOmI,GAAS,cAAe0N,KAXpE,GAcA,eAACQ,EAAD,uDAAQ,IAAOR,EAAf,uDAAwB,IAAxB,MAAiC,CAChCrQ,GAAI,iBACJE,KAAK,iBAAD,OAAmBmI,GAAawI,IACpCxP,YAAY,QAAD,OAAUgH,GAAawI,GAAvB,+BACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwB1N,GAAS,eAAezC,MACjEkD,UAAW,SAAA5I,GAAK,OACd+U,GACE/U,EAAMgV,sBACNhV,EAAMiV,cACNjV,EAAMkV,eACHmB,GACPR,OAAQ,SAAA7V,GAAK,OAAIuW,GAAmBvW,EAAOmI,GAAS,eAAgB0N,KAXrE,IAeYK,MC5IFQ,ID8IkBR,GAAapV,QAAO,SAACC,EAAK4V,GAGvD,OAFA5V,EAAI4V,EAAYnR,IAAMmR,EAEf5V,IACN,IClJqC,eAAC6V,EAAD,uDAAgB,GAAIC,EAApB,uDAAkC,GAAlC,OACtCjV,OAAOf,KAAKsH,IAAUrH,QAAO,SAACC,EAAKC,GAWjC,OAVImH,GAASnH,GAAKkE,qBACZ0R,EAAa5V,GACfD,EAAIC,GAAO,GACF6V,EAAY7V,GACrBD,EAAIC,GAAO,IAEXD,EAAIC,GAAOqK,KAAKE,SAAW,IAIxBxK,IACN,MCpBQ+V,GAAyB,kBAKzBC,GACX,sFAKWC,GACX,uICeWC,GAAiB,SAACC,EAAGC,GAChC,IAAIC,EAAO,8BAaX,OAVAxV,OAAOf,KAAKsW,GACTE,OACA1E,SACC,SAAA2E,GAAQ,OACLF,GAAO,cAAWD,EAAcG,GAAzB,YAAsCA,GAAtC,OACNH,EAAcG,GAAY,EAAI,IAAM,GAD9B,SAMPF,GAOIG,GAAwB,SAACL,EAAD,OAAMxR,EAAN,EAAMA,KAAN,gBAChCA,EADgC,kDASxB8R,GAAmB,SAACN,EAAGO,EAAYC,EAAYC,GAA5B,gBAC3BF,EAAW/R,KADgB,gBACJgS,EAAWhS,KADP,wBAC2BiS,EAAajS,KADxC,mCACuEiS,EAAajS,KADpF,MAcnBkS,GAAc,SAACV,EAAD,OAAMxR,EAAN,EAAMA,KAAN,gBACtBA,EADsB,iFAOdmS,GAAc,SAACX,EAAD,OAAMxR,EAAN,EAAMA,KAAN,gBACtBA,EADsB,wDAsBdoS,GAAiB,SAACZ,EAAGa,GAAJ,iEACwB3K,GAClD2K,GAF0B,MASjBC,GAA4B,SAACd,EAAGa,GAAJ,+CACL3K,GAAY2K,GADP,MAQ5BE,GAA4B,SAACf,EAAGgB,EAAUC,GACrD,IAAIC,EAAS,CAAC,uBAAD,OACYF,EADZ,uBAMPG,EAAc5O,GAAOyO,GAkB3B,OAhBInO,GAAiBmO,GACnBE,EAAOlG,KAAP,uCAEI/J,GAAS4B,GAAiBmO,IAAWxS,KAFzC,QAKS2S,GAAeA,EAAY1O,wBACpCyO,EAAOlG,KAAP,kCACSiG,GACTC,EAAOlG,KAAP,oBACe8B,GAA+BkE,GAD9C,qBAEIC,EAAezS,KAFnB,oBAOK0S,EAAOE,KAAK,MAORC,GAAoB,SAACrB,EAAGsB,GAAJ,oCAAoCA,EAApC,QAMpBC,GAAgC,SAACvB,EAAGwB,GAC/C,IAAMC,EAAoB,GACpBC,EAAoB,GAE1BhX,OAAOf,KAAK6X,GAAW/F,SAAQ,SAAAjK,GAAM,OAClCgQ,EAAUhQ,GAAU,EAAIiQ,EAAoBC,GAAmB1G,KAAKxJ,MAGvE,IAAM0P,EAAS,GAoBf,OAlBIO,EAAkB9O,SACpBuO,EAAOlG,KAAP,4BACAyG,EAAkBhG,SAAQ,SAAAjK,GAAM,OAC9B0P,EAAOlG,KAAP,cAAmB/J,GAASO,GAAQhD,WAIpCkT,EAAkB/O,SAChB8O,EAAkB9O,QACpBuO,EAAOlG,KAAK,IAGdkG,EAAOlG,KAAP,6BACA0G,EAAkBjG,SAAQ,SAAAjK,GAAM,OAC9B0P,EAAOlG,KAAP,cAAmB/J,GAASO,GAAQhD,WAIjC0S,EAAOE,KAAK,O,wzBCvFbxR,GAAqD5F,GAArD4F,UAAW+R,GAA0C3X,GAA1C2X,QAASzR,GAAiClG,GAAjCkG,cAAeJ,GAAkB9F,GAAlB8F,cACnCgE,GAAU5J,GAAV4J,MAYK8N,GAA0B,SAAArU,GAAI,OACzCA,GAAQ+J,GAAmB/J,KAAUpD,GAAS8C,KAA9C,2BAESM,GAFT,IAGMuL,QAASvL,EAAKuL,QAAU,EACxBb,YACE1K,EAAK0K,aACJ1K,EAAK2R,gBACF,GAAK3R,EAAKsU,a5E5FQ,G4E4F0B,GAC5C,KAERtU,GAOAuU,GAAwB,SAACC,EAAa7C,GAC1C,OAAoB,OAAhB6C,EACK,KAGFzK,GAAmByK,KAAiB5X,GAAS8C,KAA7C,2BACE8U,GADF,IACe7C,oBADf,eAEE6C,IAOEC,GAAgB,SAAAD,GAAW,OACtCD,GAAsBC,GAAa,IAMxBE,GAAkB,SAAAF,GAAW,OACxCD,GAAsBC,GAAa,IAQ/BG,GAAc,SAACxH,EAAOyH,GAAR,OAClBzH,EAAMhG,KAAI,SAACkG,EAAKwH,GAAN,OAAYxH,EAAIlG,KAAI,SAAC8C,EAAM6K,GAAP,OAAaF,EAAW3K,EAAM6K,EAAGD,UAQ3DE,GAAmB,SAACC,EAAkBzZ,GAAnB,OACvByZ,EAAiB3Y,QACf,SAACC,EAAD,0BAAO2Y,EAAP,KAAetN,EAAf,YAAwBf,KAAKE,UAAYmO,EAAStN,EAAGrL,GAAOA,IAC5Df,IAOS2Z,GAAiB,SAAA3Z,GAAK,OACjCwZ,GAAiB,CAAC,C5E9HgB,G4E8HOI,KAAsB5Z,IAMpD6Z,GAAe,SAAA7Z,GAAK,OAAIwZ,GAAiB,CAAC,CAAC,EAAGM,KAAc9Z,IAQ5D+Z,GAAmB,SAAC/Z,EAAOga,EAAYC,GAApB,MAAuC,CACrE,CAACA,GAAD,2BACKja,EAAMia,IADX,IAEE,CAACD,EAAWtR,QAASsR,MASZE,GAAiB,SAACla,EAAOma,GAKpC,IALkD,ILgiBdlG,EKhiBa,EACXjU,EAA9B6I,EADyC,EACzCA,UAAWuR,EAD8B,EAC9BA,eAIVxQ,EAHQ4J,GAAcF,GAAiBzK,IAGzBe,EAAIuQ,EAAUvQ,IAAK,CACxC,IAAMyO,EAAc5O,GAAOG,IAAM,GAE7BuO,OAAc,EAElB,GAAIvW,OAAOf,KAAKwX,GAAaxO,OAAS,ELshBJoK,EKrhBQrK,EAAxCuO,ELshBJhQ,GACEgD,GACEqG,GAAqB5P,OAAOf,KAAK6S,GAAqBO,GAAOjM,UKvhB7DhI,EAAQuW,GACNvW,EACAmY,EACAnE,GAA+BpK,SAM9B,GACHyO,GACAA,EAAY1O,yBACZyQ,IAAmB3X,GACnB,CAAC,IACOmR,EAAmBF,GACzBF,GAAcF,GAAiBzK,KADzB+K,eAIJA,EAAiB5T,EAAMiH,uBACzBjH,EAAK,2BACAA,GADA,IAEHiH,qBAAsB2M,KAK5B5T,EAAQqa,GACNra,EACAiY,GAFuB,KAEKrO,EAAIuO,GAChC,WAIJ,OAAOnY,GAOHsa,GAAmB,SAAAta,GAAK,kCACzBA,GADyB,IAE5Bua,2BAA4B,CAACva,EAAMiO,kBACnCA,iBAAkByI,GAChB1W,EAAM4W,aACN5W,EAAM6W,gBAQJ2D,GAAwB,SAAA9L,GAAI,OAAIA,GAAQA,EAAKhG,SAAWlG,IAMxDiY,GAAoB,SAAA7I,GAAK,OAAID,GAAYC,EAAO4I,KAYzCZ,GAAqB,SAAA5Z,GAAU,IAEtC0a,EADE9I,EAAU5R,EAAV4R,MA4BN,OAzBIvG,KAAKE,S5E9OiB,G4E+OpBkP,GAAkB7I,IACpB8I,EAAe,CACbtD,QFjSN,0DEkSMuD,SAAU,SAGZ/I,EAAQwH,GAAYxH,GAAO,SAAAlD,GAAI,OAC7B8L,GAAsB9L,GAAQ,KAAOA,MAGvCgM,EAAe,CAAEtD,QF3SM,kCE2SkBuD,SAAU,QAGrDD,EAAe,CAAEtD,QF/SO,0BE+SgBuD,SAAU,QAGpD3a,EAAK,2BACAA,GADA,IAEH4R,QACAgJ,oBAAoB,GAAD,mBAAM5a,EAAM4a,qBAAZ,CAAiCF,MAGtD1a,EAAQ6a,GAAW7a,IASR8Z,GAAa,SAAA9Z,GAAU,IAC1B4R,EAAU5R,EAAV4R,MACFgJ,EAAmB,YAAO5a,EAAM4a,qBAEhCE,EAAeL,GAAkB7I,GACnCA,EACAwH,GAAYxH,GAAO,SAAAqH,GACjB,IAAKA,GAAezK,GAAmByK,KAAiB5X,GAAS8C,KAC/D,OAAO8U,EAGT,ID/TyBxU,EC+TnBsW,EAAc1P,KAAKE,U5E3RN,G4EoSnB,OAPIwP,GACFH,EAAoB1I,KAAK,CACvBkF,SAAO,KDnUc3S,ECmUI0D,GAAS8Q,EAAYvQ,QDnU7B,gCAAsCjE,EAAKiB,KAA3C,MCoUjBiV,SAAU,UAIPI,EAAc,KAAO9B,KAGlC,OAAO,2BAAKjZ,GAAZ,IAAmB4R,MAAOkJ,EAAcF,yBAO7BI,GAAoB,SAAAhb,GAAU,IACjC4R,EAAqB5R,EAArB4R,MAAO/I,EAAc7I,EAAd6I,UACToS,EAAQ,IAAI/Y,IACdgZ,EAAa,YAAOtJ,GAEhBgC,EAAmBF,GACzBF,GAAcF,GAAiBzK,KADzB+K,eA2CR,OAvCAhC,EAAMe,SAAQ,SAACb,EAAKqJ,GAClBrJ,EAAIa,SAAQ,SAACjE,EAAM0M,GAAW,IAAD,EACtB1M,GAAQF,GAAmBE,KAAUrN,GAASmD,YAIlD,MACEyK,OADF,oBL5BuB,SAACoM,EAAWC,EAASC,GACjD,IAAMC,EAAa,EAAIH,EAAY,EAC7BI,EAAcH,EAAUD,EACxBK,EAAcH,EAAUF,EAE9B,OAAO,IAAIpO,MAAMuO,GACdtO,OACAtB,KAAI,SAACsL,EAAGoC,GAAJ,OACH,IAAIrM,MAAMuO,GACPtO,OACAtB,KAAI,SAACsL,EAAGqC,GAAJ,MAAW,CAAEA,EAAGkC,EAAclC,EAAGD,EAAGoC,EAAcpC,SKqBlDqC,CAAe/H,EAAgBwH,EAAOD,KAE1CxI,SAAQ,YAAe,IAAZ4G,EAAW,EAAXA,EAAGD,EAAQ,EAARA,EACPsC,EAAWhK,EAAM0H,GAEvB,GAAKsC,EAAL,CAIA,IAAM3C,EAAc2C,EAASrC,GAG3BN,GACAzK,GAAmByK,KAAiB5X,GAAS8C,OAExC8W,EAAMxI,IAAIwG,KACbiC,EAAgBW,GAAkB,2BAC3B7b,GAD0B,IACnB4R,MAAOsJ,IACnB3B,EACAD,EACAJ,IACAtH,OAGJqJ,EAAMa,IAAI7C,EAAa,CAAEM,IAAGD,iBAM/B,2BAAKtZ,GAAZ,IAAmB4R,MAAOsJ,KAOfa,GAAqB,SAAA/b,GAehC,IAdA,IAAMqT,EAAY,YAAOrT,EAAMqT,cACf2I,EAAuB3I,EAA/BxJ,OACF+Q,EAAmB,YAAO5a,EAAM4a,qBAClC1J,EAAS,YAAOlR,EAAMkR,WAEpB+K,EAA2B/K,EAAUgL,WACzC,qBAAG1W,KAAgB5C,MAGf2E,EAAU2J,EAAU+K,GACpB9K,EAAW5J,EAAUA,EAAQ4J,SAAW,EAE1CgL,EAAa,EAERvS,EAAI,EAAGA,EAAIoS,EAAoBpS,IAAK,CAC3C,IAAMW,EAAM8I,EAAazJ,GACnBwS,EAAiBD,EAAahL,EAEpCkC,EAAazJ,GAAb,2BACKW,GADL,IAEEiG,iBAAkBjE,GAChB6P,EACI7R,EAAIiG,iB5E1WkC,G4E2WtCjG,EAAIiG,iB5E3WkC,GACL,GACA,O4E+WrC4L,GACFD,IAWJ,OAPIhL,GAAYkC,EAAaxJ,QAC3B+Q,EAAoB1I,KAAK,CACvBkF,QF3aJ,kFE4aIuD,SAAU,UAIP0B,GAA2B,2BAC3Brc,GAD0B,IACnBqT,eAAcnC,YAAW0J,wBACrChY,GACAuZ,IAQSG,GAAsB,SAAAtc,GAIjC,IAHA,IAAM4a,EAAmB,YAAO5a,EAAM4a,qBAChC2B,EAAe,YAAOvc,EAAMqT,cAEzBzJ,EAAI,EAAGA,EAAI2S,EAAgB1S,OAAQD,IAAK,CAC/C,IAAMW,EAAMgS,EAAgB3S,G5E5Ya,K4EgZvCvC,OAAOkD,EAAIiG,iBAAiBpC,QAAQ,MAEpCpO,EAAQwc,GAAuBxc,EAAOuK,GAEtCqQ,EAAoB1I,KAAK,CACvBkF,QAASG,GAAF,KAA0BhN,GACjCoQ,SAAU,WAKhB,OAAO,2BAAK3a,GAAZ,IAAmB4a,yBAOR6B,GAAqB,SAAAzc,GAMhC,IALA,IAAMqT,EAAY,YAAOrT,EAAMqT,cACzBuH,EAAmB,YAAO5a,EAAM4a,qBACtBoB,EAAuB3I,EAA/BxJ,OACFsN,EAAgB,GAEbvN,EAAI,EAAGA,EAAIoS,EAAoBpS,IAAK,CAC3C,IAAMW,EAAM8I,EAAazJ,GAEzB,GAAIW,EAAI0F,iBAAmBW,GAAerG,GAAM,CAC9C8I,EAAazJ,GAAb,2BAAuBW,GAAvB,IAA4B0F,iBAAkB,IAE9C,IAAMyM,EAAOjM,GAAelG,GACpB7E,EAASgX,EAAThX,KAER,IAAKqN,GAAyB/S,GAC5B,MAGFmX,EAAczR,IAASyR,EAAczR,IAAS,GAAK,EACnD1F,EAAQuW,GAAmBvW,EAAO0c,IAWtC,OAPI9a,OAAOf,KAAKsW,GAAetN,QAC7B+Q,EAAoB1I,KAAK,CACvBkF,QAASH,GAAF,KAAmBE,GAC1BwD,SAAU,YAIP,2BAAK3a,GAAZ,IAAmBqT,eAAcuH,yBAUtBrE,GAAqB,SAACvW,EAAOkI,GAAuB,IAAjBqJ,EAAgB,uDAAN,EAChD/L,EAAO0C,EAAP1C,GACF0L,EAAS,YAAOlR,EAAMkR,WAEtByL,EAAqBtR,KAAKoB,IAAI8E,EAASsB,GAAwB7S,IAErE,GAA2B,IAAvB2c,EACF,OAAO3c,EAGT,IAAM4c,EAAkB1L,EAAUgL,WAAU,gBAAOxT,EAAP,EAAGlD,GAAH,OAAoBA,IAAOkD,KAEvE,IAAKkU,EAAiB,CACpB,IAAMC,EAAc3L,EAAU0L,GAE9B1L,EAAU0L,GAAV,2BACKC,GADL,IAEE1L,SAAU0L,EAAY1L,SAAWwL,SAGnCzL,EAAUgB,KAAK,CAAE1M,KAAI2L,SAAUwL,IAGjC,OAAO,2BAAK3c,GAAZ,IAAmBkR,eAGf4L,GAAe,SAAC/b,EAAKqL,GAAN,OAAaA,EAAGrL,IAC/Bgc,GAAgB,CAACjE,GAAyBK,IAM1C6D,GAAe,SAAAhd,GAAK,kCACrBA,GADqB,IAExB4R,MAAOwH,GAAYpZ,EAAM4R,OAAO,SAAAqH,GAAW,OACzC8D,GAAcjc,OAAOgc,GAAc7D,SAQ1BgE,GAAqB,SAAAjd,GAAU,IAExCkd,EAIEld,EAJFkd,eACA7J,EAGErT,EAHFqT,aACAuH,EAEE5a,EAFF4a,oBACAtE,EACEtW,EADFsW,gBAEM6G,EAAmBD,EAAnBC,OAAQC,EAAWF,EAAXE,OAEhB,IAAKA,EACH,OAAOpd,EAGT,IAAMqd,EAAOjK,GAAYC,EAAc8J,GACjCG,EAAOlK,GAAYC,EAAc+J,GAIvC,GAAIC,EAAK1N,SAAW2N,EAAK3N,OACvB,OAAO3P,EAGT,IAAMud,EACJF,EAAKnN,W5EhgBqC,I4EigB1CoN,EAAKpN,W5EjgBqC,G4EkgBtCgN,EAAeK,eAAiB,E5EngBC,E4EsgBjCC,EACJnK,EAAaxJ,OAASvH,GAAsBmb,IAAInH,GAAiB/T,MAC9C,IAAnBgb,EAEE5F,EAAe6F,GLpMe,SAACH,EAAMC,GACzC,GAAID,EAAK1N,SAAW2N,EAAK3N,OACvB,MAAM,IAAI+N,MAAJ,UACDhS,KAAKC,UAAU0R,GADd,YACuB3R,KAAKC,UAC9B2R,GAFE,gEAOR,IAAMK,EAAUN,EAAK1N,SAAWrO,GAAQuO,KAAOwN,EAAOC,EAChDM,EAAYP,EAAK1N,SAAWrO,GAAQuO,KAAOyN,EAAOD,EAClDtN,EAAiB,yBAErB,CAAC4N,EAAQ7N,QAAQ,EACjB,CAAC8N,EAAU9N,QAAQ,GAEhB6N,EAAQ5N,mBACR6N,EAAU7N,0BAGRA,EAAkBxO,GAAUE,SAEnC,IAAMkP,EACJ/O,OAAOf,KAAKkP,GAAmBlG,SAC/BjI,OAAOf,KAAKW,IAAmBqI,OAEjC,OAAO4F,GAAY,aACjBK,MAAOa,EACHpP,GAAUE,QACV0J,GAAa,CAACyS,EAAU9N,MAAO6N,EAAQ7N,QAC3CC,oBACAH,YAAa+N,EAAQ/N,WAAagO,EAAUhO,YAAc,EAC1DS,QAAQ,GACJM,GAAgB,CAAEhB,OAAQrO,GAAQuP,UKmKMgN,CAAqBR,EAAMC,GAEzE,OAAO,2BACFtd,GADL,IAEEqT,aAAcmK,EAAuB,sBAC7BnK,GAD6B,CACfsE,IAClBtE,EACJ6J,eAAe,2BACVA,GADS,IAEZK,eAAgBC,E5EnhBmB,E4EqhB/BD,IAEN3C,oBAAqBjD,EAAY,sBAExBiD,GAFwB,CAG3B,CACExD,QAASI,GAAF,KAAqB6F,EAAOC,EAAO3F,GAC1CgD,SAAU,aAGdC,KAQKkD,GAAgC,SAAA9d,GAAK,kCAC7CA,GAD6C,IAEhDqT,aAAcrT,EAAMqT,aAAazH,KAAI,SAAArB,GAAG,kCACnCA,GADmC,IAEtCyF,QAASzF,EAAIyF,QAAU,EACvBC,iBAAkB1F,EAAI0F,iBAAmB,EACzCC,UAAW7E,KAAKqB,IACd,EACAnC,EAAI+F,sBACAjF,KAAKoB,IACH,EACAlC,EAAI2F,UAAY,IAElB3F,EAAI2F,UAAYvN,IAEtBwN,qBAAsB5F,EAAI+F,sB5EtkBY,E4EwkBlC,EAIJA,sBAAuBvR,QAAQwL,EAAI+F,+BAQ1BuK,GAAa,SAAA7a,GAAK,kCAC1BA,GAD0B,IAE7B4R,MAAOwH,GAAYpZ,EAAM4R,MAAOsH,OAUrB2C,GAAoB,SAAC7b,EAAOuZ,EAAGD,EAAGD,GAAgB,IACrDzH,EAAU5R,EAAV4R,MACFE,EAAG,YAAOF,EAAM0H,IAChBL,EAAcI,EAAWvH,EAAIyH,IACnCzH,EAAIyH,GAAKN,EACT,IAAMiC,EAAa,YAAOtJ,GAG1B,OAFAsJ,EAAc5B,GAAKxH,EAEZ,2BAAK9R,GAAZ,IAAmB4R,MAAOsJ,KASf6C,GAAoB,SAAC/d,EAAOuZ,EAAGD,GAAX,OAC/BuC,GAAkB7b,EAAOuZ,EAAGD,GAAG,kBAAM,SAQ1B+C,GAA6B,SAACrc,EAAO0I,GAAyB,IAAjB6I,EAAgB,uDAAN,EAC5DL,EAAS,YAAOlR,EAAMkR,WACtB8M,EAAqB9M,EAAUgL,WAAU,qBAAG1W,KAAgBkD,KAElE,IAA4B,IAAxBsV,EACF,OAAOhe,EAL+D,IAQhEmR,EAAaD,EAAU8M,GAAvB7M,SAWR,OATIA,EAAWI,EACbL,EAAU8M,GAAV,2BACK9M,EAAU8M,IADf,IAEE7M,SAAUA,EAAWI,IAGvBL,EAAU+M,OAAOD,EAAoB,GAGhC,2BAAKhe,GAAZ,IAAmBkR,eAORgN,GAAyB,SAAAle,GACpC,IAAMme,EAAe,YAAOne,EAAMme,iBAE1BC,EAAkCpe,EAAlCoe,SAAUxD,EAAwB5a,EAAxB4a,oBAEZyD,EAAgB,CACpB5d,MAAO,GACP6d,KAAM,GACNC,QAAS,GACTC,QAAS,IAkBX,OAfA5D,EAAoBjI,SAAQ,gBAAGyE,EAAH,EAAGA,QAASuD,EAAZ,EAAYA,SAAZ,OAC1B0D,EAAc1D,GAAUzI,KAAKkF,MAG/BwD,EAAoB/Q,QAClBsU,EAAgBM,QAAQ,CACtBC,IAAKN,EACLC,kBAGJF,EAAgBtU,OAASwB,KAAKoB,IAC5B0R,EAAgBtU,O5EvpBiB,I4E2pB5B,2BAAK7J,GAAZ,IAAmBme,qBAORQ,GAAsB,SAAA3e,GACjC,IAGIga,ELnN+B4E,EKgN7BhI,EAAY,eAAQ5W,EAAM4W,cAC1BC,EAAW,eAAQ7W,EAAM6W,aAC3B+D,EAAmB,YAAO5a,EAAM4a,qBAGpC,GAAIvP,KAAKE,S5EtqBuB,G4EsqBQ,CAAC,IACxBsT,EAAkBnL,GAC/BF,GAAcF,GAAiBtT,EAAM6I,aAD/Bb,MAIF8W,GL1N2BF,EK2N/BpN,GAAqB5P,OAAOf,KAAKge,IL1NrC1W,GAASmH,GAAiCnE,GAAayT,MK4N7CpZ,EAAOsZ,EAAPtZ,GAGR,IAAKoR,EAAapR,KAAQqR,EAAYrR,GAAK,CACzC,IAAMuZ,EACJ1T,KAAKE,SAAW,GAAM,eAAiB,cAEzCyO,EAAaD,GACX/Z,EL9N4B,SAAA8e,GAAQ,MAAK,CAC/CpW,OAAQoW,EAAStZ,GACjBwZ,cACElQ,GAAyBgQ,GvE1dyB,G4EsrB9CG,CAAqBH,GACrBC,GAGFnE,EAAoB1I,KACC,iBAAnB6M,EACI,CACE3H,QAASQ,GAAF,KAAgBkH,GACvBnE,SAAU,WAEZ,CACEvD,QAASS,GAAF,KAAgBiH,GACvBnE,SAAU,aAMtB,OAAO,uCAAK3a,GAAUga,GAAtB,IAAkCY,yBAO9BsE,GAA0B,SAAAC,GAAW,OACzCvd,OAAOf,KAAKse,GAAare,QAAO,SAACC,EAAKC,GAAS,IAAD,EACVme,EAAYne,GAAtC0H,EADoC,EACpCA,OAAQsW,EAD4B,EAC5BA,cAMhB,OAJIA,EAAgB,IAClBje,EAAIC,GAAO,CAAE0H,SAAQsW,cAAeA,EAAgB,IAG/Cje,IACN,KAMQqe,GAAoB,SAAApf,GAAU,IACjC4W,EAA8B5W,EAA9B4W,aAAcC,EAAgB7W,EAAhB6W,YAEtB,OAAO,2BACF7W,GADL,IAEE4W,aAAcsI,GAAwBtI,GACtCC,YAAaqI,GAAwBrI,MAQ5BwI,GAAyB,SAAArf,GAAU,IAE5Csf,EAKEtf,EALFsf,oBACApK,EAIElV,EAJFkV,aACAD,EAGEjV,EAHFiV,cACAsK,EAEEvf,EAFFuf,wBACAC,EACExf,EADFwf,0BAGAC,EAGEzf,EAHFyf,sBACAC,EAEE1f,EAFF0f,uBACA1K,EACEhV,EADFgV,sBAGFyK,EAAwB,CAACvK,GAAD,mBAAkBuK,IAAuBE,MAC/D,E5E9uBiD,G4EkvBnDD,EAAyB,CAACzK,GAAD,mBAAmByK,IAAwBC,MAClE,E5EnvBiD,G4EuvBnD,IAAMC,EAAgBzL,GACpBsL,EAAsB7T,KAAI,SAACiU,EAAMjW,GAAP,OACxBgD,GAAW8S,EAAuB9V,GAAIiW,OAKpCC,EADqB7K,EAAgBC,EAAe,EAEtDoK,EAAsB,EACtB,EAEJ,OAAO,2BACFtf,GADL,IAEEyf,wBACAC,yBACAJ,oBAAqBQ,EACrBP,wBAAyBlU,KAAKqB,IAAI6S,EAAyBK,GAC3DJ,0BAA2BnU,KAAKqB,IAC9B8S,EACAM,GAEF9K,sBAAuB3J,KAAKqB,IAC1BsI,EACAH,GAAUI,EAAeC,IAE3BA,aAAc,EACdD,cAAe,KAQN8K,GAAmC,SAAA/f,GAAK,kCAChDA,GADgD,IAEnDqV,gBAAiB,GACjBD,wBAAyBpV,EAAMkR,UAAUpQ,QAAO,SAACC,EAAD,GAA4B,IAApByE,EAAmB,EAAnBA,GAAI2L,EAAe,EAAfA,SAE1D,OADApQ,EAAIyE,GAAM2L,EACHpQ,IACN,OAGQif,GAAoB,SAAAhgB,GAC/B,IAAM+X,EAAcnL,GAClB5M,EAAM+X,YACNpL,G5Ep3B8B,I4Eo3BlB3M,EAAM+X,cAGd6C,EACJ7C,EAAc,EAAd,sBAES/X,EAAM4a,qBAFf,CAGM,CACED,SAAU,UACVvD,QAASY,GAAF,KAA8BD,MAGzC/X,EAAM4a,oBAEZ,OAAO,2BACF5a,GADL,IAEE+X,cACA6C,yBAQSqF,GAAyB,SAACjgB,GAAD,IAAQkgB,EAAR,+DACnCA,EACG,GACA,CACEpC,GACAb,GACAD,GACAnD,GACAF,GACAqB,GACAe,GACAO,GACAG,GACA2C,GACAC,GACAU,GACApB,GACAqB,GACA9B,KAGHjP,OAAO,CAACqL,KACRxZ,QAAO,SAACC,EAAKqL,GAAN,OAAaA,EAAG,eAAKrL,MArB/B,YAAC,eAsBMf,GAtBP,IAuBImgB,WAAY1Q,KACZ2O,SAAUpe,EAAMoe,SAAW,EAC3BC,cAAe,GACf+B,wBAAyB,OASlBC,GAAe,SAACrgB,EAAOkI,GAAuB,IAAjBqJ,EAAgB,uDAAN,EAC1CuE,EAA6C9V,EAA7C8V,MAAOT,EAAsCrV,EAAtCqV,gBAAiBpH,EAAqBjO,EAArBiO,iBAC1B0O,EAAqBtR,KAAKoB,IAAI8E,EAASsB,GAAwB7S,IAErE,GAA2B,IAAvB2c,EACF,OAAO3c,EAGT,IAAMgF,EAAQmJ,GAAqBF,EAAkB/F,EAAK1C,IACpD8a,EAAatb,EAAQ2X,EAE3B,OAAI2D,EAAaxK,EACR9V,EAGFuW,GAAmB,2BAEnBvW,GAFkB,IAGrB8V,MAAOlJ,GAAWkJ,GAAQwK,GAC1BjL,gBAAgB,2BACXA,GADU,IAEb,CAACnN,EAAK1C,KAAM6P,EAAgBnN,EAAK1C,KAAO,GAAKmX,MAGjDzU,EACAyU,IASE4D,GAAa,SAACvgB,EAAOwgB,GAAkB,IACnC1K,EAAkC9V,EAAlC8V,MAAOzB,EAA2BrU,EAA3BqU,QAASY,EAAkBjV,EAAlBiV,cAExB,OAAO,2BACFjV,GADL,IAEE8V,MAAOlJ,GAAWkJ,EAAO0K,GACzBnM,QAASzH,GAAWyH,EAASmM,GAC7BvL,cAAerI,GAAWqI,EAAeuL,MAUhCC,GAAW,SAACzgB,EAAD,GAAiC,IAAvBwF,EAAsB,EAAtBA,GAAM+L,EAAgB,uDAAN,EAChD,GAAgB,IAAZA,EACF,OAAOvR,EAcT,IAXA,IAAMkI,EAAOC,GAAS3C,GALgC,EAMOxF,EAArD6I,EAN8C,EAM9CA,UAAkB6X,EAN4B,EAMnC5K,MAAqB7H,EANc,EAMdA,iBAClCkM,EAAW3G,GAAcF,GAAiBzK,IAPM,EAQhC7I,EAAhB+X,EARgD,EAQhDA,YAEA4I,EAAoBtS,GAAiBnG,GACvCoG,GAAepG,GACfiG,GAAqBF,EAAkBzI,GACrCob,EAAkBjS,GAAmBzG,GACvC2Y,EAAY,EAEPjX,EAAI,EAAGA,EAAI2H,EAAS3H,IAAK,CAChC,IAAMkX,EAAkBF,EACpBvV,KAAKoB,IACHsL,EACApL,GAAYgU,EAAoB5e,KAElC,EACEgf,EAAkBJ,EAAoBG,EAC5C/I,EAAcnL,GAAWmL,GAAc+I,GACvCD,EAAYjU,GAAWiU,EAAWE,GAGhCH,IACF5gB,EAAQghB,GAAWhhB,EAAO4M,GAAWmL,GAAc/X,EAAM+X,eAG3D,IAAMkJ,EAAY,2BAAQpY,GAAR,IAAmB,CAACrD,IAAMqD,EAAUrD,IAAO,GAAK+L,IAclE,OAVAvR,EAAQugB,GAAW,2BAAKvgB,GAAN,IAAa8V,MAAO4K,IAAgBG,GAEtD7gB,EAAK,2BACAA,GADA,IAEH6I,UAAWoY,IAGbjhB,EAAQka,GAAela,EAAOma,GAC9Bna,EAAQqc,GAA2Brc,EAAOwF,EAAI+L,GAEvC2P,GAAqBlhB,IAOjBkhB,GAAuB,SAAAlhB,GAAK,kCACpCA,GADoC,IAEvCmhB,eAAgBvf,OAAOf,KAAKwI,IAAYvI,QAAO,SAACC,EAAKqgB,GAKnD,OAJI/X,GAAW+X,GAAUxY,UAAU5I,KACjCe,EAAIqgB,IAAY,GAGXrgB,IACN,OASQsgB,GAAa,SAACrhB,EAAOsI,GAAyB,IAAjBiJ,EAAgB,uDAAN,EAClD,OAAKD,GAAchJ,EAAQtI,EAAMkR,UAAWK,IAI5CvR,EAAQ4B,OAAOf,KAAKyH,EAAOE,aAAa1H,QACtC,SAACd,EAAOshB,GAAR,OACEjF,GACErc,EACAshB,EACAhZ,EAAOE,YAAY8Y,GAAgB/P,KAEvCvR,GAGKuW,GAAmBvW,EAAOsI,EAAQiJ,IAbhCvR,GA0BEqa,GAAmB,SAC9Bra,EACAoX,GAGI,IAFJuD,EAEG,uDAFQ,OACX4G,EACG,4DADOpU,EAEFkR,EAAkBre,EAAlBqe,cAER,OAAO,2BACFre,GADL,IAGEqe,cAAeA,EAAcxM,MAC3B,SAAA6I,GAAY,OAAIA,EAAatD,UAAYA,KAEvCiH,EACAA,EAAcpP,OAAO,CAAEmI,UAASmK,UAAS5G,aAC7C6G,qBAAqB,KASZC,GAAc,SAACzhB,EAAOuK,GAAS,IAClC8I,EAA6DrT,EAA7DqT,aAAcoD,EAA+CzW,EAA/CyW,mBAAoBX,EAA2B9V,EAA3B8V,MAAOQ,EAAoBtW,EAApBsW,gBACzCxG,EAAUvF,EAAVuF,MAEF4R,EAAW1Q,GAAYzG,GAC7B,OACEuL,EAAQ4L,GACY,IAApBpL,GACAjD,EAAaxJ,QAAUvH,GAAsBmb,IAAInH,GAAiB/T,KAE3DvC,EAGF,2BACFA,GADL,IAEEqT,aAAa,GAAD,mBAAMA,GAAN,gBAAyB9I,KACrCkM,mBAAmB,2BACdA,GADa,IAEhB,CAAC3G,IAAS2G,EAAmB3G,IAAU,GAAK,IAE9CgG,MAAOlJ,GAAWkJ,GAAQ4L,GAC1BvB,WAAY1Q,QASHkS,GAAU,SAAC3hB,EAAOuK,GAAS,IAAD,EACTvK,EAApB4hB,EAD6B,EAC7BA,SAAU9L,EADmB,EACnBA,MACZ4L,EAAW1Q,GAAYzG,GAE7BvK,EAAQwc,GAAuBxc,EAAOuK,GAEtC,IAAMsX,EL/XqB,SAAC,GAAD,IAAG/R,EAAH,EAAGA,MAAH,gBAAkBwE,GAAgBxE,GAAlC,QK+XRgS,CAAcvX,GAG/BvK,EADEuK,EAAI8F,OACEkQ,GAAWvgB,EAAO0hB,GAErB,2BACA1hB,GADA,IAEH8V,MAAOlJ,GAAWkJ,EAAO4L,KAI7B,IAAMK,EAAW,2BACZH,GADY,IAEf,CAACC,IAAcD,EAASC,IAAe,GAAK,IAK9C,OAFA7hB,EAAK,2BAAQA,GAAR,IAAe4hB,SAAUG,KAUnBvF,GAAyB,SAACxc,EAAOuK,GAC5C,IAAM8I,EAAY,YAAOrT,EAAMqT,cACvB/C,EAA0B/F,EAA1B+F,sBAUR,OARA+C,EAAa4K,OAAO5K,EAAa2O,QAAQzX,GAAM,GAE3C+F,IACFtQ,EAAQuW,GAAmBvW,EAAOmI,GAAStF,qBAG7C7C,EAAQiiB,GAA6BjiB,EAAOuK,GAAK,GAE1C,2BAAKvK,GAAZ,IAAmBqT,kBAUR6O,GAAY,SAACliB,EAAOmiB,EAAO/V,GACtC,IAAMiH,EAAY,YAAOrT,EAAMqT,cACzB9I,EAAM8I,EAAaxB,MAAK,qBAAGrM,KAAgB2c,KAC3CC,EAAW/O,EAAa2O,QAAQzX,GAOtC,OALA8I,EAAa+O,GAAb,2BACK7X,GACA6B,EAAG7B,IAGD,2BACFvK,GADL,IAEEqT,kBAUSgP,GAA6B,SAACriB,EAAOuK,EAAK+X,GACrD,OACGA,IAAuBtP,GAA8BhT,EAAMkR,YAG5DnS,QAAQwL,EAAI+F,yBAA2BgS,EAEhCtiB,GAGTA,EAAQkiB,GAAUliB,EAAOuK,EAAI/E,IAAI,SAAA+E,GAAG,kCAC/BA,GAD+B,IAElC+F,sBAAuBgS,OAGzBtiB,EAAQsiB,EACJjG,GAA2Brc,EAAO6C,IAClC0T,GAAmBvW,EAAOmI,GAAStF,sBAY5Bof,GAA+B,SAACjiB,EAAOuK,EAAKgY,GAAW,IAC1DrF,EAAmBld,EAAnBkd,eACAC,EAAmBD,EAAnBC,OAAQC,EAAWF,EAAXE,OACVoF,EAAuB,OAAXrF,GAA8B,OAAXC,EAC/BqF,EAAatF,IAAW5S,EAAI/E,IAAM4X,IAAW7S,EAAI/E,GACnDkd,EAAiB,eAAQxF,GAE7B,GAAIqF,EAAO,CACT,GAAIC,GAAaC,EACf,OAAOziB,EAGT,IAAMmiB,EAAmB,OAAXhF,EAAkB,SAAW,SAC3CuF,EAAiB,2BAAQA,GAAR,IAA2B,CAACP,GAAQ5X,EAAI/E,SACpD,CACL,IAAKid,EACH,OAAOziB,EAGLmd,IAAW5S,EAAI/E,KACjBkd,EAAiB,2BACZA,GADY,IAEfvF,OAAQuF,EAAkBtF,UAI9BsF,EAAiB,2BAAQA,GAAR,IAA2BtF,OAAQ,OAGtD,OAAO,2BACFpd,GADL,IAEEkd,eAAe,2BACVwF,GADS,IAEZnF,e5E5sCmC,O4EwtC5BoF,GAAc,SAAC3iB,EAAOuZ,EAAGD,EAAGsJ,GACvC,IACGA,IACA5iB,EAAMkR,UAAU+B,MAAK,qBAAGzN,KAAgBod,KAEzC,OAAO5iB,EALkD,IASrD8R,EADY9R,EAAV4R,MACU0H,GACZuJ,EAAkBvT,GAAiCsT,GAEzD,OAAI9Q,EAAIyH,GAECvZ,GAGTA,EAAQ6b,GAAkB7b,EAAOuZ,EAAGD,GAAG,kBLrlCR5Q,EKslCXma,ELtlCiB,2BAClCtU,GAAyB7F,IADS,IAErCsH,QAAS,EACTb,YAAa,EACb4J,cAAc,EACd3C,iBAAiB,IALc,IAAA1N,KKylC/B1I,EAAQqc,GAA2Brc,EAAO4iB,GAC1C5iB,EAAQgb,GAAkBhb,GAEnB,2BACFA,GADL,IAEEoa,eAAgBpa,EAAMkR,UAAUW,MAAK,qBAAGrM,KAAgBod,KACpDA,EACA,OAUKE,GAAgB,SAAC9iB,EAAOuZ,EAAGD,GAAO,IAGvC7U,EAFYzE,EAAV4R,MACU0H,GACDC,GAEXwJ,EAAsB/iB,EAAMkR,UAAUW,MAC1C,SAAA3J,GAAI,OAAIA,EAAK1C,KAAOxD,MAGtB,IACGyC,IACAse,GACDvU,GAAmB/J,KAAUpD,GAAS8C,OAChB,IAAtBM,EAAKsU,aAEL,OAAO/Y,EAfmC,IAkB1BgjB,EAA8BD,EAAxC5R,SACRnR,EAAQqc,GAA2Brc,EAAOgC,IAC1C,IAAMihB,EAAsBD,EAA4B,EAOxD,OALAhjB,EAAQ6b,GAAkB7b,EAAOuZ,EAAGD,GAAG,SAAA7U,GAAI,kCACtCA,GADsC,IAEzCsU,cAAc,OAGT,2BACF/Y,GADL,IAEEkB,UAAW+hB,EAAsBnc,GAAY+R,GAC7CuB,eAAgB6I,EAAsBjhB,GAAqB,MAUlDkhB,GAAe,SAACljB,EAAOuZ,EAAGD,GAKrC,GAAa,OAJKtZ,EAAV4R,MACW0H,GAAGC,GAIpB,OAAOvZ,EAKT,IAAMmjB,GAFNnjB,EAAQqc,GAA2Brc,EAAOyC,KAETyO,UAAU+B,MACzC,SAAA/K,GAAI,OAAIA,EAAK1C,KAAO/C,MAStB,OANAzC,EAAQ6b,GAAkB7b,EAAOuZ,EAAGD,GAAG,kBACrC/K,GAAyB9L,OAG3BzC,EAAQgb,GAAkBhb,GAEnB,2BACFA,GADL,IAEEkB,UAAWiiB,EAAqBnc,GAAgB6R,GAChDuB,eAAgB+I,EAAqB1gB,GAAoB,MAUhD2gB,GAAe,SAACpjB,EAAOuZ,EAAGD,GAIrC,GAAa,OAHAtZ,EAAM4R,MAAM0H,GAAGC,GAI1B,OAAOvZ,EAKT,IAAMqjB,GAFNrjB,EAAQqc,GAA2Brc,EAAOwC,KAET0O,UAAU+B,MACzC,SAAA/K,GAAI,OAAIA,EAAK1C,KAAOhD,MAOtB,OAJAxC,EAAQ6b,GAAkB7b,EAAOuZ,EAAGD,GAAG,kBACrC/K,GAAyB/L,OAGpB,2BACFxC,GADL,IAEEkB,UAAWmiB,EAAqBjc,GAAgByR,GAChDuB,eAAgBiJ,EAAqB7gB,GAAoB,MAUhD8gB,GAAc,SAACtjB,EAAOuZ,EAAGD,GACpC,IACM7U,EADMzE,EAAM4R,MAAM0H,GACPC,GAEjB,IACG9U,GACD+J,GAAmB/J,KAAUpD,GAAS8C,MACtC+K,GAAiBzK,KAAUuG,KAC1B+H,GAAyB/S,GAE1B,OAAOA,EAGT,IAAMkI,EAAOC,GAAS1D,EAAKiE,QAC3B1I,EAAQ+d,GAAkB/d,EAAOuZ,EAAGD,GACpCtZ,EAAQuW,GAAmBvW,EAAOkI,GAfQ,IAgBlCjH,EAAaiH,EAAbjH,SAEA+U,EAAmBhW,EAAnBgW,eAER,OAAO,2BACFhW,GADL,IAEEgW,eAAe,2BACVA,GADS,IAEZ,CAAC/U,IAAY+U,EAAe/U,IAAa,GAAK,OAWvCsiB,GAAY,SAACvjB,EAAOuZ,EAAGD,GAClC,IAAML,EAAcjZ,EAAM4R,MAAM0H,GAAGC,GAEnC,IAAKN,EACH,OAAOjZ,EAGT,IAAMkI,EAAOC,GAAS8Q,EAAYvQ,QAElC,OAAIR,EAAKhB,gBAAkB6L,GAAyB/S,GAC3CA,GAGTA,EAAQ+d,GAAkB/d,EAAOuZ,EAAGD,GAE7BpR,EAAKhB,cAAgBqP,GAAmBvW,EAAOkI,GAAQlI,IAQnDwjB,GAAgB,SAACxjB,EAAOyjB,GAAa,IACxC7R,EAAiC5R,EAAjC4R,MAAOkE,EAA0B9V,EAA1B8V,MACf,GADyC9V,EAAnB0jB,gBACAD,EACpB,OAAOzjB,EAHsC,MAMdiC,GAAyBwb,IAAIgG,GAAtDthB,EANuC,EAMvCA,QAASE,EAN8B,EAM9BA,MAAOD,EANuB,EAMvBA,KAExB,MAAO,CACLshB,eAAgBD,EAChB7R,MAAOsB,GAAU9Q,GAAMwJ,KAAI,SAACsL,EAAGpF,GAAJ,OACzBoB,GAAU/Q,GAASyJ,KACjB,SAACsL,EAAGyM,GAAJ,OAAgB/R,EAAME,IAAQF,EAAME,GAAK6R,IAAY,WAGzD7N,MAAOlJ,GAAWkJ,GAAQzT,KAUjBuhB,GAAY,SAAC5jB,EAAOuZ,EAAGD,GAClC,IAAML,EAAcjZ,EAAM4R,MAAM0H,GAAGC,GAEnC,OAAKN,GAAezK,GAAmByK,KAAiB5X,GAAS8C,KAI1D0X,GAAkB7b,EAAOuZ,EAAGD,GAAG,SAAA7U,GAAI,kCACrCA,GADqC,IAExC2R,iBAAiB,OALVpW,GAaE6jB,GAAgB,SAAA7jB,GAAK,OAAI6a,GAAW7a,IAOpC8jB,GAAiB,SAAC9jB,EAAO+jB,GAAc,IAC1CjO,EAA2B9V,EAA3B8V,MAER,OAFmC9V,EAApBsW,iBAEQyN,EACd/jB,EAGF,CACLsW,gBAAiByN,EACjBjO,MAAOlJ,GAAWkJ,GAAQxT,GAAsBmb,IAAIsG,GAAU1hB,SAQrD2hB,GAA2B,SAAAhkB,GAAU,IACxC8V,EAA0B9V,EAA1B8V,MAAOhD,EAAmB9S,EAAnB8S,eAEf,OAAIgD,EAAQ1S,KAA+C,IAApB0P,EAC9B9S,EAGF,2BACFA,GADL,IAEE8S,eAAgBA,E5E39CoB,I4E49CpCgD,MAAOlJ,GAAWkJ,GAAO,QAShBmO,GAAS,SAACjkB,EAAOmiB,GAAR,OACpBD,GAAUliB,EAAOmiB,GAAO,SAAA5X,GAAG,OACzBA,EAAI4F,sB5ExgDkC,E4EygDlC5F,EACA,CACE2F,UAAW7E,KAAKoB,IAAI,EAAGlC,EAAI2F,UAAYvN,IACvCwN,qBAAsB5F,EAAI4F,qBAAuB,OAU9C+T,GAAgB,SAAClkB,EAAOmiB,EAAOgC,GAAf,OAC3BjC,GAAUliB,EAAOmiB,GAAO,iBAAO,CAC7Bzc,KAAMye,EAAQxE,MAAM,E5E7hDc,S4EqiDzByE,GAAY,SAACpkB,EAAD,OAAUwF,EAAV,EAAUA,GAAV,mBAAC,eAAwBxF,GAAzB,IAAgCqkB,cAAe7e,KAO3D8e,GAAqB,SAACtkB,EAAOukB,GAAR,OAChCrO,GAAapV,QAAO,SAACd,EAAO2W,GAoB1B,OAlBG3W,EAAMwkB,sBAAsB7N,EAAYnR,KACzCmR,EAAY/N,UAAU5I,EAAOukB,KAE7BvkB,EAAK,2BACA2W,EAAYd,OAAO7V,IADnB,IAEHwkB,sBAAsB,2BACjBxkB,EAAMwkB,uBADU,IAEnB,CAAC7N,EAAYnR,KAAK,MAItBxF,EAAQqa,GACNra,EDniD6B,SAACkX,EAAD,OAAMxR,EAAN,EAAMA,KAAMyQ,EAAZ,EAAYA,kBAAZ,8BAClBzQ,EADkB,wCAGvByQ,GCiiDNsO,CAFuB,KAEC9N,GACxB,YAIG3W,IACNA,IAQQghB,GAAa,SAAChhB,EAAO0kB,GAChC,IAAM3M,EAAcnL,GAAW5M,EAAM+X,YAAa2M,GAC5C5O,EAAQlJ,GAAW5M,EAAM8V,MAAO4O,GAYtC,OAVoB,IAAhB3M,GAAqB2M,EAAmB,EAC1C1kB,EAAQqa,GAAiBra,GAAA,KD/iDF,4DC+iDwB,WACtC0kB,EAAmB,IAE5B1kB,EAAK,2BACAqa,GAAiBra,EAAO8X,GAAP,KAAwBC,GAAe,SADxD,IAEH4M,cAAe3kB,EAAM2kB,cAAgB,KAIlC,2BACF3kB,GADL,IAEE+X,cACAjC,WAaS8O,GAAW,SACtB5kB,EACA6kB,EACAC,EACA1J,EACAD,GAEG,IACH,IAAM4J,EAAS1Z,KAAKqB,IAAI0O,EAAQ0J,EAAa,GACvCE,EAAO3Z,KAAKoB,IAAI2O,EAAQ0J,EAAa9kB,EAAM4R,MAAM,GAAG/H,OAAS,GAC7Dob,EAAS5Z,KAAKqB,IAAIyO,EAAQ2J,EAAa,GACvCI,EAAO7Z,KAAKoB,IAAI0O,EAAQ2J,EAAa9kB,EAAM4R,MAAM/H,OAAS,GAJ7D,mBADA4B,EACA,iCADAA,EACA,kBAMH,IAAK,IAAI6N,EAAI2L,EAAQ3L,GAAK4L,EAAM5L,IAC9B,IAAK,IAAIC,EAAIwL,EAAQxL,GAAKyL,EAAMzL,IAC9BvZ,EAAQ6kB,EAAO,WAAP,GAAQ7kB,EAAOuZ,EAAGD,GAAlB,OAAwB7N,IAIpC,OAAOzL,GC9pDPmlB,GAOEjkB,GAPFikB,QACAre,GAME5F,GANF4F,UACAse,GAKElkB,GALFkkB,QACA/f,GAIEnE,GAJFmE,MACA+B,GAGElG,GAHFkG,cACAJ,GAEE9F,GAFF8F,cACAqe,GACEnkB,GADFmkB,MAGIC,GAAqB,CAACH,GAASC,GAASC,IAE/B,IAKbE,wBAAwBrd,GAAoB,IAAdqJ,EAAa,uDAAH,EACtCrF,KAAKmU,aAAanY,EAAMqJ,IAO1BiU,sBAAsBld,GAAsB,IAAdiJ,EAAa,uDAAH,EACtCrF,KAAKmV,WAAW/Y,EAAQiJ,IAM1BkU,uBAAuBlb,GACrB2B,KAAKuV,YAAYlX,IAMnBmb,mBAAmBnb,GACjB2B,KAAKyV,QAAQpX,IAOfob,4BAA4B,EAAyBpb,GAAM,IAAnBqb,EAAkB,EAA5BC,OAAUD,QACtC1Z,KAAKmW,2BAA2B9X,EAAKqb,IAOvCE,qBAAqB,EAAyBvb,GAAM,IAAnBqb,EAAkB,EAA5BC,OAAUD,QAC/B1Z,KAAK+V,6BAA6B1X,EAAKqb,IAMzCG,kBAAkBxb,GAChB2B,KAAK+X,OAAO1Z,EAAI/E,KAOlBwgB,yBAAyB,EAAuBzb,GAAM,IAAjBvF,EAAgB,EAA1B6gB,OAAU7gB,MACnCkH,KAAKgY,cAAc3Z,EAAI/E,GAAIR,IAO7BihB,oBAAoB/d,GAAoB,IAAdqJ,EAAa,uDAAH,EAClCrF,KAAKuU,SAASvY,EAAMqJ,IAMtB2U,iBAAiB,GAAwB,IAAZlhB,EAAW,EAArB6gB,OAAU7gB,MAC3BkH,KAAKia,SAAS,CAAEC,WAAYphB,KAM9BqhB,4BAA4BD,GAC1Bla,KAAKia,SAAS,CAAEC,gBAMlBE,sBAAsBplB,GACpBgL,KAAKia,UAAS,gBAAG/L,EAAH,EAAGA,eAAH,MAAyB,CACrCA,eACElZ,IAAcmE,IAASigB,GAAmBiB,SAASrlB,GAC/C,GACAkZ,EACNlZ,iBAOJslB,sBAAsB,GAIlB,IAHFhhB,EAGC,EAHDA,GACAJ,EAEC,EAFDA,iBACsBqhB,EACrB,EADDxf,qBAEAiF,KAAKia,UAAS,YAA0C,IAAvClf,EAAsC,EAAtCA,qBAAsB4B,EAAgB,EAAhBA,UAarC,OAXE5B,EADEzB,IAAO/C,GACciR,GACrBF,GAAcF,GAAiBzK,KAC/B+K,eAImC,kBAA5B6S,EACHA,EACAxf,EAGD,CACL/F,UAAWkE,EACX6B,uBACAmT,eAAgB5U,OAStBkhB,gBAAgBnN,EAAGD,GAAI,IAAD,EAKhBpN,KAAKlM,MAHPkB,EAFkB,EAElBA,UACsB4jB,EAHJ,EAGlB7d,qBACAmT,EAJkB,EAIlBA,eAGElZ,IAAcmE,GAChB6G,KAAK0Y,SAASjC,GAAamC,EAAavL,EAAGD,EAAGc,GACrClZ,IAAckkB,GACvBlZ,KAAK0Y,SAAStB,GAAawB,EAAavL,EAAGD,GAClCpY,IAAcikB,GACvBjZ,KAAK0Y,SAASrB,GAAWuB,EAAavL,EAAGD,GAChCpY,IAAcmkB,GACvBnZ,KAAK0Y,SAAShB,GAAWkB,EAAavL,EAAGD,GAChCpY,IAAc4F,GACvBoF,KAAK0Y,SAAS9B,GAAegC,EAAavL,EAAGD,GACpCpY,IAAc8F,GACvBkF,KAAKgX,aAAa3J,EAAGD,GACZpY,IAAckG,IACvB8E,KAAKkX,aAAa7J,EAAGD,IAOzBqN,6BAA6BC,GAC3B1a,KAAKia,UAAS,iBAAO,CAAElf,qBAAsB2f,OAG/CC,0BACE3a,KAAK4a,eAILC,SAASC,cAAcC,QAMzBC,oBAAoB3Z,GAClBrB,KAAKia,UAAS,gBAAGrQ,EAAH,EAAGA,MAAH,MAAgB,CAAEA,MAAOlJ,GAAWkJ,EAAOvI,QAG3D4Z,gCACEjb,KAAKkb,sBAGPC,2BACEnb,KAAK2X,cAAc3X,KAAKlM,QAM1BsnB,oBAAoB7D,GAClBvX,KAAKsX,cAAcC,IAMrB8D,qBAAqBxD,GACnB7X,KAAK4X,eAAeC,IAGtByD,iCACEtb,KAAK8X,4BAMPyD,mBAAkC,IAAjBC,EAAgB,uDAAN,KACzBxb,KAAKia,UAAS,gBAAGwB,EAAH,EAAGA,WAAH,MAAqB,CACjCA,WAAwB,OAAZD,GAAoBC,EAAaD,OAIjDE,4BACE1b,KAAK2b,iBAGPC,gCACE5b,KAAK6b,qBAMPC,gBAAgBzd,GACd2B,KAAKkY,UAAU7Z,IAMjB0d,eAAe1d,GACb2B,KAAKkY,UAAU7Z,GACf2B,KAAK+X,OAAO1Z,EAAI/E,KAGlB0iB,wBAAwBC,EAAQC,GACf,cAAXA,GAIJlc,KAAKia,UAAS,iBAAO,CAAE3E,qBAAqB,OAG9C6G,0BACEnc,KAAKia,UAAS,iBAAO,CAAE3E,qBAAqB,OAG9C8G,2BAA4B,IAAD,EAC0Bpc,KAAKlM,MAAhDqe,EADiB,EACjBA,cAAe+B,EADE,EACFA,wBACvBlU,KAAKia,SAAS,CACZ9H,cAAe,GACf+B,wBAAwB,GAAD,mBAAM/B,GAAN,YAAwB+B,OAOnDmI,4BAA4B7mB,GAC1BwK,KAAKsc,eAAe9mB,IAGtB+mB,wBACEvc,KAAKwc,mBAGPC,yBACEzc,KAAKia,SAAS,CAAEyC,kBAAmBlnB,GAAWmnB,QAMhDC,6BAA6BC,GAC3B7c,KAAK8U,YAAY+H,IAMnBC,6BAA6BC,GAC3B/c,KAAK8U,WAAWiI,IAGlBC,wBACE,IAAMC,EAAO,IAAIC,KACf,CAAC1d,KAAKC,UAAUuI,GAAsBhI,KAAKlM,OAAQ,KAAM,IACzD,CACEmF,KAAM,mCAIVkkB,iBAAOF,EAAM,kBAMfG,sBAAsB,GAAS,IAAD,OAAPC,EAAO,oBACnBC,EADmB,YACXD,EADW,MAEtBE,EAAa,IAAIC,WAEvBD,EAAWE,iBAAiB,WAAW,SAAAC,GACrC,IAAK,IACaC,EAASD,EAAEE,WAAnBC,OACF/pB,EAAQkU,GAAsBxI,KAAKse,MAAMH,IAE/C,GACEjoB,OAAOf,KAAKb,GAAOiT,MACjB,SAAAjS,GAAG,cAAW,EAAKhB,MAAMgB,YAAgBhB,EAAMgB,MAGjD,MAAM,IAAI0c,MHpViB,mCGuV7B,EAAKyI,SAAS1Q,GAAuBzV,IACrC,EAAKqa,iBAAiB,eAAgB,WACtC,MAAOuP,GACP1pB,QAAQO,MAAMmpB,GACd,EAAKvP,iBAAiBuP,EAAExS,QAAS,aAIrCqS,EAAWQ,WAAWT,EAAK7J,UAGvBuK,wBAAyB,IAAD,kIACtB,EAAKC,eADiB,OAE5B,EAAK9P,iBAAiBvD,GAAwB,QAFlB,8CAQ9BsT,qBAAqBC,GACnBne,KAAKia,SAAS,CAAEkE,cAGlBC,6CACEC,EACAC,GAEAte,KAAKia,SAAS,CAAEqE,sCAGlBC,yBAAyBF,EAAIG,GACtBA,GACHxe,KAAKmO,iBHjX8B,mBGiXc,QAFd,IAK7B7B,EAAStM,KAAKlM,MAAdwY,KAERtM,KAAKia,UAAS,iBAAO,CACnBwE,SAAUD,EAAQ,kBAAcE,mBAAmBpS,IAAU,SAIjEqS,iBAAiBrS,GACftM,KAAKia,UAAS,iBAAO,CACnBwE,SAAS,WAAD,OAAaC,mBAAmBpS,EAAKsS,QAAUxnB,W,+CC/XvDynB,I,OAAe,SAAC,GAAe,IAAbjV,EAAY,EAAZA,MAChBkV,EAAY,qBADgB,EAEUC,mBAASnV,GAFnB,mBAE3BoV,EAF2B,KAEXC,EAFW,OAGAF,mBAASD,GAHT,mBAG3BI,EAH2B,KAGhBC,EAHgB,OAIQJ,mBAASnV,GAJjB,mBAI3BwV,EAJ2B,KAIZC,EAJY,OAKcN,qBALd,mBAK3BO,EAL2B,KAKTC,EALS,KAyClC,OAlCAC,qBAAU,WACRH,EAAiBzV,KAChB,CAACA,EAAOyV,IAEXG,qBAAU,WACR,GAAI5V,IAAUwV,EAAe,CACvBE,GACFA,EAAiBG,SAGnB,IAAMC,EAAYC,iBAAM,CACtBC,OAAQ,cACRC,SAAU,IACVC,OAAQ,YAAuB,IAApBlc,EAAmB,EAAnBA,MAAOgG,EAAY,EAAZA,MAChBuV,EAAavb,GACbqb,EAAkBrV,IAEpBmW,KAAM,CACJnc,MAAOgG,EAAQwV,EAAgB,iBAAmB,iBAClDxV,MAAOwV,GAETY,GAAI,CAAEpc,MAAOkb,EAAWlV,WAG1B2V,EAAoBG,GAGtB,OAAO,WACDJ,GACFA,EAAiBG,YAGpB,CAACH,EAAkB1V,EAAOwV,IAG3B,yBACM,CACFa,MAAO,CACLrc,MAAOsb,IAIVhe,GAAY8d,MAKNkB,GAAS,SAAC,GAAD,IAAGtW,EAAH,EAAGA,MAAOuW,EAAV,EAAUA,UAAV,OACpB,kBAAC,KACK,CACFC,UAAW,SACXC,SAAU,SAGZ,kBAACC,GAAA,EACK,CACFF,UAAW,WAGb,kBAACG,GAAA,EACK,CACFH,UAAW,eACXI,QAAS,MAGVL,GAEH,kBAACI,GAAA,EACK,CACFH,UAAW,gBACXI,QAAS,MAGX,kBAAC,GAAiB,CAAE5W,cAWb,SAAS6W,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAiBD,GAAcC,GAAaF,O,kSCjGvCG,I,OAAU,SAAC,GAAD,IAAG5O,EAAH,EAAGA,gBAAiBiC,EAApB,EAAoBA,wBAApB,OACrB,yBAAKkM,UAAU,kCACb,qCACA,4BACGlM,EAAwBxU,KAAI,gBAAGwL,EAAH,EAAGA,QAASmK,EAAZ,EAAYA,QAAS5G,EAArB,EAAqBA,SAArB,OAC3B,uBAAQ,CAAE3Z,IAAKoW,GACb,kBAAC4V,GAAA,EAAU,CAAEC,UAAW,EAAG1L,UAAS5G,YAClC,kBAAC,KAAkB,CAAEuS,OAAQ9V,UAKrC,kBAAC+V,GAAA,EAAD,MACA,4BACGhP,EAAgBvS,KAAI,WAAyBhC,GAAzB,IAAG8U,EAAH,EAAGA,IAAKL,EAAR,EAAQA,cAAR,OACnB,wBAAIrd,IAAG,UAAK4I,EAAL,YAAUyU,EAAcC,KAAKhG,SAClC,mCAASoG,GACR,CAAC,UAAW,OAAQ,UAAW,SAAS9S,KAAI,SAAC+O,EAAU/Q,GAAX,OAC3CyU,EAAc1D,GAAU9Q,OACtB,kBAACmjB,GAAA,EAAU,CAAEC,UAAW,EAAGjsB,IAAI,GAAD,OAAK2Z,EAAL,YAAiB/Q,GAAK+Q,YACjD0D,EAAc1D,GAAU/O,KAAI,SAACwL,EAASgW,GAAV,OAC3B,kBAAC,KACK,CAAEpsB,IAAI,GAAD,OAAKosB,EAAL,YAAUhW,GAAW8V,OAAQ9V,QAI1C,gBAaD,SAASuV,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAkBD,GAAcC,GAAaF,O,+FC/C/CS,I,OAAmB,SAAAhgB,GAAM,gBAAOA,KA8CvBigB,GA5CQ,SAAC,GAA8C,IAA5CjgB,EAA2C,EAA3CA,OAA2C,IAAnCkgB,iBAAmC,MAAvBF,GAAuB,IACrBpC,mBAAS5d,GADY,mBAC5DmgB,EAD4D,KAC3CC,EAD2C,OAEvBxC,mBAAS5d,GAFc,mBAE5DqgB,EAF4D,KAE5CC,EAF4C,OAGnB1C,qBAHmB,mBAG5DO,EAH4D,KAG1CC,EAH0C,KAoCnE,OA/BAC,qBAAU,WACRiC,EAAkBtgB,KACjB,CAACA,EAAQsgB,IAEZjC,qBAAU,WACR,GAAIre,IAAWqgB,EAAgB,CACzBlC,GACFA,EAAiBG,SAGnB,IAAMC,EAAYC,iBAAM,CACtBC,OAAQ,cACRC,SAAU,IACVC,OAAQ,YAAiB,IAAd3e,EAAa,EAAbA,OACTogB,EAAmBpgB,IAErB4e,KAAM,CACJ5e,OAAQqgB,GAEVxB,GAAI,CAAE7e,YAGRoe,EAAoBG,GAGtB,OAAO,WACDJ,GACFA,EAAiBG,YAGpB,CAACH,EAAkBne,EAAQqgB,IACvB,0BAAMpB,UAAU,kBAAkBiB,EAAUC,KC9B/CI,I,OAAuB,SAAC,GAAD,EAAGC,SAAH,EAAaphB,IAAb,IAAkBC,EAAlB,EAAkBA,IAAKohB,EAAvB,EAAuBA,SAAa7oB,EAApC,0DAC3B,kBAAC,KAAD,eACE8oB,iBAAe,EACfC,mBAAiB,GAFnB,2BAIO/oB,GAJP,IAKIgpB,eAAe,EACfC,aAAc,EACdC,cAAe,oBAAGC,kBAAH,MAAgB,EAAhB,SACbN,EAASziB,KAAKoB,IAAI2hB,EAAY1hB,WAKhC2hB,GAAoB,SAAC,GAAD,IACxBC,EADwB,EACxBA,aACAC,EAFwB,EAExBA,mBACAC,EAHwB,EAGxBA,YACAxpB,EAJwB,EAIxBA,MAJwB,OAMxB,kBAACypB,GAAA,EACK,CACFzpB,QACA0pB,WAAY,CACVC,QAAS,SACTliB,IAAK,EACLC,IAAK8hB,GAEPV,SAAUS,EAEVK,QAAS,YAEO,KAFQ,EAAZC,OAGRP,KAIJQ,WAAY,CACVC,eAAgBnB,OAsDToB,GAhDO,SAAC,GAAD,IACpBV,EADoB,EACpBA,aACAC,EAFoB,EAEpBA,mBACAC,EAHoB,EAGpBA,YACAS,EAJoB,EAIpBA,YACAjqB,EALoB,EAKpBA,MALoB,OAOpB,yBAAKsnB,UAAU,iBACb,kBAAC,GACK,CAAEgC,eAAcC,qBAAoBC,cAAaxpB,UAEvD,0BAAMsnB,UAAU,YAAhB,IACI,IACF,kBAAC,GAAmB,CAAEjf,OAAQmhB,EAAajB,UAAWzf,MAExD,yBAAKwe,UAAU,2BACb,kBAAC4C,EAAA,EACK,CACF,aAAc,YACdpf,MAAO,UACPyR,QAAS,kBAAM0N,IAAcjqB,EAAQwpB,EAAc,EAAIxpB,IACvDmqB,KAAM,SAGR,kBAAC,KAAD,OAEF,kBAACD,EAAA,EACK,CACF,aAAc,YACdpf,MAAO,UACPyR,QAAS,kBAAM0N,EAAwB,MAAVjqB,EAAcwpB,EAAcxpB,IACzDmqB,KAAM,SAGR,kBAAC,KAAD,UC7DFC,I,OAAO,cAEPC,GAAiB,SAAC,GAAD,IAAGC,EAAH,EAAGA,UAAH,OACrB,kBAACC,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAAM,GAAD,OAAKJ,EAAY,OAAS,OAA1B,iBAGNA,EACC,kBAAC,KAAD,CAAmBxf,MAAM,UAEzB,kBAAC,KAAD,CAAiBA,MAAM,cAKvB6f,GAAyB,SAAC,GAAD,IAC7BnqB,EAD6B,EAC7BA,GACAR,EAF6B,EAE7BA,MACAiJ,EAH6B,EAG7BA,iBAH6B,IAK7BqhB,iBAL6B,MAKjBtqB,EAAQmD,GAAS3C,GAAIR,MALJ,SAO7B,kBAAC,GACK,CACFQ,KACA8pB,YACAtqB,QACAiJ,sBAKA2hB,GAAqB,SAAC,GAAD,IACzBpqB,EADyB,EACzBA,GACAR,EAFyB,EAEzBA,MACAiJ,EAHyB,EAGzBA,iBAHyB,IAKzBqhB,iBALyB,MAKbtqB,EAAQmD,GAAS3C,GAAIR,MALR,SAOzB,kBAAC,GACK,CACFQ,KACA8pB,YACAtqB,QACAiJ,sBAKO4hB,GAAO,SAAC,GAqCd,IApCLrL,EAoCI,EApCJA,sBACAe,EAmCI,EAnCJA,wBACAiB,EAkCI,EAlCJA,sBACAP,EAiCI,EAjCJA,oBACA1L,EAgCI,EAhCJA,2BACArJ,EA+BI,EA/BJA,UACA4B,EA8BI,EA9BJA,eACAgd,EA6BI,EA7BJA,eACAC,EA4BI,EA5BJA,aACAC,EA2BI,EA3BJA,WACAC,EA0BI,EA1BJA,WACA/nB,EAyBI,EAzBJA,KAyBI,IAxBJA,KAAQrB,EAwBJ,EAxBIA,YAAa3B,EAwBjB,EAxBiBA,mBAAoBM,EAwBrC,EAxBqCA,GAAI0B,EAwBzC,EAxByCA,cAAexB,EAwBxD,EAxBwDA,KAC5DoQ,EAuBI,EAvBJA,MACAoa,EAsBI,EAtBJA,0BACAC,EAqBI,EArBJA,aACAliB,EAoBI,EApBJA,iBAoBI,IAjBJmiB,qBAiBI,MAjBYH,GAAc5hB,GAAiBnG,GAC3CoG,GAAepG,GACf8F,GAAoB9F,EAAM+F,GAe1B,MAbJoiB,gCAaI,MAbwBJ,GAAc5hB,GAAiBnG,IACrB,IAAtCqS,EAA2B1Q,SAC1B3E,EACG,KACA8I,GAAoB9F,EAAMqS,EAA2B,IASrD,MAPJ+V,oCAOI,MAP2BjlB,KAAKqB,IAClC,EACArB,KAAKoB,IACHpB,KAAK+D,MAAM0G,EAAQsa,GACnBvd,GAAwB,CAAE3B,YAAW4B,qBAGrC,IAC4CmY,mBAAS,GADrD,mBACGzV,EADH,KACqB+a,EADrB,OAEoCtF,mBAAS,GAF7C,mBAEGuF,EAFH,KAEiBC,EAFjB,KAIJ/E,qBAAU,WAGR6E,EACEllB,KAAKoB,IAAI6jB,EAA8BjlB,KAAKqB,IAAI,EAAG8I,OAEpD,CAAC8a,EAA8B9a,IAElCkW,qBAAU,WACR+E,EAAgBplB,KAAKoB,IAAIyjB,EAA0B1qB,GAAKgrB,MACvD,CAAChrB,EAAI0qB,EAA2BM,IAEnC,IAAME,EAAqB,WACzBnL,EAAwBrd,EAAMsN,GAC9B+a,EAAoBllB,KAAKoB,IAAI,EAAG6jB,KAE5BK,EAAiB,WACrB1K,EAAoB/d,EAAMsoB,GAC1BC,EAAgBplB,KAAKoB,IAAI,EAAGyjB,EAA0B1qB,MAGxD,OACE,kBAACorB,GAAA,EACK,CACFtE,UAAWuE,IAAW,OAAQ,CAC5B,gBAAiBd,EACjB,cAAeC,IAEjBzO,QAASwO,EAAe,kBAAMvJ,EAAsBte,IAAQknB,GAC5D0B,OAAQd,GAGV,kBAACe,GAAA,EACK,CACFC,OAAQ,sCAAS,CAAEC,IAAKjpB,GAAMxC,IAAtB,CAA6B0rB,IAAKxrB,KAC1CgqB,MAAOhqB,EACPyrB,UACE,6BACGrB,GACC,2BACE,kBAACP,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAC+B,OAA7BW,EACI,GADJ,6BAE0BjjB,GACpBijB,KAIV,uCACS,IACP,kBAAC,GACK,CAAEhjB,OAAQ+iB,EAAe7C,UAAWngB,OAI7CoX,EAAsB,4BACrBvW,EAAiBzI,IACf,kBAAC,GACK,CAAEA,KAAIR,MAAOorB,EAAeniB,sBAKzCgiB,GACC,2BACE,kBAACV,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAC+B,OAA7BW,EACI,GADJ,kCAE+BjjB,GACzBijB,KAIV,4CACc,IACZ,kBAAC,GACK,CAAEhjB,OAAQ+iB,EAAe7C,UAAWngB,OAI7CoX,EAAsB,4BACrBvW,EAAiBzI,IACf,kBAAC,GACK,CAAEA,KAAIR,MAAOorB,EAAeniB,sBAKzCkiB,GACC,2BACE,iDAA+B,IAC/B,kBAAC,GACK,CACF9iB,OAAQ6iB,EAA0B1qB,GAClC+nB,UAAWzf,MAKlBgiB,GAAkB5nB,EAAKvD,WACtB,6CACkB,IACfmK,GAAyBU,GAA6BtH,QAOlE4nB,IAAmBjpB,GAAeK,IACjC,kBAACkqB,GAAA,EAAD,KACGvqB,GAAe,kBAAC4lB,GAAA,EAAD,KAAa5lB,GAC5BK,GACC,kBAACulB,GAAA,EAAe,CAAE3c,MAAO,iBAAzB,sHAON,kBAACuhB,GAAA,EAAD,KACGtB,GACC,kBAACuB,GAAA,EACK,CAGFhF,UAAW,SACXxc,MAAO,UACP4c,QAASsD,EAAa,YAAc,YANxC,UAYDF,GACC,oCACE,kBAACwB,GAAA,EACK,CACFhF,UAAW,WACXxc,MAAO,UACPyhB,SACuB,IAArB/b,GACA4a,EAAgB5a,EAAmBM,EACrCyL,QAASmP,EACThE,QAAS,aARb,OAaA,kBAAC,GACK,CACF4B,aAAcoC,EACdnC,mBAAoBgC,EACpB/B,YAAa8B,EACbrB,YAAasB,EACbvrB,MAAOwQ,KAKdya,GACC,oCACE,kBAACqB,GAAA,EACK,CACFhF,UAAW,OACXxc,MAAO,YACPyhB,SAA2B,IAAjBf,EACVjP,QAASoP,EACTjE,QAAS,aANb,QAWA,kBAAC,GACK,CACF4B,aAAcqC,EACdpC,mBAAoBkC,EACpBjC,YAAa0B,EAA0B1qB,GACvCypB,YAAawB,EACbzrB,MAAOwrB,QA8BR,SAAS7D,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAeD,GAAcC,GAAaF,O,WC/U5C4E,GAAiB,SAAC,GAAD,IAAG5a,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,YAAjB,OACrB,yBAAKyV,UAAU,kBACb,4CACA,wBAAIA,UAAU,aACX1qB,OAAOf,KAAKgW,GAAajL,KAAI,SAAAlD,GAAM,OAClC,uBAAQ,CAAE1H,IAAK0H,GACb,kBAAC,GACK,CACFunB,YAAY,EACZ/nB,KAAMC,GAASO,GACfynB,cAAc,SAMxB,kBAAChD,GAAA,EAAD,MACA,6CACA,wBAAIb,UAAU,aACX1qB,OAAOf,KAAK+V,GAAchL,KAAI,SAAAlD,GAAM,OACnC,uBAAQ,CAAE1H,IAAK0H,GACb,kBAAC,GACK,CACFR,KAAMC,GAASO,YAcd,SAASikB,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAyBD,GAAcC,GAAaF,O,kCC7CtD6E,I,OAAkB,WA8DTC,GA3DK,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAAc,EACe1G,mBAAS,GADxB,mBAC5B2G,EAD4B,KACTC,EADS,OAES5G,mBAASwG,IAFlB,mBAE5BK,EAF4B,KAEZC,EAFY,OAGa9G,qBAHb,mBAG5BO,EAH4B,KAGVC,EAHU,KAmCnC,OA9BAC,qBAAU,WACR,IAAKF,EAAkB,CACrB,IAAMI,EAAYC,iBAAM,CACtBmG,MAAO,IACPlG,OAAQ,gBACRC,SAAU,KACVE,KAAM,CAAEgG,eAAgB,GACxB/F,GAAI,CAAE+F,eAAgBN,GACtB3F,OAAQ,YAAyB,IAAtBiG,EAAqB,EAArBA,eACTJ,EAAqBI,EAAe7jB,QAAQ,IAC5C2jB,EACEG,uBACE,CAAEpiB,MAAO2hB,IACT,CAAE3hB,MApBM,WAqBRmiB,EAAiB,KACjBniB,UAKR2b,EAAoBG,GAGtB,OAAO,WACDJ,GACFA,EAAiBG,YAGpB,CAACH,EAAkBmG,IAGpB,yBAAKrF,UAAU,eACb,wBAAS,CAAEA,UAAW,oBACpB,wBACM,CACFA,UAAW,WACXH,MAAO,CACLgG,WAAYL,EACZM,MAAM,GAAD,OAAKR,EAAL,SAKb,2BACE,8BAAOA,EAAP,Q,qBC7CFS,I,OAAc,SAAC,GAAD,QAClB1b,YAAe9P,EADG,EACHA,YAAarB,EADV,EACUA,GAAIE,EADd,EACcA,KAAMyQ,EADpB,EACoBA,kBACtCqO,EAFkB,EAElBA,sBAFkB,IAIlB8N,kBAJkB,MAILvzB,QAAQylB,EAAsBhf,IAJzB,SAMlB,kBAACorB,GAAA,EACK,CAAEtE,UAAWuE,IAAW,cAAe,CAAE,cAAeyB,KAE5D,kBAACvB,GAAA,EACK,CACFC,OAAQsB,EAAa,kBAAC,KAAD,MAA6B,kBAAC,KAAD,MAClD5C,MAAOhqB,EACPyrB,UAAW,sCAAYhb,KAG3B,kBAACib,GAAA,EAAD,KACE,2BAAIvqB,OAWK,SAAS8lB,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAsBD,GAAcC,GAAaF,O,WC9BnD2F,GAAwBpmB,IAAQ,SAAAqY,GAAqB,OACzDtO,GAAapV,QACX,SAACC,EAAK4V,GAKJ,OAJA5V,EACEyjB,EAAsB7N,EAAYnR,IAAM,WAAa,cACrD0M,KAAKyE,GAEA5V,IAET,CAAEyxB,SAAU,GAAIC,WAAY,QAI1BC,GAAmB,SAAC,GAAD,IAAGxc,EAAH,EAAGA,aAAH,OACvB,kBAACyc,GAAA,EAAD,KACE,wBAAIrG,UAAU,aACXpW,EAAatK,KAAI,SAAA+K,GAAW,OAC3B,uBAAQ,CAAE3V,IAAK2V,EAAYnR,IACzB,kBAAC,GAAgB,CAAEmR,uBAOvBic,GAAmB,SAAC,GAAD,IACvBpO,EADuB,EACvBA,sBADuB,IAEvBqO,wBAA2BL,GAFJ,aAE6BD,GAClD/N,GAHqB,GAEIgO,SAAUC,EAFd,EAEcA,WAFd,OAMvB,yBAAKnG,UAAU,oBACb,kBAAC,GACK,CAAEqF,QAAUa,EAAS3oB,OAASqM,GAAarM,OAAU,MAE1D2oB,EAAS3oB,OACR,oCACE,kBAACipB,GAAA,EAAmB,CAAEC,iBAAiB,GACrC,kBAACC,GAAA,EAAD,KACE,0CAEF,kBAAC,GAAqB,CAAE9c,aAAcsc,KAExC,kBAACrF,GAAA,EAAD,OAEA,KACJ,kBAAC2F,GAAA,EAAmB,CAAEC,iBAAiB,GACrC,kBAACC,GAAA,EAAD,KACE,8CAEF,kBAAC,GAAqB,CAAE9c,aAAcuc,OAS7B,SAAS9F,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAA2BD,GAAcC,GAAaF,O,gEClDxDqG,I,OAAgB,SAAArG,GAAK,OACzB,kBAACsG,GAAA,EAAD,2BAAgBtG,GAAhB,IAAuBK,UAAW,IAAML,EAAMuG,YAG1CC,GAAY,SAAC,GAAD,IhB2pBkCC,EgB1pBlDhJ,EADgB,EAChBA,SACA5K,EAFgB,EAEhBA,sBACAC,EAHgB,EAGhBA,uBACA7W,EAJgB,EAIhBA,UACA8b,EALgB,EAKhBA,cACArF,EANgB,EAMhBA,oBACAC,EAPgB,EAOhBA,wBACAC,EARgB,EAQhBA,0BACAxK,EATgB,EAShBA,sBACAX,EAVgB,EAUhBA,QACAa,EAXgB,EAWhBA,aACAD,EAZgB,EAYhBA,cAZgB,IAchBqe,6BAdgB,MAcQhgB,GAAiBzK,GAdzB,MAehB0qB,oBAfgB,MAeD/f,GAAc8f,GAfb,SAiBhB,yBAAKhH,UAAU,aACb,kBAACkH,GAAA,EAAmB,CAAEC,UAAWR,IAC/B,kBAACS,GAAA,EAAD,CAAOC,aAAW,gBAChB,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,aAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SAAS3J,EAA1B,UAEF,kBAACwJ,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,gBAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SAASlmB,GAAcylB,KAE1C,kBAAChE,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAAO3Y,IAGT,kBAAC8c,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,sBAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SACdlmB,GAAcwlB,MAIrB,kBAAC/D,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAAO3Y,IAGT,kBAAC8c,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,+BAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SACdlmB,IhB8lBmCulB,EgB7lBGE,EAAe,EhB6lBP,SACxC,IAAnBF,EAAc,GAAY,GgB7lBVC,OAKV,kBAACO,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,mBAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SAASlmB,GAAc6W,QAKhD,kBAAC6O,GAAA,EAAmB,CAAEC,UAAWR,IAC/B,kBAACS,GAAA,EAAD,CAAOC,aAAW,yBAChB,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,mBAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SAAS5mB,GAAY6H,KAExC,kBAAC4e,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,kBAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SAAS5mB,GAAY8H,KAExC,kBAAC2e,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,kBAGA,kBAACD,GAAA,EACK,CACFE,MAAO,QACP1H,UAAWuE,IAAW,CACpB,cAAexlB,KAAK4oB,IAAI/e,GAAgBD,KAI3C7H,GAAYyH,GAAUI,EAAeC,MAG1C,kBAAC2e,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,4BAGA,kBAACD,GAAA,EACK,CACFE,MAAO,SAGR5mB,GACC2H,GACEC,EACAC,EACAC,MAKR,kBAAC2e,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,gCAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SACd1U,EADH,IACiD,IAAxBA,EAA4B,MAAQ,SAG/D,kBAACuU,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,+BAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SACdxU,EAA2B,IACG,IAA9BA,EAAkC,MAAQ,SAG/C,kBAACqU,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OvFzEA,EuFyEzC,uBAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SACd5mB,GACC+G,GACEsL,EAAsB7T,KAAI,SAACiU,EAAMjW,GAAP,OACxBgD,GAAW8S,EAAuB9V,GAAIiW,UAMhD,kBAACgU,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,UvFvFyC,EuFuFzC,uBAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SACd5mB,GAAYmS,KAGjB,kBAACsU,GAAA,EAAD,KACE,kBAACC,GAAA,EAAc,CAAEL,UAAW,KAAMM,MAAO,OAAzC,0BAGA,kBAACD,GAAA,EAAD,CAAWE,MAAM,SAAS5mB,GAAYiH,UAqBnC,SAASsY,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAoBD,GAAcC,GAAaF,O,yBC7MjDsH,I,OAAoB,SAAC,GAAD,EACxBrG,SADwB,IAExBnhB,EAFwB,EAExBA,IACAD,EAHwB,EAGxBA,IACAqhB,EAJwB,EAIxBA,SAEG7oB,GANqB,EAKxBkvB,kBALwB,+EAQxB,kBAAC,KAAD,eACEC,mBAAiB,EACjBpG,mBAAiB,GAFnB,2BAIO/oB,GAJP,IAKIgpB,eAAe,EACfC,aAAc,EACdmG,OAAQ,IACRC,UAAW,oBAAGlG,WAAH,OAAwB3hB,GAAO,SAA/B,MAAgB,EAAhB,IAAkDC,GAC7DyhB,cAAe,oBAAGC,WAAH,OAAwBN,OAAxB,MAAgB,EAAhB,UAKfyG,GAAiB,SAAC,GAKjB,IAJLzL,EAII,EAJJA,6BACAE,EAGI,EAHJA,6BACAjR,EAEI,EAFJA,YACAjC,EACI,EADJA,MACI,EACwCmV,mBAC1C5f,KAAKoB,IAAIsL,EAAajC,IAFpB,mBACG0e,EADH,KACmBL,EADnB,KAUJ,OALAzI,qBAAU,kBAAMyI,EAAkB9oB,KAAKoB,IAAIsL,EAAajC,MAAS,CAC/DiC,EACAjC,IAIA,yBAAKwW,UAAU,kBACb,kBAACsE,GAAA,EAAD,KACE,kBAACG,GAAA,EACK,CACFC,OAAQ,kBAAC,KAAD,MACRtB,MAAO,eACPyB,UAAW,2BAAI/jB,GAAY2K,MAG/B,kBAACqZ,GAAA,EAAD,KACE,yBAAK9E,UAAU,kBACb,kBAACmC,GAAA,EACK,CACFzpB,MAAOwvB,EACP9F,WAAY,CACVhiB,IAAKqL,EACLtL,IAAK,EAILkiB,QAAS,UAGXb,SAAUqG,EACVrF,WAAY,CACVC,eAAgBmF,MAItB,kBAAC5C,GAAA,EACK,CACFxhB,MAAO,UACPyhB,SAA0B,IAAhBxZ,EACV2U,QAAS,YACTnL,QAAS,WACPuH,EAA6B0L,GAC7BL,EAAkBpc,EAAcyc,KAPtC,iBAaA,mGAES3mB,GAAa/L,IAFtB,6FAGoE,IACjEC,EAJH,yDAKoB0yB,EALpB,iCASF,kBAACnD,GAAA,EACK,CACFxhB,MAAO,YACPyhB,SAAUzb,GAAShU,GACnByf,QAAS,WACPyH,EAA6BlnB,IAC7BqyB,EACE9oB,KAAKoB,IACHG,GAAW4nB,EAAgB1yB,IAC3B8K,GAAWkJ,EAAOhU,OAIxB4qB,QAAS,aAbb,cAgBc7e,GAAa/L,IAhB3B,aA+BK,SAAS6qB,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAyBD,GAAcC,GAAaF,O,mCC5HtD8H,I,OAAe,SAAC,GAOf,IANLvN,EAMI,EANJA,8BACA+B,EAKI,EALJA,sBACAI,EAII,EAJJA,sBACAY,EAGI,EAHJA,sBACAI,EAEI,EAFJA,6CACAE,EACI,EADJA,iCACI,EACsDS,oBAAS,GAD/D,mBACG0J,EADH,KAC0BC,EAD1B,KAGJ,OACE,yBAAKtI,UAAU,gBACb,yBAAKA,UAAU,cACb,kBAACgF,GAAA,EACK,CACFxhB,MAAO,UACPyR,QAAS2I,EACTwC,QAAS,aAJb,cAUF,kBAACS,GAAA,EAAD,MAEA,kBAAC0H,GAAA,EAAD,CAAapB,UAAU,YACrB,kBAACqB,GAAA,EAAD,CAAWrB,UAAU,UAArB,WACA,kBAACsB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEplB,MAAM,UACN8V,QAAS4E,EACTsD,SAAUxD,EACV5kB,KAAK,0CAGTyvB,MAAM,4CAKZ,kBAAChI,GAAA,EAAD,MACA,yBAAKb,UAAU,cACb,kBAACiD,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAAO,gDAGT,kBAAC4B,GAAA,EACK,CACFxhB,MAAO,UACPyR,QAAS2H,EACTwD,QAAS,aAJb,qBAUF,kBAAC,KACK,CACF0I,GAAI,OACJtH,SAAU,SAAClE,EAAGyL,GACZ/L,EAAsB+L,KAI1B,kBAAC9F,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAAO,4CAGT,kBAAC4B,GAAA,EAAW,CAAExhB,MAAO,UAAW4c,QAAS,aAAzC,uBAMN,kBAACS,GAAA,EAAD,MACA,yBAAKb,UAAU,cACb,kBAACgF,GAAA,EACK,CACFxhB,MAAO,UACPyR,QAAS,kBAAMqT,GAAyB,IACxClI,QAAS,aAJb,qBAWF,kBAAC4I,GAAA,EACK,CACFhJ,UAAW,WACXiJ,KAAMZ,EACNa,QAAS,kBAAMZ,GAAyB,IACxCa,SAAU,MAGZ,kBAACC,GAAA,EAAD,0BACA,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACrB,sJAIA,kBAACC,GAAA,EAAD,KACE,kBAACvE,GAAA,EAAD,eACEwE,WAAS,GACL,CACFhmB,MAAO,UACPyR,QAAS,kBAAMqT,GAAyB,MAJ5C,UASA,kBAACtD,GAAA,EACK,CACFxhB,MAAO,YACPyR,QAAS,WACP4F,IACAyN,GAAyB,KAL/B,eAyBG,SAASjI,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAuBD,GAAcC,GAAaF,O,WC3HpDmJ,GAAkB,SAAC,GAAwC,IAAtC1L,EAAqC,EAArCA,SAAUD,EAA2B,EAA3BA,qBAA2B,EACZa,mBAASZ,GADG,mBACvD2L,EADuD,KACpCC,EADoC,KAO9D,OAJAvK,qBAAU,WACRuK,EAAqB5L,KACpB,CAACA,EAAU4L,IAGZ,wBAAI3J,UAAU,aACZ,kBAACmC,GAAA,EACK,CACFC,WAAY,CACVwH,UAAW,IAEbpI,SAAU,YAA4B,IAAf9oB,EAAc,EAAxB6gB,OAAU7gB,MACrBixB,EAAqBjxB,IAEvBmxB,OAAQ,YAA4B,IAAfnxB,EAAc,EAAxB6gB,OAAU7gB,MACnBolB,EAAqBplB,IAEvBoxB,YAAa,YACbpxB,MAAOgxB,IAER,IAfL,SAqBEK,GAAiB,SAAC,GAMjB,IALLC,EAKI,EALJA,cACA7L,EAII,EAJJA,yBACAI,EAGI,EAHJA,iBACA0L,EAEI,EAFJA,SACA/d,EACI,EADJA,KACI,EACsCyS,mBAASzS,GAD/C,mBACGge,EADH,KACkBC,EADlB,KAOJ,OAJA/K,qBAAU,WACR+K,EAAiBje,KAChB,CAACA,EAAMie,IAGR,oCACE,kBAAC5B,GAAA,EACK,CAAEvI,UAAW,2BAA4BmH,UAAW,YAExD,kBAACsB,GAAA,EAAc,CAAEzI,UAAW,oBAC1B,kBAAC0I,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEplB,MAAM,UACN8V,QAAS2Q,EACTzI,SAAUrD,EACV/kB,KAAK,0CAGTyvB,MAAM,iBAGV,kBAAC1G,GAAA,EACK,CACFnC,UAAW,YACXoC,WAAY,CACVwH,UC7GsB,ID+GxBf,MAAO,YACPrH,SAAU,YAA4B,IAAf9oB,EAAc,EAAxB6gB,OAAU7gB,MACrByxB,EAAiBzxB,IAEnBmxB,OAAQ,YAA4B,IAAfnxB,EAAc,EAAxB6gB,OAAU7gB,MACnB6lB,EAAiB7lB,IAEnB4pB,QAAS,YAAmC,IAAtB5pB,EAAqB,EAA/B6gB,OAAU7gB,MAEN,KAF2B,EAAZ6pB,OAG3BhE,EAAiB7lB,IAGrBA,MAAOwxB,EACP9J,QAAS,cAId4J,GAAiB,+CAAqBxoB,GAAcwoB,MAMzDI,GAMEh1B,GANFg1B,YACAC,GAKEj1B,GALFi1B,aACAC,GAIEl1B,GAJFk1B,MACAC,GAGEn1B,GAHFm1B,aACAC,GAEEp1B,GAFFo1B,WACAC,GACEr1B,GADFq1B,SAKIC,GAAuB,CAC3B,CAACN,IAAc,wBACf,CAACC,IAAe,uBAChB,CAACC,IAAQ,sBACT,CAACC,IAAe,wBAChB,CAACC,IAAa,wBACd,CAACC,IAAW,yBAGRE,GAAiB,CACrB,CAACP,IAAc,eACf,CAACC,IAAe,eAChB,CAACC,IAAQ,aACT,CAACC,IAAe,eAChB,CAACC,IAAa,eACd,CAACC,IAAW,YAGRG,GAAmB,CACvB,CAACR,IAAc,kBAAC,GAAD,MACf,CAACC,IAAe,kBAAC,GAAD,MAChB,CAACC,IAAQ,kBAAC,GAAD,MACT,CAACC,IAAe,kBAAC,GAAD,MAChB,CAACC,IAAa,kBAAC,GAAD,MACd,CAACC,IAAW,kBAAC,GAAD,OAGDI,GAAa,SAAC,GAAD,IACxBb,EADwB,EACxBA,cACA1N,EAFwB,EAExBA,kBACAxK,EAHwB,EAGxBA,SACAiM,EAJwB,EAIxBA,SACA9B,EALwB,EAKxBA,4BACAE,EANwB,EAMxBA,sBACAE,EAPwB,EAOxBA,uBACAyB,EARwB,EAQxBA,qBACAK,EATwB,EASxBA,yBACAI,EAVwB,EAUxBA,iBACA3E,EAXwB,EAWxBA,iBACAhV,EAZwB,EAYxBA,UACA4B,EAbwB,EAaxBA,eACAjK,EAdwB,EAcxBA,UACAuuB,EAfwB,EAexBA,iBACAb,EAhBwB,EAgBxBA,SACA/d,EAjBwB,EAiBxBA,KACA4N,EAlBwB,EAkBxBA,WACAiR,EAnBwB,EAmBxBA,SAnBwB,IAqBxB/D,6BArBwB,MAqBAhgB,GAAiBzK,GArBjB,MAsBxB0qB,oBAtBwB,MAsBT/f,GAAc8f,GAtBL,SAwBxB,4BAAQhH,UAAU,cAChB,wCACA,uBAAGA,UAAU,WAAb,IAAyBgL,SACzB,kBAAC,GAAoB,CAAEjN,WAAUD,yBACjC,wBAAIkC,UAAU,aAAd,OACOlO,EADP,WACyBtQ,GAAcylB,IAEvC,kBAAC,GACK,CACF+C,gBACA7L,2BACAI,mBACA0L,WACA/d,SAGH1F,GAAkB,GACjB,uBACM,CACFwZ,UAAWuE,IAAW,iBAAkB,CACtC,qBAAsB9d,GAAyB,CAC7C7B,YACA4B,sBALR,cAUcF,GAAuB1B,GAVrC,MAUoD4B,GAItD,kBAACykB,GAAA,EACK,CACFjL,UAAW,cACXwB,SAAU5H,EACVlhB,MAAOohB,GAGRiR,EAASzrB,KAAI,SAAC4rB,EAAM5tB,GAAP,OACZ,kBAAC6tB,GAAA,EAAa,CAAEz2B,IAAKw2B,EAAMxyB,MAAOwyB,GAC/B5tB,EAAI,EADP,KACY9G,GAAgB00B,QAIhC,yBAAKlL,UAAU,gBACZ,CACC,CAAE5qB,WAAYg1B,GAAagB,KAAMC,MACjC,CAAEj2B,WAAYi1B,GAAce,KAAME,MAClC,CAAEl2B,WAAYk1B,GAAOc,KAAMG,MAC3B,CAAEn2B,WAAYm1B,GAAca,KAAMI,MAClC,CAAEp2B,WAAYo1B,GAAYY,KAAMK,MAChC,CAAEr2B,WAAYq1B,GAAUW,KAAMM,OAC9BpsB,KAAI,gBAAGlK,EAAH,EAAGA,WAAYg2B,EAAf,EAAeA,KAAf,OACJ,kBAACnI,EAAA,EACK,CACFC,OAAO,EACPxuB,IAAKU,EACL+tB,UAAW,MACXC,MAAOsH,GAAqBt1B,IAG9B,kBAACwtB,EAAA,EACK,CACF,aAAc8H,GAAqBt1B,GACnCoO,MAAO,UACPyR,QAAS,kBAAMgH,EAA4B7mB,KAG7C,kBAACg2B,EAAD,YASR,kBAACpC,GAAA,EACK,CACFhJ,UAAW,WACX2L,WAAW,EACXxC,SAAU,KACVD,QAAS/M,EACT8M,KAAM6B,EACNc,SAAUvP,GAGZ,kBAAC+M,GAAA,EAAD,KAAcuB,GAAerO,IAC7B,kBAAC+M,GAAA,EAAD,KAAgBuB,GAAiBtO,IACjC,kBAACiN,GAAA,EAAD,KACE,kBAACvE,GAAA,EAAD,CAAQ/P,QAASkH,EAAuB3Y,MAAM,UAAUgmB,WAAS,GAAjE,aA4BO,SAASnJ,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAqBD,GAAcC,GAAaF,O,WEjTtD1oB,GAQE7C,GARF6C,SACAqE,GAOElH,GAPFkH,aACApE,GAME9C,GANF8C,KACAC,GAKE/C,GALF+C,WACAC,GAIEhD,GAJFgD,gBACAC,GAGEjD,GAHFiD,KACAC,GAEElD,GAFFkD,UACAC,GACEnD,GADFmD,UAGW2zB,GAAcv3B,EAAQ,CACjC,kBACA,kBACA,gBACA,QACA,cACA,UAEIw3B,GAAiBx2B,OAAOf,KAAKs3B,IAEjCE,GAMEF,GANFE,gBACAC,GAKEH,GALFG,gBACAC,GAIEJ,GAJFI,cACAC,GAGEL,GAHFK,MACAC,GAEEN,GAFFM,YACAC,GACEP,GADFO,MAGIC,GAAsB/2B,OAAOD,OAAO,CACxC,CAACuC,IAAWo0B,GACZI,SACA,CAACnwB,IAAegwB,GAChB,CAACp0B,IAAOq0B,GACR,CAACp0B,IAAaq0B,GACd,CAACp0B,IAAkBi0B,GACnB,CAACh0B,IAAO+zB,GACR,CAAC9zB,IAAYk0B,GACb,CAACj0B,IAAYi0B,KASFG,GAA8B,SAAA5wB,GAAK,OAC9C0K,GAAU1K,GAAOlH,QAAO,SAACC,EAAKmH,GAAU,IAC9B/C,EAASgD,GAASD,EAAK1C,IAAvBL,KACF0zB,EAAWF,GAAoBxzB,GAQrC,OANI0zB,IAAaL,GACfz3B,EAAImH,EAAK5C,gBAAkBozB,GAAQF,IAAOtmB,KAAKhK,GAE/CnH,EAAI83B,GAAU3mB,KAAKhK,GAGdnH,IAhBTq3B,GAAet3B,QAAO,SAACC,EAAKC,GAE1B,OADAD,EAAIC,GAAO,GACJD,IACN,MAgBQ+3B,GAAY,SAAC,GAAD,IACvB9wB,EADuB,EACvBA,MACA+wB,EAFuB,EAEvBA,gBACA7tB,EAHuB,EAGvBA,cAHuB,IAOvB4kB,sBAPuB,MAON9nB,IAAUkD,EAPJ,MAQvB+kB,kBARuB,MAQVjoB,IAAU+wB,EARA,MAUvBC,sBAVuB,MAUNJ,GAA4B5wB,GAVtB,SAYvB,yBAAKskB,UAAU,aACZ,CACC,CAACkM,GAAO,SACR,CAACE,GAAO,SACR,CAACD,GAAa,eACd,CAACJ,GAAiB,mBAClB,CAACC,GAAiB,mBAClB,CAACC,GAAe,kBAChB3sB,KAAI,mCAAEitB,EAAF,KAAYI,EAAZ,YACJD,EAAeH,GAAUhvB,OACvB,kBAAC,WAAD,CAAU7I,IAAK63B,GACb,iCACE,4BAAKI,GACL,wBAAI3M,UAAU,aACX0M,EAAeH,GAAUjtB,KAAI,SAAA1D,GAAI,OAChC,wBAAIlH,IAAKkH,EAAK1C,IACZ,kBAAC,GACK,CACFsqB,iBACAG,aACA/nB,OACAioB,aAAcL,UAO1B,kBAAC3C,GAAA,EAAD,OAEA,UAWK,SAASR,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAoBD,GAAcC,GAAaF,O,oFCvFjDsM,I,OAAc,CAClB,CAAC53B,GAAQuP,QAASsoB,KAClB,CAAC73B,GAAQuO,MAAOupB,OAKZC,GAAc,SAACC,EAAYC,GAAb,OAClBD,EAAa,GAAMC,GAEfC,GAAqB,SAACjvB,EAAK2S,GAAN,OACzBA,EAAeC,SAAW5S,EAAI/E,IAAM0X,EAAeE,SAAW7S,EAAI/E,IAE9Di0B,GAAeC,gBAAK,gBAAG3pB,EAAH,EAAGA,kBAAH,OACxB,uBAAQ,CAAEuc,UAAW,aAElB1qB,OAAOf,KAAKkP,GAAqB,IAC/BsH,OACAzL,KAAI,SAAAkE,GAAK,OACR,uBAAQ,CAAE9O,IAAK8O,EAAOwc,UAAWxc,EAAM6pB,uBAKlCC,GAAmB,SAAC,GAAD,IAC9BrvB,EAD8B,EAC9BA,IACA2S,EAF8B,EAE9BA,eACAwE,EAH8B,EAG9BA,SACAiE,EAJ8B,EAI9BA,4BACAG,EAL8B,EAK9BA,qBACA+T,EAN8B,EAM9BA,sBACAC,EAP8B,EAO9BA,eAP8B,IAS9BP,0BAT8B,MASO,GAAhBhvB,EAAI2F,UATK,MAU9B6pB,uBAV8B,MAUZP,GAAmBjvB,EAAK2S,GAVZ,MAW9B8c,yBAX8B,MAWgB,OAA1B9c,EAAeC,QACP,OAA1BD,EAAeE,OAZa,SAc9B,oCACE,kBAACqc,GAAiB,CAAE1pB,kBAAmBxF,EAAIwF,oBAC1C+pB,GACC,2BACGvvB,EAAIyF,QADP,IACiC,IAAhBzF,EAAIyF,QAAgB,MAAQ,OAD7C,QAIF,2BACG8pB,EAAiB,QAAU,QAD9B,KACyC1sB,GAAYsU,IAErD,sCAAY3Q,GAAaxG,GAAzB,SACCuvB,GACC,oCACE,wBAAIxN,UAAU,UACXpZ,GAAU,IAAItH,KAAI,SAACquB,EAAOrwB,GAAR,OACjB,wBAAI5I,IAAG,UAAKuJ,EAAI/E,GAAT,YAAeoE,IACpB,kBAAC,KACK,CACFswB,KAAMb,GAAYzvB,EAAG2vB,GACjBY,KACAC,KACJ9N,UAAWuE,IAAW,QAAS,CAC7B,UAAWwI,GAAYzvB,EAAG2vB,YAOtC,kBAAChK,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAAM,yBAAD,OAA2BnlB,EAAI7E,KAA/B,mBAA8C8B,GAAe9B,KAA7D,yGAGP,kBAACsvB,GAAA,EACK,CACFC,QACE,kBAACoF,GAAA,EACK,CACFvqB,MAAO,UAGP8V,QAAS7mB,QAAQwL,EAAI+F,uBACrBwd,SAAU,SAAAlE,GAAC,OAAIjE,EAA4BiE,EAAGrf,MAIpDgnB,UAAWhnB,EAAI+F,wBAA0BupB,EACzC1E,MAAO,uBAIb,kBAAC5F,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAAOqK,EAAe,qCACYxvB,EAAI7E,KADhB,yDAGhB6E,EAAI7E,KAHY,+CAKhB6E,EAAIoF,SAAWrO,GAAQuO,KAAO,SAAW,OALzB,UASxB,kBAACmlB,GAAA,EACK,CACFC,QACE,kBAACoF,GAAA,EACK,CACFvqB,MAAO,UACP8V,QAASmU,EACTjM,SAAU,SAAAlE,GAAC,OAAI9D,EAAqB8D,EAAGrf,MAI7CgnB,UAAWwI,GAAmBC,EAC9B7E,MAAO,cASRmF,GAAU,SAAC,GAoBjB,IAnBL/vB,EAmBI,EAnBJA,IACA2S,EAkBI,EAlBJA,eACA7J,EAiBI,EAjBJA,aACAknB,EAgBI,EAhBJA,UACA5U,EAeI,EAfJA,4BACAG,EAcI,EAdJA,qBACAC,EAaI,EAbJA,kBACAC,EAYI,EAZJA,yBACAP,EAWI,EAXJA,uBACAC,EAUI,EAVJA,mBACAxU,EASI,EATJA,UACA8e,EAQI,EARJA,WACAla,EAOI,EAPJA,MACAQ,EAMI,EANJA,gBAMI,IAJJoL,gBAII,MAJO1Q,GAAYzG,GAInB,MAHJsvB,6BAGI,MAHoB7mB,GAA8B9B,GAGlD,MAFJ4oB,sBAEI,QAFepU,EAEf,MADJ8U,sBACI,QADexU,EACf,IACoBiF,mBAAS1gB,EAAI7E,MADjC,mBACGA,EADH,KACS+0B,EADT,KAGJ,OACE,kBAAC7J,GAAA,EAAS,CAAEE,OAAQd,GAClB,kBAACe,GAAA,EACK,CACFC,OACE,sCACM,CAAEC,IAAK3mB,GAAQC,IAAIhJ,GAAUgJ,EAAIuF,OAAO6pB,gBAD9C,CAEEzI,IAAI,SAGRxB,MACE,oCACG8K,EACC,kBAAC/L,GAAA,EACK,CACFX,SAAU,SAAAlE,GACR6Q,EAAQ7Q,EAAE/D,OAAO7gB,OACjBu1B,EAAUvU,yBAAV,eAAwC4D,GAAKrf,IAE/C6rB,YAAa,OACbpxB,MAAOU,IAIX6E,EAAI7E,KACH,IACH,kBAAC,KACK,CACFw0B,KAAMhB,GAAY3uB,EAAIoF,WAK9BwhB,UACE,kBAAC,GACK,CACF5mB,MACA2S,iBACAwE,WACAoE,uBACAH,8BACAkU,wBACAC,qBAMV,kBAACzI,GAAA,EAAD,MACIyI,GACA,kBAACxI,GAAA,EACK,CACFhF,UAAW,WACXxc,MAAO,UACPyhB,SACE7P,EAAW5L,GACXzC,EAAaxJ,QACXvH,GAAsBmb,IAAInH,GAAiB/T,KAC/Cgf,QAAS,kBAAMkE,EAAuBlb,IACtCmiB,QAAS,aATb,OAeDoN,GACC,oCACE,kBAACxI,GAAA,EACK,CACFhF,UAAW,MACXxc,MAAO,UACPyR,QAAS,kBAAMwE,EAAkBxb,IACjCmiB,QAAS,aALb,OAUA,kBAAC4E,GAAA,EACK,CACFhF,UAAW,OACXxc,MAAO,YACPyR,QAAS,kBAAMmE,EAAmBnb,IAClCmiB,QAAS,aALb,Y,GAiB6C9rB,EAAQ,CAC/D,MACA,QACA,SACA,YACA,QACA,WANM85B,G,GAAAA,IAAKC,G,GAAAA,MAAOC,G,GAAAA,OAAQC,G,GAAAA,UAAWC,G,GAAAA,MAAOC,G,GAAAA,OAmCxCC,GAAuB,SAAC,GAAD,IAAG7d,EAAH,EAAGA,OAAQC,EAAX,EAAWA,OAAX,OAC3BD,EAAUC,EAAS,EAAI,EAAK,GAEjB6d,GAAoB,SAAC,GAgB3B,IAfL/d,EAeI,EAfJA,eACAiD,EAcI,EAdJA,WACA9M,EAaI,EAbJA,aACAknB,EAYI,EAZJA,UACA5U,EAWI,EAXJA,4BACAG,EAUI,EAVJA,qBACAC,EASI,EATJA,kBACAC,EAQI,EARJA,yBACAP,EAOI,EAPJA,uBACAuC,EAMI,EANJA,gBACAtC,EAKI,EALJA,mBACAxU,EAII,EAJJA,UACA4E,EAGI,EAHJA,MACAQ,EAEI,EAFJA,gBACA+N,EACI,EADJA,cACI,EAC4B4G,mBAAS6P,IADrC,mBACGI,EADH,KACaC,EADb,OAEkClQ,oBAAS,GAF3C,mBAEGmQ,EAFH,KAEgBC,EAFhB,KAIJ,OACE,yBAAK/O,UAAU,qBACb,wCACA,wBAAIA,UAAU,aACZ,4BACE,kBAAC,GACK,CACFpkB,KAAMX,GACNuoB,gBAAgB,EAChBK,cAAc,KAIpB,4BACE,kBAAC,GACK,CACFjoB,KAAMV,GACNsoB,gBAAgB,EAChBK,cAAc,MAKtB,kBAAChD,GAAA,EAAD,MACA,wCACA,kBAAC,GACK,CACF5iB,IAAK4V,EACLjD,iBACA7J,eACAoS,yBACAvU,YACA4E,QACAQ,oBAGJ,kBAAC6W,GAAA,EAAD,MACA,6CAAmB6N,GAAqB9d,GAAxC,SACA,wBAAIoP,UAAU,0CACXpZ,GAAU8nB,GAAqB9d,IAAiBtR,KAAI,SAACquB,EAAOrwB,GAC3D,IAAMuY,EAAQjF,EAAe,QAAD,OAAStT,EAAI,IACnCW,EAAM6I,GAAYC,EAAc8O,GACtC,OACE,uBAAQ,CAAEnhB,IAAKmhB,GACb,kBAAC,GACK,CACF5X,MACA2S,iBACA7J,eACAknB,YACA5U,8BACAG,uBACAC,oBACAC,2BACAN,qBACAxU,YACA8e,WAAYzlB,EAAI/E,KAAO6e,EACvBvO,QACAQ,yBAOZ,kBAAC6W,GAAA,EAAD,MACA,qCACS9Z,EAAaxJ,OADtB,KACgC,IAC7BvH,GAAsBmb,IAAInH,GAAiB/T,KAF9C,KAIC8Q,EAAaxJ,OAAS,GACrB,wBAAS,CAAEyiB,UAAW,gBACpB,kBAAC4C,EAAA,EACK,CACF,aAAc,uBACd3N,QAAS,kBAAM8Z,GAAgBD,IAC/BtrB,MAAO,WAGRsrB,EAAc,kBAAC,KAAD,MAAsB,kBAAC,KAAD,OAEvC,kBAAC7D,GAAA,EACK,CACFjL,UAAW,cACXgP,cAAc,EACdt2B,MAAOk2B,EACPpN,SAAU,gBAAa9oB,EAAb,EAAG6gB,OAAU7gB,MAAb,OAA2Bm2B,EAAYn2B,KAGnD,kBAACyyB,GAAA,EAAa,CAAEzyB,MAAO81B,IAAvB,iBACA,kBAACrD,GAAA,EAAa,CAAEzyB,MAAO01B,IAAvB,eACA,kBAACjD,GAAA,EAAa,CAAEzyB,MAAO61B,IAAvB,qBACA,kBAACpD,GAAA,EAAa,CAAEzyB,MAAO+1B,IAAvB,kBACA,kBAACtD,GAAA,EAAa,CAAEzyB,MAAO41B,IAAvB,kBACA,kBAACnD,GAAA,EAAa,CAAEzyB,MAAO21B,IAAvB,mBAKN,wBAAIrO,UAAU,4BApJH,SAAC/pB,EAAM24B,EAAUE,GAChC,IAAIG,EAAS,SAAArkB,GAAC,OAAIA,GAEdgkB,IAAaJ,GACfS,EAASvqB,GACAkqB,IAAaH,GACtBQ,EAASxqB,GACAmqB,IAAaR,GACtBa,EAAS,qBAAGvrB,SACHkrB,IAAaP,GACtBY,EAAS,qBAAGzrB,OACHorB,IAAaN,GACtBW,EAAS,qBAAG5rB,QACHurB,IAAaL,KACtBU,EAAS,qBAAGrrB,YAGd,IAAMsrB,EAAahpB,KAAOjQ,EAAMg5B,GAEhC,OAAOH,EAAcI,EAAaA,EAAWC,UAkItCC,CAASroB,EAAc6nB,EAAUE,GAAaxvB,KAAI,SAAArB,GAAG,OACpDivB,GAAmBjvB,EAAK2S,GAAkB,KACxC,uBACM,CACFlc,IAAKuJ,EAAI/E,GACTm2B,QAAS,kBAAM3T,EAAgBzd,IAC/BgX,QAAS,kBAAMyG,EAAgBzd,KAGjC,kBAAC,GACK,CACFA,MACA2S,iBACA7J,eACAknB,YACA5U,8BACAG,uBACAC,oBACAC,2BACAN,qBACAxU,YACA8e,WAAYzlB,EAAI/E,KAAO6e,EACvBvO,QACAQ,2BA4BH,SAASqW,KACtB,OACE,kBAAC,EAAgBA,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,2BAA4BD,GAAcC,O,WCzerC8O,GAAkBlC,gBAC7B,gBAAGX,EAAH,EAAGA,gBAAH,OACE,kBAAC,GACK,CACF/wB,MAAO+wB,OAIb,SAAC8C,EAAMC,GAAP,OAAgBD,EAAK9C,kBAAoB+C,EAAK/C,mBAGnCgD,GAAc,SAAC,GAAD,IAAGhD,EAAH,EAAGA,gBAAiB3S,EAApB,EAAoBA,WAApB,OACzB,yBAAKkG,UAAU,eACZlG,IAAejlB,GAAe+B,QAC7B,kBAAC,GAAD,MAEA,oCACE,yCACA,kBAAC04B,GACK,CACF7C,uBAaG,SAASpM,KACtB,OACE,kBAAC,EAAgBA,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,2BAAsBD,GAAcC,O,kEC5B/BkP,I,OAAsB,SAAA/iB,GACjC,IAAKA,EACH,OAAO,KAGT,IAAMgjB,EAAmB,GAUzB,OARIhjB,EAAYF,cACdkjB,EAAiB/pB,KAAjB,cAA6BjI,GAA7B,MAGEgP,EAAY7C,iBACd6lB,EAAiB/pB,KAAjB,cAA6BjI,GAA7B,MAGKgyB,EAAiB3jB,KAAK,QAuBlB4jB,GAAO,SAAC,GAad,IAZLxV,EAYI,EAZJA,gBACAyV,EAWI,EAXJA,eACAljB,EAUI,EAVJA,YACAmjB,EASI,EATJA,eACA7iB,EAQI,EARJA,EACAD,EAOI,EAPJA,EAOI,IALJ+iB,aAKI,MxB0PsB,SAAApjB,GAAW,OACrCA,EACIzK,GAAmByK,KAAiB5X,GAAS8C,KAC3C+K,GAAiB+J,KAAiBjO,GAChCsxB,GAAWztB,GAAUoK,IACrBqjB,GAAW,GAAD,OACLztB,GAAUoK,GADL,YAEN5J,GAA8BH,GAAiB+J,MAGrDqjB,GAAWrjB,EAAYvQ,QACzB,KwB1QI6zB,CAAatjB,GAKjB,MAJJujB,iBAII,MAJQvjB,GACVzK,GAAmByK,KAAiB5X,GAAS8C,MAC7C+K,GAAiB+J,GAEf,MADJwjB,cACI,MADKD,IAAcp7B,GAAc4J,MACjC,EACE9C,EAAO+Q,EAAc9Q,GAAS8Q,EAAYvQ,QAAU,KACpDg0B,EA/B2B,SAAAzjB,GAAW,OAG5CA,GAAeA,EAAY9J,aAAe,EACtC9D,KAAKqB,IACH,EACArB,KAAKsxB,MACF7tB,GACCmK,EAAc9Q,GAAS8Q,EAAYvQ,QAAU,MAE7CuQ,EAAY9J,cACX,GAAK8J,EAAYF,a/F3BE,G+F2BgC,MAG1D,KAiBqB6jB,CAAoB3jB,GAEvCvK,EACJ,wBACM,CACF4d,UAAWuE,IAAW,OAAQ,CAC5B,YAAa5X,EACb,oBAAqBkjB,EAGrB13B,KACEwU,GAAezK,GAAmByK,KAAiB5X,GAAS8C,KAC9D,gBAAiB8U,GAAeA,EAAYF,aAC5C,UAAW0jB,EAEX,iBAAkBxjB,GAAe/Q,EAAKhB,gBAExCilB,MAAO,CACL0Q,gBAAiBb,GAAoB/iB,IAEvCsI,QAAS,kBAAMmF,EAAgBnN,EAAGD,IAClCwjB,YAAa,kBAAMV,EAAe,CAAE7iB,IAAGD,QAGzC,wBACM,CACFgT,UAAWuE,IAAW,SAAU,CAC9BkM,SAAUN,EACVO,UAAWP,IAEbtQ,MAAO,CACL0Q,gBAAiBR,EAAK,cAAUA,EAAV,UAAqBlvB,GAE7C8jB,IAAKgM,GACL/L,IAAK,MAMb,OAAOjY,EACL,kBAACsW,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MACE,oCACE,kBAACjD,GAAA,EAAD,KAAavkB,EAAKxC,MACjB8I,GAAmByK,KAAiB5X,GAAS8C,MAC5C,kBAACsoB,GAAA,EAAD,KACGiQ,EAAgB,sCACkBA,GAC/B,uBAObhuB,GAGHA,GAcW,SAASie,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAeD,GAAcC,GAAaF,O,cC7I1CzH,I,OAA4BjkB,GAA5BikB,SAASC,GAAmBlkB,GAAnBkkB,QAASC,GAAUnkB,GAAVmkB,MAEb6X,GAAW,SAAC,GAAD,IACXC,EADW,EACtBj8B,UACAolB,EAFsB,EAEtBA,sBAFsB,OAItB,yBAAKgG,UAAU,YACb,yBAAKA,UAAU,gBACZ,CACC,CACE4E,IAAK,uCACLhwB,UAAWmkB,GACX+X,YAAa,gBAEf,CACElM,IAAK,gCACLhwB,UAAWkkB,GACXgY,YAAa,UAEf,CACElM,IACE,oGACFhwB,UAAWikB,GACXiY,YAAa,QAEfxxB,KAAI,WAAkChC,GAAlC,IAAGsnB,EAAH,EAAGA,IAAKhwB,EAAR,EAAQA,UAAWk8B,EAAnB,EAAmBA,YAAnB,OACJ,kBAAC7N,EAAA,EACK,CACFvuB,IAAKE,EACLuuB,UAAW,MACXC,MACE,oCACE,2BAAIwB,GACJ,uCAAatnB,EAAI,EAAjB,OAKN,kBAAC0nB,GAAA,EACK,CACFhF,UAAWuE,IAAW,CACpBwM,SAAUn8B,IAAci8B,IAE1BrtB,MAAO,UACPyR,QAAS,kBAAM+E,EAAsBplB,IACrCwrB,QAASxrB,IAAci8B,EAAmB,YAAc,QAI1D,sCACM,CACF7Q,UAAU,UAAD,OAAY8Q,GACrBnM,IAAKgM,GACL9Q,MAAO,CAAE0Q,gBAAgB,OAAD,OAAS1yB,GAAMizB,MAJ3C,CAMElM,IAAKA,aAcJ,SAASvE,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAmBD,GAAcC,GAAaF,O,WCpEhD0Q,GAAW,SAAC,GAAD,IACf9W,EADe,EACfA,sBACAxe,EAFe,EAEfA,MACAkoB,EAHe,EAGfA,0BACA9V,EAJe,EAIfA,eAJe,OAMf,wBAAS,CAAEkS,UAAW,gBACnB5Z,GAAU1K,GAAO4D,KAAI,SAAA1D,GAAI,OACxB,kBAACqnB,EAAA,EACK,CACFvuB,IAAKkH,EAAK1C,GACViqB,UAAW,MACXC,MAAOxnB,EAAKxC,MAGd,kBAAC4rB,GAAA,EACK,CACFhF,UAAWuE,IAAW,CACpB,cAAe3oB,EAAK1C,KAAO4U,IAE7BtK,MAAO,UACPyR,QAAS,kBAAMiF,EAAsBte,IACrCwkB,QAASxkB,EAAK1C,KAAO4U,EAAiB,YAAc,QAGtD,uCACE8W,IAAKhpB,EAAKxC,MACN,CACF4mB,UAAW,SACX2E,IAAKgM,GACL9Q,MAAO,CAAE0Q,gBAAgB,OAAD,OAASP,GAAWp0B,EAAK1C,SAGrD,sBAAO,CAAE8mB,UAAW,YACjBxe,GAAcoiB,EAA0BhoB,EAAK1C,aAepD+3B,GAAc,SAAC,GAAD,IAClBC,EADkB,EAClBA,mBACAhX,EAFkB,EAElBA,sBACA0J,EAHkB,EAGlBA,0BACAuN,EAJkB,EAIlBA,uBACArjB,EALkB,EAKlBA,eALkB,OAOlB,kBAAC8Y,GAAA,EAAU,CAAE5G,UAAW,cAAeW,UAAW,IAChD,kBAACyQ,GAAA,EAAS,CAAEC,WAAW,EAAMC,WAAY,SAAUC,KAAM,UACvD,kBAAC,GAAD,MACCJ,EAAuB5zB,OAAS,GAC/B,oCACE,kBAACsjB,GAAA,EAAD,CAAS2Q,YAAY,WAAWC,UAAQ,IACxC,kBAAC,GACK,CACFvX,wBACAxe,MAAOy1B,EACPvN,4BACA9V,oBAMPojB,EAAmB3zB,OAAS,GAC3B,oCACE,kBAACsjB,GAAA,EAAD,CAAS2Q,YAAY,WAAWC,UAAQ,IACxC,kBAAC,GACK,CACFvX,wBACAxe,MAAOw1B,EACPtN,4BACA9V,uBAiBC,SAASuS,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAsBD,GAAcC,GAAaF,O,WClGvDzH,GAOEjkB,GAPFikB,QACAre,GAME5F,GANF4F,UACAse,GAKElkB,GALFkkB,QACA/f,GAIEnE,GAJFmE,MACA+B,GAGElG,GAHFkG,cACAJ,GAEE9F,GAFF8F,cACAqe,GACEnkB,GADFmkB,MAGI2Y,GAAa,CACjBC,OAAQ,CAAC,IAAK,QACdC,QAAS,KAGLC,GAAc,CAClBC,kBAAmB,UACnBC,aAAc,UACdC,UAAW,WAGAnC,GAAiB,SAAC,GAKxB,IAJLl1B,EAII,EAJJA,qBAII,IAHJs3B,YAAkBC,EAGd,EAHWjlB,EAAoBklB,EAG/B,EAH4BnlB,EAChCC,EAEI,EAFJA,EACAD,EACI,EADJA,EAGA,GAAoB,MAAhBklB,EACF,OAAO,EAGT,IAAMhjB,EAAa,EAAIvU,EACjBy3B,EAAcF,EAAev3B,EAC7B03B,EAAcF,EAAex3B,EAInC,OACEsS,GAAKmlB,GACLnlB,GALoBmlB,EAAcljB,GAMlClC,GAAKqlB,GACLrlB,GANoBqlB,EAAcnjB,GAUzBojB,GAAWlF,gBACtB,SAAA9M,GAAU,IACA2R,EAAmD3R,EAAnD2R,YAAatlB,EAAsC2T,EAAtC3T,YAAamjB,EAAyBxP,EAAzBwP,eAAgB7iB,EAASqT,EAATrT,EAAGD,EAAMsT,EAANtT,EAErD,OACE,kBAAC,GACK,CACFilB,cACApC,eAAgBA,GAAevP,GAC/B3T,cACAmjB,iBACA7iB,IACAD,SAKR,SAACuiB,EAAMC,GACL,OAAIK,GAAeN,KAAUM,GAAeL,KAK1CD,EAAK5iB,cAAgB6iB,EAAK7iB,aAC1B4iB,EAAK50B,uBAAyB60B,EAAK70B,yBAc5B43B,GAAsB,SAAC,GAQ7B,IAPLC,EAOI,EAPJA,aAEAC,EAKI,EALJA,cACAC,EAII,EAJJA,eACAC,EAGI,EAHJA,MACAhB,EAEI,EAFJA,OACAC,EACI,EADJA,QAQA,OANAxS,qBAAU,WACM,IAAVuT,GAAiC,IAAlBF,GACjBC,MAED,CAACC,EAAOF,EAAeC,IAGxB,oCACE,kBAAC,gBACK,CACFE,OAAQlB,GACRlR,SAAU,CACRmR,SACAC,aAIN,kBAAC,KAAD,KAAqBY,GACrB,yBAAKxS,UAAU,mCACb,kBAACiD,EAAA,EACK,CACFE,UAAW,MACXC,MAAO,WAGT,kBAACR,EAAA,EACK,CACF,aAAc,UACdpf,MAAO,UACPyR,QAAS0c,GAGX,kBAAC,KAAD,SAIN,yBAAK3R,UAAU,kCACb,kBAACiD,EAAA,EACK,CACFE,UAAW,MACXC,MAAO,YAGT,kBAACR,EAAA,EACK,CACF,aAAc,WACdpf,MAAO,UACPyR,QAAS2c,GAGX,kBAAC,KAAD,WAYCiB,GAAe,SAAC,GAAD,IAC1Bh9B,EAD0B,EAC1BA,QACAyP,EAF0B,EAE1BA,MACA2sB,EAH0B,EAG1BA,YACAt3B,EAJ0B,EAI1BA,qBACA7E,EAL0B,EAK1BA,KACAg6B,EAN0B,EAM1BA,eAN0B,OAQ1B,wBACM,CACFgD,aAAc,kBAAMhD,EAAe,CAAE7iB,EAAG,KAAMD,EAAG,SAGlDpG,GAAU9Q,GAAMwJ,KAAI,SAACquB,EAAO3gB,GAAR,OACnB,yBAAKgT,UAAU,MAAMtrB,IAAKsY,GACvBpG,GAAU/Q,GAASyJ,KAAI,SAACquB,EAAO1gB,EAAG8lB,GAAX,IAAgBpmB,EAAhB,uDAA8BrH,EAAM0H,GAAGC,GAAvC,OACtB,kBAACqlB,GAAD,eACE59B,IAAKuY,GACD,CACFglB,cACAt3B,uBACAgS,cACAmjB,iBACA7iB,IACAD,gBAkBRgmB,GAA4B,IAAIjtB,IAAI,CACxC8S,GACAre,GACAse,GACA/f,GACAggB,KAGIka,GAAiC,SAAC,GAAD,IAAGpM,EAAH,EAAGA,SAAUoC,EAAb,EAAaA,KAAMvwB,EAAnB,EAAmBA,MAAnB,OACrC,kBAACuqB,EAAA,EAAY,CAAEgG,OAAM9F,UAAW,MAAOC,MAAM,UAAD,OAAY1qB,EAAZ,cAAuBA,IAChEmuB,IAIQqM,GAAQ,SAAA5S,GAAU,IAE3Bhb,EAOEgb,EAPFhb,MACA1Q,EAME0rB,EANF1rB,UACAylB,EAKEiG,EALFjG,6BACA1f,EAIE2lB,EAJF3lB,qBACAiK,EAGE0b,EAHF1b,UACA4B,EAEE8Z,EAFF9Z,eACA4Q,EACEkJ,EADFlJ,eAR0B,EAWUuH,mBAAS,CAAE1R,EAAG,KAAMD,EAAG,OAXjC,mBAWrBilB,EAXqB,KAWRnC,EAXQ,OAYYnR,mBAAS,GAZrB,mBAYrBwU,EAZqB,KAYPC,EAZO,OAaoBzU,mBAAShkB,GAb7B,mBAarB04B,EAbqB,KAaHC,EAbG,KAe5BlU,qBAAU,WACRkU,EAAoB34B,KACnB,CAACA,IAOJ,OACE,oCACE,kBAAC,gBACK,CACFi4B,OAAQf,KAIZ,wBACM,CACF7R,UAAWuE,IAAW,QAAS,CAC7B,eAAgB3vB,IAAcikB,GAC9B,iBAAkBjkB,IAAc4F,GAChC,eAAgB5F,IAAckkB,GAC9B,qBAAsBrS,GAAyB,CAC7C7B,YACA4B,mBAEF,aAAc5R,IAAcmE,GAC5B,qBAAsBnE,IAAckG,GACpC,qBAAsBlG,IAAc8F,GACpC,aAAc9F,IAAcmkB,KAE9B,uBAAwB3B,GAG1B,kBAAC,KACK,CACFhU,QAAS,CACPmwB,eAAe,GAEjBC,MAAO,CACLC,cAAe,GAEjBC,IAAK,CACHzO,SAAUkO,GAAgB,GAI5BxB,OAAQ,CACN8B,cAAe,GAEjB7B,QAAS,CACP6B,cAAe,GAEjBE,aAAc,YAAgB,IAAbhB,EAAY,EAAZA,MAGXA,GAAS,GACXS,EAAgBT,IAGpBiB,MAAO,CACL3O,UAAU,GAEZ4O,YAAa,CAAE5O,UAAU,KAG1B,SAAA6O,GAAc,OACb,kBAAC,GAAD,2BAEOA,GAFP,IAGItB,aACE,kBAAC,GAAD,2BACWlS,GADX,IACkB2R,cAAanC,0BAOxCkD,GAA0B7sB,IAAIvR,IAC7B,yBAAKorB,UAAU,kBACb,kBAAC+T,GAAA,EACK,CACFC,OAAO,EACP5zB,IAAKkF,EAAM/H,OAAS,EACpB4C,IAAK,EACLqhB,SAAU,SAAClE,EAAG5kB,GAAJ,OAnFmB,SAAAA,GACzC46B,EAAoB56B,GACpB2hB,EAA6B3hB,GAkFfu7B,CAAmCv7B,IACrCw7B,KAAM,EACNx7B,MAAO26B,EACPc,kBAAmB,OACnBC,iBAAkB,SAAA17B,GAAK,gBAAe,EAARA,EAAY,IAC1C27B,oBAAqBpB,MAK7B,kBAAC,GAAD,MACA,wBAAS,CAAEjT,UAAW,cAkBf,SAASK,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAgBD,GAAcC,GAAaF,O,yBC3V7CgU,I,OAAO,SAAC,GAAD,IAAGva,EAAH,EAAGA,4BAAH,OACX,yBAAKiG,UAAU,QACb,wCACA,kBAACwG,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CAAuB6N,WAAY,kBAAC,KAAD,OACjC,wEAEF,kBAAClO,GAAA,EAAD,KACE,kBAAC,KACK,CACFmO,WAAY,SACZxU,UAAW,WACXY,OAAO,ytDAiBf,kBAACC,GAAA,EAAD,MACA,kBAACyD,GAAA,EAAD,KACE,kBAACQ,GAAA,EAAD,KACE,kBAAC,KACK,CACF9E,UAAW,WACXwU,WAAY,SACZ5T,OAAO,kYAAD,OAKyGprB,GALzG,yOASV,kBAACwvB,GAAA,EACK,CACFxhB,MAAO,UACPyR,QAAS,kBAAM8E,EAA4BllB,GAAe8B,OAC1DypB,QAAS,aAJb,oBAWJ,kBAACS,GAAA,EAAD,MACA,kBAACyD,GAAA,EAAD,KACE,kBAACQ,GAAA,EAAD,KACE,kBAAC,KACK,CACF9E,UAAW,WACXwU,WAAY,SACZ5T,OAAO,kqCAmBf,kBAACC,GAAA,EAAD,MACA,kBAACyD,GAAA,EAAD,KACE,kBAACQ,GAAA,EAAD,KACE,kBAAC,KACK,CACF9E,UAAW,WACXwU,WAAY,SACZ5T,OAAO,0cASf,kBAACC,GAAA,EAAD,MACA,kBAACyD,GAAA,EAAD,KACE,kBAACQ,GAAA,EAAD,KACE,kBAAC,KACK,CACF9E,UAAW,WACXwU,WAAY,SACZ5T,OAAO,mxBA+BJ,SAASP,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAeD,GAAcC,GAAaF,O,WClJrCmU,GAAb,4MACE/gC,MAAQ,CACNghC,UAAU,EACVC,kBAAkB,EAClB1nB,EAAGwnB,EAAIG,iBACP5nB,EAAGynB,EAAIG,kBALX,EAQEC,oBAAsB,KARxB,EASEC,yBAA2B,KAT7B,EAUEC,oBAAsB,KAVxB,EAmDEC,sBAAwB,WACtB,EAAKF,yBAA2B,KAChC,EAAKG,gBArDT,EAwDEC,KAAO,WACL,EAAKJ,yBAA2BK,WAC9B,EAAKH,sBACLP,EAAIW,2BAGN,EAAKvb,SAAS,CACZ6a,UAAU,EACVznB,EAAGwnB,EAAIG,iBACP5nB,EAAGynB,EAAIG,oBAjEb,EAqEEK,aAAe,WACb,EAAKI,eACL,EAAKxb,SAAS,CAAE6a,UAAU,KAvE9B,EA0EEY,yBAA2B,WACzB,EAAKT,oBAAsB,KAC3B,EAAKK,QA5ET,EA+EEG,aAAe,WACT,EAAK/U,MAAMoD,aAIf,EAAKmR,oBAAsBM,WACzB,EAAKG,yBACLv2B,KAAKE,SAAW,EAAKs2B,gBAtF3B,iEAwBqBC,GAAY,IAAD,OAE1B51B,KAAK0gB,MAAMoD,aACV8R,EAAU9R,YACkB,OAA7B9jB,KAAKi1B,qBAELY,aAAa71B,KAAKi1B,sBAGfj1B,KAAK0gB,MAAMoD,YAAc8R,EAAU9R,YACtC9jB,KAAKy1B,eAILz1B,KAAK0gB,MAAMriB,IAAI4F,qBACb2xB,EAAUv3B,IAAI4F,uBACfjE,KAAKlM,MAAMihC,mBAEZ/0B,KAAKia,SAAS,CAAE8a,kBAAkB,IAElC/0B,KAAKm1B,oBAAsBI,YACzB,kBAAM,EAAKtb,SAAS,CAAE8a,kBAAkB,MACxCF,EAAIiB,yBA9CZ,0CA2FI91B,KAAKy1B,iBA3FT,6CA+FK,CACCz1B,KAAKi1B,oBACLj1B,KAAKk1B,yBACLl1B,KAAKm1B,qBACL1uB,QAAQovB,gBAnGd,+BAsGY,IAAD,EAIH71B,KAFF0gB,MAASriB,EAFJ,EAEIA,IAAK0d,EAFT,EAESA,eAAgB+H,EAFzB,EAEyBA,WAFzB,EAIH9jB,KADFlM,MAASghC,EAHJ,EAGIA,SAAUC,EAHd,EAGcA,iBAAkB1nB,EAHhC,EAGgCA,EAAGD,EAHnC,EAGmCA,EAG1C,OACE,wBACM,CACFgT,UAAWuE,IAAW,MAAO,CAC3B,YAAamQ,EACb,cAAehR,IAEjBzO,QAAS,kBAAM0G,EAAe1d,IAC9B4hB,MAAO,CACL8V,KAAK,GAAD,OAAK3oB,EAAL,KACJ4oB,IAAI,GAAD,OAAK3oB,EAAL,OAIP,kBAACgW,EAAA,EACK,CACFC,OAAO,EACPC,UAAW,MACXC,MAAOnlB,EAAI7E,KACX6vB,KAAMvF,EACNmS,YAAa,CACXC,eAAe,IAInB,6BACE,sCACM,CACFnR,IAAK3mB,GAAQC,IAAIhJ,GAAUgJ,EAAIuF,OAAO6pB,gBAF1C,CAIEzI,IAAI,SAEN,kBAAC,KACK,CACF5E,UAAWuE,IAAW,YAAa,CACjC,eAAgBoQ,IAElB/G,KAAMmI,SAKd,uBAAQ,CAAE/V,UAAW,0BAClB,IAAIrf,MAAMf,KAAK0gB,MAAMriB,IAAI4F,sBAAsBjD,OAAOtB,KAAI,SAACsL,EAAGtN,GAAJ,OACzD,uBAAQ,CAAE5I,IAAK4I,GACb,kBAAC,KACK,CACFswB,KAAMmI,eA3JxB,mCAqBI,OAAO,IAAOn2B,KAAK0gB,MAAMvZ,aAAaxJ,WArB1C,GAAyBy4B,aAAZvB,GAaJW,0BAA4B,IAbxBX,GAgBJiB,qBAAuB,IAhBnBjB,GAkBJG,eAAiB,kBAAM,GAAqB,GAAhB71B,KAAKE,UA2JnC,IAAMg3B,GAAS,SAAC,GAAD,IAAGlvB,EAAH,EAAGA,aAAc4U,EAAjB,EAAiBA,eAAgB5D,EAAjC,EAAiCA,cAAjC,OACpB,yBAAKiI,UAAU,eACZjZ,EAAazH,KAAI,SAAArB,GAAG,OACnB,kBAAC,GACK,CACFA,MACA8I,eACArS,IAAKuJ,EAAI/E,GACTyiB,iBACA+H,WAAY3L,IAAkB9Z,EAAI/E,UAa7B,SAASmnB,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAiBD,GAAcC,GAAaF,O,WCxMvC4V,GAAb,4MACExiC,MAAQ,CACNyiC,aAAc,IAFlB,EAKEC,WALF,YAKmB,EAAK9V,MAAM+V,MAAM34B,WALpC,EA0BE44B,iBAAmB,SAAAC,GAAS,OAAIA,GAAa,EAAKjW,MAAMkW,eA1B1D,EA4BEC,mBAAqB,WAAO,IAAD,qBAEvBnW,MAASmW,EAFc,EAEdA,mBAAoBjtB,EAFN,EAEMA,MAC7BktB,EAHuB,EAGvBA,mBAIEltB,GAFc,EAAK8W,MAAM+V,MAAMllB,IAAIulB,GAA/B3gC,OAGN0gC,EAAmBC,IApCzB,EAwCEC,eAAiB,YAA4B,IAAfj+B,EAAc,EAAxB6gB,OAAU7gB,MAC5B,EAAKmhB,SAAS,CAAEsc,aAAcz9B,KAzClC,EA4CEk+B,mBAAqB,WAAO,IAAD,iBAEdptB,EAFc,EAEvB8W,MAAS9W,MAILqtB,EANmB,EAGvBH,mBAG0C,EACtCI,EAAqB,EAAKxW,MAAM+V,MAAMllB,IAAI0lB,GAE5CC,GAAsBttB,GAASstB,EAAmB/gC,OACpD,EAAK8jB,SAAS,CAAEsc,aAAcY,OAAOF,MAtD3C,kEA2DIj3B,KAAKg3B,uBA3DT,yCA8DqBpB,GACb51B,KAAK0gB,MAAM9W,QAAUgsB,EAAUhsB,OACjC5J,KAAKg3B,uBAhEX,+BAoEY,IAENI,EAOEp3B,KAPFo3B,yBACAP,EAME72B,KANF62B,mBACAH,EAKE12B,KALF02B,iBACAK,EAIE/2B,KAJF+2B,eALK,EASH/2B,KAHF0gB,MAAS9W,EANJ,EAMIA,MAAOytB,EANX,EAMWA,gBAAiB7T,EAN5B,EAM4BA,MACjCgT,EAEEx2B,KAFFw2B,WACSD,EACPv2B,KADFlM,MAASyiC,aAGX,OACE,kBAAC7R,GAAA,EAAD,CAAMtE,UAAU,gBACd,kBAACyE,GAAA,EAAe,CAAErB,UAClB,kBAAC2B,GAAA,EAAD,KACE,kBAACC,GAAA,EACK,CACFxhB,MAAO,UACPyhB,UAAW+R,EACX/hB,QAASwhB,EACTrW,QAAS,aALb,OAUA,kBAAC6K,GAAA,EACK,CACFzJ,SAAUmV,EACVj+B,MAAOy9B,GAGRC,EAAW92B,KAAI,mCAAEpG,EAAF,KAAMZ,EAAN,YACd,kBAAC6yB,GAAA,EAAD,CACEz2B,IAAKwE,EACLR,MAAOQ,EACP+rB,SAAUzb,EAAQlR,EAAKvC,OAASugC,EAAiBp9B,IAEhD+9B,EAAgB3+B,YAzGjC,yCAQI,OAAOyC,OAAO6E,KAAKlM,MAAMyiC,gBAR7B,+CAWkC,IAEnB3sB,EAEP5J,KAFF0gB,MAAS9W,MACTktB,EACE92B,KADF82B,mBAGIP,EAAev2B,KAAK0gB,MAAM+V,MAAMllB,IAAIulB,GAE1C,QACIP,IACDv2B,KAAK02B,iBAAiBI,IACvBltB,GAAS2sB,EAAapgC,UAtB5B,GAAkCigC,aA4HnB,SAAS3V,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAuBD,GAAcC,GAAaF,O,WCrH7C4W,GAAO,SAAC,GAAD,IAClBjc,EADkB,EAClBA,qBACAD,EAFkB,EAElBA,oBACAE,EAHkB,EAGlBA,+BACA1U,EAJkB,EAIlBA,eACAgD,EALkB,EAKlBA,MACAQ,EANkB,EAMlBA,gBACAoN,EAPkB,EAOlBA,eACAxY,EARkB,EAQlBA,cARkB,OAUlB,yBAAKohB,UAAU,QACb,kBAAC,GACK,CACFtkB,MAAOkD,IAGX,wBAAIohB,UAAU,aACXxZ,GAAkB,GACjB,4BACE,kBAAC8d,GAAA,EAAD,KACE,kBAACG,GAAA,EACK,CACFC,OACE,sCACM,CAAEC,IAAKjpB,GAAM,kBADnB,CAEEkpB,IAAK,mBAGTxB,MAAO,eACPyB,UACE,6BACE,qCAAW/jB,GAAYhK,KACvB,uDAA6B0P,MAKrC,kBAACse,GAAA,EAAD,KACE,kBAAC3E,GAAA,EAAD,sEACiE,ItGqCvC,IsGtC1B,iBAKF,kBAAC4E,GAAA,EAAD,KACE,kBAACC,GAAA,EACK,CACFC,SAAUzb,EAAQ1S,GAClB0M,MAAO,UACPyR,QAASiG,EACTkF,QAAS,aALb,UAeR,4BACE,kBAAC,GACK,CACFqW,mBAAoBzb,EACpBwb,cAAepf,EACf6f,gBAAiB,gBAAGphC,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAOD,EAAnB,EAAmBA,KAAnB,iBACXC,EADW,aACDF,EADC,cACYC,IAC7BugC,MAAO1gC,GACPytB,MAAO,kBAIb,4BACE,kBAAC,GACK,CACFqT,mBAAoBxb,EACpBub,cAAexsB,EACfitB,gBAAiB,gBAAGhhC,EAAH,EAAGA,KAAMF,EAAT,EAASA,MAAT,iBAAyBA,EAAzB,aAAmCE,EAAnC,aACjBogC,MAAOrgC,GACPotB,MAAO,oBAoBJ,SAAS/C,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAeD,GAAcC,GAAaF,O,WCrG5C6W,GAAkB,SAAC,GAAD,IACtBvT,EADsB,EACtBA,0BADsB,IAEtB5nB,OAAUE,EAFY,EAEZA,YAAa9C,EAFD,EAECA,KAFD,OAItB,uBAAQ,CAAE4mB,UAAW,YAAaoD,MAAM,mBAAD,OAAqBhqB,IAC1D,4BACE,sDAED9D,OAAOf,KAAK2H,GAAaoD,KAAI,SAAAlD,GAAM,OAClC,uBAAQ,CAAE1H,IAAK0H,GACb,sBACM,CACF4jB,UAAWuE,IACTX,EAA0BxnB,IAAWF,EAAYE,GAC7C,WACA,iBAIPF,EAAYE,GATf,MAS2BP,GAASO,GAAQhD,KAT5C,aAS4D,IAC1D,kBAAC,GACK,CACF2H,OAAQ6iB,EAA0BxnB,GAClC6kB,UAAWzf,KAbjB,WAuBF41B,GAAS,SAAC,GAOT,IANLle,EAMI,EANJA,sBACAtU,EAKI,EALJA,UACA4B,EAII,EAJJA,eACAod,EAGI,EAHJA,0BACA5nB,EAEI,EAFJA,OAEI,IADJA,OAAU9C,EACN,EADMA,GAAIE,EACV,EADUA,KACV,EAC4BulB,mBAAS,GADrC,mBACG9Z,EADH,KACa8d,EADb,KAGJvD,qBAAU,WACRuD,EAAY5jB,KAAKoB,IAAI2E,GAAiB9I,EAAQ4I,GAAY,MACzD,CAACA,EAAW5I,IAEf,IAAMq7B,EACJxyB,EAAW,GACXG,GAAchJ,EAAQ4I,EAAWC,IACjC4B,GAAyB,CAAE7B,YAAW4B,mBAElC8wB,EAAmB,WACnBD,GACFne,EAAsBld,EAAQ6I,IAI5Bqd,EAAcpd,GAAiB9I,EAAQ4I,GAE7C,OACE,kBAAC0f,GAAA,EACK,CACFtE,UAAWuE,IAAW,SAAU,CAAE,cAAe8S,KAGnD,kBAAC5S,GAAA,EACK,CACFC,OAAQ,wBAAS,CAAEC,IAAK/mB,GAAa1E,GAAK0rB,IAAKxrB,IAC/CgqB,MAAOhqB,EACPyrB,UACE,oCACE,0CAAgBtjB,GAAa1F,GAAS3C,GAAIR,QAC1C,4CACiB8I,GAAcoiB,EAA0B1qB,KAEzD,kBAAC,GAAoB,CAAE0qB,4BAA2B5nB,cAK1D,kBAAC+oB,GAAA,EAAD,KACE,kBAACC,GAAA,EACK,CACFhF,UAAW,cACXxc,MAAO,UACPyhB,UAAWoS,EACXpiB,QAASqiB,EACTlX,QAAS,aANb,QAWA,kBAAC,GACK,CACF4B,aAAcsV,EACdrV,mBAAoBU,EACpBT,cACAS,cACAjqB,MAAOmM,OAgBJ,SAASwb,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAiBD,GAAcC,GAAaF,O,WCjI9CiX,GAAW,SAAC,GAAD,IAAG1iB,EAAH,EAAGA,eAAH,OACf,yBAAKmL,UAAU,YACb,+CACA,iCACE,wBAAIA,UAAU,aACX1qB,OAAOf,KAAKsgB,GAAgBvV,KAAI,SAAAwV,GAAQ,OACvC,wBAAIpgB,IAAKogB,GACP,kBAAC,GACK,CACF9Y,OAAQe,GAAW+X,WAO/B,kBAAC+L,GAAA,EAAD,MACA,iCACE,wBAAIb,UAAU,aAKZ,4BACE,kBAACsE,GAAA,EAAD,KACE,kBAACQ,GAAA,EAAD,KACE,kBAAC,KACK,CACF0P,WAAY,SACZxU,UAAW,WACXY,OAAO,yHAeV,SAASP,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAmBD,GAAcC,GAAaF,O,WCjDzCkX,GAAQ,SAAC,GAMf,IALLlyB,EAKI,EALJA,MACA+V,EAII,EAJJA,WAEAvB,GAEI,EAHJ2S,gBAGI,EAFJ3S,YACAiG,EACI,EADJA,UAEM0X,EAAMC,iBAAO,MAenB,OAbAtY,qBAAU,WAAO,IAEbuY,EAEEF,EAFFE,QACW9X,EACT4X,EADFE,QAAW9X,MAGb8X,EAAQC,UAAY,EAGpB/X,EAAMgY,SAAW,SACjB1C,YAAW,kBAAOtV,EAAMgY,SAAW,KAAK,KACvC,CAAC/d,IAGF,wBACM,CACFkG,UAAWuE,IACT,QACAlJ,EAAa,YAAc,eAE7B,mBAAoBvB,EACpB2d,OAGF,wBAAIzX,UAAU,cAAcD,GAC3BjG,IAAejlB,GAAe4B,MAAQ,kBAAC,GAAD,MACtCqjB,IAAejlB,GAAe6B,OAC7B,kBAAC,GACK,CACFb,QAASyP,EAAM,GAAG/H,OAClBzH,KAAMwP,EAAM/H,SAIjBuc,IAAejlB,GAAe8B,MAAQ,kBAAC,GAAD,MACtCmjB,IAAejlB,GAAe+B,SAAW,kBAAC,GAAD,MACzCkjB,IAAejlB,GAAegC,UAAY,kBAAC,GAAD,MAC3C,wBAAS,CAAEmpB,UAAW,aAab,SAASK,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAAgBD,GAAcC,GAAaF,O,cCnEtCwX,I,OAAqB,SAAC,GAAD,IAChClc,EADgC,EAChCA,wBACAG,EAFgC,EAEhCA,wBACAC,EAHgC,EAGhCA,yBACAjK,EAJgC,EAIhCA,cACAmD,EALgC,EAKhCA,oBALgC,OAOhC,yBAAK8K,UAAU,6CACb,kBAAC+X,GAAA,EACK,CACFC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,iB1GgE6B,I0G/D7BnY,UAAW,eACX/K,QAAS8G,EACTmN,QAAStN,EACTgQ,SAAU5P,EACViN,KAAM/T,GASR,yBAAK8K,UAAU,WACZjO,EAAczS,KAAI,gBAAGwL,EAAH,EAAGA,QAASmK,EAAZ,EAAYA,QAAS5G,EAArB,EAAqBA,SAArB,OACjB,kBAACqS,GAAA,EACK,CACFC,UAAW,EACXjsB,IAAI,GAAD,OAAK2Z,EAAL,YAAiBvD,GACpBmK,UACA5G,YAGF,kBAAC,KAAkB,CAAEuS,OAAQ9V,aAqB1B,SAASuV,GAASC,GAC/B,OACE,kBAAC,EAAgBD,SAAjB,MACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,kBAAC,GAAD,uCAA6BD,GAAcC,GAAaF,O,qBCpEjD8X,gBAAe,CAC5BC,WAAY,CAGVC,iBAAiB,KCLfC,GAAoB,CACxBC,KAAM,OACN74B,MAAO,WACP84B,YAAa,cACbC,QAAS,CACP,eAAgB,oBAElBra,SAAU,SACVsa,eAAgB,eAGX,SAAeC,KAAtB,gC,8CAAO,8CAAAC,EAAA,6DAAuBC,EAAvB,+BAA6B,GAAI7b,EAAjC,+BAAwC,GACvC8b,EAAS,IAAIC,gBAEnB1jC,OAAOf,KAAK0oB,GAAM5W,SAAQ,SAAA3R,GAAG,OAC3BqkC,EAAOE,OAAO3a,mBAAmB5pB,GAAM4pB,mBAAmBrB,EAAKvoB,QAJ5D,SAQkBwkC,MAAM,GAAD,OAAIJ,EAAJ,YAAWC,GAAX,YAAC,eACxBR,IADuB,IAE1BY,OAAQ,SAVL,cAQCC,EARD,yBAaEA,EAAS7b,QAbX,4C,sBAgBA,SAAe8b,KAAtB,gC,8CAAO,4CAAAR,EAAA,6DAAwBC,EAAxB,+BAA8B,GAAI7b,EAAlC,+BAAyC,GAAzC,SAEkBic,MAAMJ,EAAD,YAAC,eACxBP,IADuB,IAE1BY,OAAQ,OACRG,KAAMl6B,KAAKC,UAAU4d,MALlB,cAECmc,EAFD,yBAQEA,EAAS7b,QARX,4C,sBC5BA,IAAMgc,GAAY,CACvBC,cAAc,GAAD,OAAKxO,+BAAL,uBACbyO,eAAe,GAAD,OAAKzO,+BAAL,yB,sXCwERnS,GAAqCjkB,GAArCikB,QAASC,GAA4BlkB,GAA5BkkB,QAASvM,GAAmB3X,GAAnB2X,QAASwM,GAAUnkB,GAAVmkB,MAE7B9S,GAAU3Q,OAAOD,OAAOC,OAAOf,KAAKsH,KAO7B69B,GAAyB75B,IAAQ,SAAC+E,EAAWjD,GAAZ,OAC5CiD,EAAUtF,KAAI,gBAAGuF,EAAH,EAAGA,SAAU3L,EAAb,EAAaA,GAAb,mBAAC,aACb2L,YACGhJ,GAAS3C,IAFA,IAGZR,MAAOgJ,GAAoB7F,GAAS3C,GAAKyI,WAQhCg4B,GAAwB95B,IAAQ,SAAA+E,GAAS,OACpDA,EACGQ,QAAO,YAAa,IAAVlM,EAAS,EAATA,GACDJ,EAAqB+C,GAAS3C,GAA9BJ,iBAER,MAC8B,kBAArBA,GACPA,IAAqBlE,GAAUmE,SAGlCuG,KAAI,gBAAGpG,EAAH,EAAGA,GAAH,OAAY2C,GAAS3C,SAOjB0gC,GAA4B/5B,IAAQ,SAAA+E,GAAS,OACxDA,EACGQ,QAAO,gBAAGlM,EAAH,EAAGA,GAAH,OAAY2C,GAAS3C,GAAIF,mBAChCsG,KAAI,gBAAGpG,EAAH,EAAGA,GAAH,OAAY2C,GAAS3C,SASxB2gC,GAAmB,SAACl4B,EAAkB2I,EAAcC,GACxD,IAAMuvB,EAAuB,eAAQn4B,GASrC,OAPArM,OAAOf,KAAK+V,GAAcjE,SAAQ,SAAAjK,GAChC09B,EAAwB19B,GAAU,MAEpC9G,OAAOf,KAAKgW,GAAalE,SAAQ,SAAAjK,GAC/B09B,EAAwB19B,GAAU,OAG7B09B,GA+EYC,G,kDA4EnB,aAAe,IAAD,8BACZ,eAASC,YA1EXC,YAAcA,IAAYC,eAAe,CACvC9gC,KAAM,WACNmB,YAAa,qCAuED,EAhEd7G,MAAQ,CACNs2B,cAAe,KACf1N,kBAAmBlnB,GAAWmnB,KAC9BrE,sBAAuB,GACvBrE,WAAY,GACZjD,eAAgB,CACdC,OAAQ,KACRC,OAAQ,KACRG,gBAAiB,GAEnBlK,aAAc,GACdoD,mBAAoB,GACpBmL,SAAU,GACV5L,eAAgB,GAChBoI,SAAU,EACViM,SAAU,UACVzY,MAAO5E,KACPy5B,WAAW,EACXC,oBAAqB,KACrBjnB,sBAAuB,GACvBC,uBAAwB,GACxBnF,2BAA4B,GAC5BtT,qBAAsB,EACtBzB,GAAI4K,eACJc,UAAW,GACX4B,e9G9NmC,I8G+NnC6zB,0BAA0B,EAC1Bhf,YAAa3V,KACbnJ,UAAW,GACXuuB,kBAAkB,EAClBb,SAAU,EAAK3J,MAAMztB,MAAMynC,KAAKC,WAAW,WAC3C1lB,eAAgB,GAChBpJ,YAAajW,GACb6iB,cAAe,EACf7O,MAAOhU,GACP8Y,oBAAqB,GACrByD,cAAe,GACfF,gBAAiB,GACjBkG,cAAe,GACfjK,eAAgB,GAChBlZ,UAAW2X,GACXjC,aAAc,GACdC,YAAa,GACbyI,oBAAqB,EACrBC,wBAAyB,EACzBC,0BAA2B,EAC3BxK,sBAAuB,EACvBX,QAAS,EACTsW,SAAU,GACVnS,KAAMsuB,mBAAmB,EAAKla,MAAMztB,MAAMkmC,OAAO7sB,MAAQlV,IACzDgT,gBAAiB,EACjBoN,eAAgB,EAChBlC,qBAAqB,EACrB4E,WAAYjlB,GAAe4B,KAC3Bqd,wBAAyB,GACzBlL,aAAc,EACdG,gBAAiB,GACjBJ,cAAe,EACfG,wBAAyB,GACzBoV,kCAAkC,EAClCvc,iBAAkB,GAClB84B,QAASzP,SAGG,EAWd4N,QAAUA,GAXI,EAYdS,SAAWA,GATT,EAAKqB,oBACL,EAAKC,eAILjoC,IAAOoB,SAAP,eARY,E,gEAiEO,IAAD,OAGlB8L,KAAK4gB,SAAW,CAAEyN,UAAW,IAE7B34B,OAAOf,KAAKqmC,IAAev0B,SAAQ,SAAA8yB,GACjC,EAAK3Y,SAAS2Y,GAAUyB,GAAczB,GAAQ0B,KAAK,GAEnD,EAAKra,SAASyN,UAAUkL,GAAU2B,IAChC,EAAKta,SAAS2Y,GARS,OAe3Bv5B,KAAKgzB,OAAS,CACZpY,aAAc,UACdugB,SAAU,QACVC,eAAgB,IAChBC,iBAAkB,IAClBC,QAAS,IACTC,gBAAiB,IACjBC,UAAW,IACXC,aAAc,IACdC,aAAc,OACdC,WAAY,KAGd37B,KAAK47B,YAAc,CACjBhhB,aAAc,kBAAM,EAAKA,gBACzBugB,SAAUn7B,KAAK2b,cAAcsf,KAAKj7B,MAClCo7B,eAAgB,kBAAM,EAAK9e,eAAe9mB,GAAWo1B,aACrDyQ,iBAAkB,kBAAM,EAAK/e,eAAe9mB,GAAWm1B,eACvD2Q,QAAS,kBAAM,EAAKhf,eAAe9mB,GAAWg1B,cAC9C+Q,gBAAiB,kBAAM,EAAKjf,eAAe9mB,GAAWi1B,eACtD+Q,UAAW,kBAAM,EAAKlf,eAAe9mB,GAAWk1B,QAChD+Q,aAAc,kBAAM,EAAKnf,eAAe9mB,GAAWq1B,WACnD6Q,aAAc17B,KAAK6b,kBAAkBof,KAAKj7B,MAC1CoyB,UAAW,kBAAM,EAAKxR,SAASxG,sBAAsBnB,KACrDkZ,aAAc,kBAAM,EAAKvR,SAASxG,sBAAsBlB,KACxDgZ,kBAAmB,kBAAM,EAAKtR,SAASxG,sBAAsBjB,KAC7DwiB,WAAY,kBAAM,EAAK/a,SAASrF,qBAGlCvU,GAAU,GAAGP,SAAQ,SAACuE,EAAGtN,GACvB,IAAMm+B,EAAQn+B,EAAI,EACZ5I,EAAG,mBAAe+mC,GACxB,EAAK7I,OAAOl+B,GAAOqiC,OAAO0E,GAC1B,EAAKD,YAAY9mC,GAAO,WACtB,IAAMgnC,EAAW,EAAK3Q,SAASztB,GAEP,kBAAbo+B,GACT,EAAK7hB,SAAS,CAAEC,WAAYjlB,GAAe6mC,SAYjDpmC,OAAOqmC,OAAO/7B,KAAK47B,YAAa,CAC9B1gB,mBAAoB,kBAAM,EAAKA,sBAC/BvD,cAAe,kBAAM,EAAKA,cAAc,EAAK7jB,Y,qCAIjC,IAAD,OACZ,CACC,aACA,yBACA,6BACA,+BACA,gBACA,YACA,gBACA,WACA,cACA,SACA,aACA,YACA,cACA,iBACA,gBACA,eACA,2BACA,cACA,WACA,UACA,YACA,eACA,eACA,mBACA,aACA,gBACA,aACA2S,SAAQ,SAAAu1B,GACR,IAAMC,EAAUC,EAASF,GAEzB,EAAKA,GAAe,WAAc,IAAD,uBAATz8B,EAAS,yBAATA,EAAS,gBAC/B,EAAK0a,UAAS,SAAAnmB,GAAK,OAAImoC,EAAO,WAAP,GAAQnoC,GAAR,OAAkByL,a,0CAK1B,IAAD,OAClBS,KAAKq6B,YAAY8B,QAAQ,SAAS3oC,MAAK,SAAAM,GACrC,GAAIA,EAAO,CACT,IAAM0V,EAAiBD,GAAuBzV,GACtC4a,EAAwBlF,EAAxBkF,oBAER,EAAKuL,SAAL,2BAAmBzQ,GAAnB,IAAmCkF,oBAAqB,MAAM,WAC5DA,EAAoBjI,SAAQ,gBAAGyE,EAAH,EAAGA,QAASuD,EAAZ,EAAYA,SAAZ,OAC1B,EAAKN,iBAAiBjD,EAASuD,cAKnC,EAAKmM,cAAa,GAClB,EAAKX,UAAS,iBAAO,CAAE5L,2BAA4B,OACnD,EAAKF,iBAAiBvC,GAAtB,KAAuChW,IAAwB,QAGjE,EAAKwmC,aAEL,EAAKniB,SAAS,CAAEsgB,WAAW,S,yCAIZ3E,EAAWvd,GAAY,IAAD,SASnCrY,KAAKlM,MAPPymC,EAFqC,EAErCA,UACAC,EAHqC,EAGrCA,oBACA/e,EAJqC,EAIrCA,WACA4O,EALqC,EAKrCA,SACAzgB,EANqC,EAMrCA,MACA0C,EAPqC,EAOrCA,KACA4N,EARqC,EAQrCA,WAOF,GAAKqgB,EAAL,CAfuC,MAwBnCv6B,KAAK0gB,MAJPztB,MACEynC,EArBmC,EAqBnCA,KArBmC,IAsBnCvB,OAAU7sB,KAIR+vB,EAAczB,wBA1BmB,MAsBTtuB,EAtBS,GA4BjCgwB,EAAc5B,EAAKC,WAAW,WAEhC2B,IAAgBt8B,KAAKlM,MAAMu2B,UAAYgS,IAAgB/vB,GACzDtM,KAAKia,UAAS,iBAAO,CACnBoQ,SAAUiS,EACV7d,SAAU,GACVnS,KAAM+vB,MAINhS,IAAahS,EAAUgS,UAAY/d,IAAS+L,EAAU/L,OACxDtM,KAAKo8B,aAEA/R,IACHkS,cAAc/B,GACdx6B,KAAKia,SAAS,CAAEmQ,cAAe,KAAMoQ,oBAAqB,UAI7C,IAAbnQ,IAA6C,IAAvBhS,EAAUgS,UAClCrqB,KAAKmO,iBpCxgB6B,+BoCwgBc,QAGlD,IAAMquB,EAA2BN,GAC/Bl8B,KAAKlM,MACLukB,GAGEmkB,IAA6Bx8B,KAAKlM,OACpCkM,KAAKia,UAAS,kBAAMuiB,KAIpBx8B,KAAKlM,MAAMomB,aAAejlB,GAAe+B,SACzCqhB,EAAU6B,aAAejlB,GAAe+B,SAExCgJ,KAAKia,UAAS,iBAAO,CAAE9B,cAAe,OAGpC+B,IAAe7B,EAAU6B,YACvBuB,GACFzb,KAAKia,UAAS,iBAAO,CAAEwB,YAAa3V,SAIpC8D,EAAQyO,EAAUzO,OACpB5J,KAAKia,UAAS,gBAAGjR,EAAH,EAAGA,aAAH,MAAuB,CACnCA,aAActI,GAAWsI,EAAcY,EAAQyO,EAAUzO,WAI5D,CACC,mCACA,kCACAnD,SAAQ,SAAAvG,GAAE,OAAI,EAAKA,GAAImY,S,2CAGL,IAAD,OACnBrY,KAAKq6B,YAAYoC,QAAQjpC,MAAK,kBAAM,EAAK2a,iBpCtjBjB,+C,sKoC0jB8BnO,KAAKlM,MAAnDu2B,E,EAAAA,SAAU3f,E,EAAAA,aAAcC,E,EAAAA,YAAa2B,E,EAAAA,KAExC+d,E,wDAILrqB,KAAKmO,iBpC1jB2B,gBoC0jBY,Q,SAG1CnO,KAAKia,SAAS,CAAEwgB,0BAA0B,I,SAEQzB,GAChDW,GAAUC,cACV,CACE8C,OAAQ18B,KAAKlM,MAAMwF,GACnBgT,KAAMA,I,gBAJF8d,E,EAAAA,cAAeroB,E,EAAAA,iBAQvB/B,KAAK28B,iBAEL38B,KAAKia,SAAS,CACZmQ,gBACAroB,iBAAkBk4B,GAChBl4B,EACA2I,EACAC,KAIJ3K,KAAKmO,iBAAiB9B,GAAtB,KAA0CC,GAAQ,W,kDAMlDtM,KAAKmO,iBAAiBrD,GAAc,SAEpC9W,QAAQO,MAAR,M,QAGFyL,KAAKia,SAAS,CAAEwgB,0BAA0B,I,uJAG1B,IAAD,SACmDz6B,KAAKlM,MAA1C8oC,EADd,EACPpC,oBAA6ClhC,EADtC,EACsCA,GAAIgT,EAD1C,EAC0CA,KACzDiwB,cAAcK,GAEd,IAAMpC,EAAsBqC,YAAW,sBAAC,8BAAA5D,EAAA,sEACND,GAAQW,GAAUC,cAAe,CAC/D8C,OAAQpjC,EACRgT,SAHoC,gBAC9B8d,EAD8B,EAC9BA,cAKR,EAAKnQ,SAAS,CAAEmQ,kBANsB,2CnB/mBH,KmBwnBrCpqB,KAAKia,UAAS,iBAAO,CAAEugB,4B,uDAMQniB,GAAY,IAEhCjO,EACPpK,KADFlM,MAASsW,gBAGX,GAAIA,IAAoBiO,EAAUjO,gBAAiB,CAAC,IAC1C/T,EAASD,GAAsBmb,IAAInH,GAAnC/T,KAER2J,KAAKmO,iBnCpnBsB,SAACnD,EAAG3U,GAAJ,sDACUA,EADV,kEmConBLymC,CAAtB,KAA0CzmC,O,wDAO8B,IAAD,OAA1B0mC,EAA0B,EAA1C9nB,eAC/Bvf,OAAOf,KAAKqL,KAAKlM,MAAMmhB,gBAAgBxO,SAAQ,SAAAyO,GnChlBrB,IAAI9Y,EmCilBvB2gC,EAAuBl1B,eAAeqN,IACzC,EAAK/G,kBAAL,KnCllB0B/R,EmCklBae,GAAW+X,GnCllB5B,sCACG9Y,EAAO5C,KADV,c,qCmC2lBE,IAAjBwjC,EAAgB,uDAAJ,GACvB,OAAOh9B,KAAKq6B,YAAY4C,QACtB,QACAj1B,GAAsB,2BACjBhI,KAAKlM,OACLkpC,O,mMAQUhpB,E,kCAObhU,KAAKlM,MALPkR,E,EAAAA,UACAqlB,E,EAAAA,SACA/d,E,EAAAA,KACAnD,E,EAAAA,gBACAD,E,EAAAA,wBAEIg0B,EAAehB,GAAgCl8B,KAAKlM,MAAOkgB,GAC3DmpB,EAAiB,IAEnB9S,E,iCAEArqB,KAAKia,SAAS,CAAEwgB,0BAA0B,IAEpCjuB,EAAYvD,GAChBC,EACAC,EACAnE,GAGEtP,OAAOf,KAAK6X,GAAW7O,QACzBw/B,EAAen3B,KAAK,CAClBkF,QAASqB,GAAF,KAAkCC,GACzCiC,SAAU,S,UAIqBgrB,GAASE,GAAUE,eAAgB,CACpErtB,YACAF,S,iBAFMvK,E,EAAAA,iBAKRm7B,EAAan7B,iBAAmBk4B,GAC9Bl4B,EACAm7B,EAAaxyB,aACbwyB,EAAavyB,a,kDAGfwyB,EAAen3B,KAAK,CAClBkF,QAASJ,GACT2D,SAAU,UAGZza,QAAQO,MAAR,M,QAGFyL,KAAKia,SAAS,CAAEwgB,0BAA0B,I,QAGtC2C,E,UACDD,E,YACAD,EAAaxuB,sBAQlB1O,KAAKia,SAAL,2BACOijB,GADP,IACqBxuB,oBAAqB,GAAIyD,cAAe,KAD7D,sBAEE,sBAAA8mB,EAAA,+EAEU,EAAKhb,aAAa,CAGtBvP,oBAAqB0uB,IAL3B,OAOK,GACEr6B,OAAOq6B,GACPr6B,OACCiR,EACI,GACA,CAAC,CAAE9I,QAASN,GAAwB6D,SAAU,UAEnDhI,SAAQ,gBAAGyE,EAAH,EAAGA,QAASuD,EAAZ,EAAYA,SAAZ,OACP,EAAKN,iBAAiBjD,EAASuD,MAfvC,gDAkBIza,QAAQO,MAAR,MAEA,EAAK4Z,iBAAiB3O,KAAKC,UAAL,MAAmB,SApB7C,0D,qJA6BWjK,GACbwK,KAAKia,SAAS,CAAEyC,kBAAmBlnB,EAAY01B,kBAAkB,M,wCAIjElrB,KAAKia,SAAS,CAAEiR,kBAAkB,M,sCAGnB,IACPC,EAAanrB,KAAbmrB,SAERnrB,KAAKia,UAAS,YAAqB,IAAlBC,EAAiB,EAAjBA,WACTmjB,EAAmBlS,EAASrV,QAAQoE,GAE1C,MAAO,CAAEA,WAAYiR,GAAUkS,EAAmB,GAAKlS,EAASxtB,c,0CAI/C,IACXwtB,EAAanrB,KAAbmrB,SAERnrB,KAAKia,UAAS,YAAqB,IAAlBC,EAAiB,EAAjBA,WACTmjB,EAAmBlS,EAASrV,QAAQoE,GAE1C,MAAO,CACLA,WACEiR,EACuB,IAArBkS,EACIlS,EAASxtB,OAAS,GACjB0/B,EAAmB,GAAKlS,EAASxtB,c,6CASzBlK,GAGrBA,EAAa6pC,QAAQC,YAAY,CAAEtkC,KAAM,iBAEzC+G,KAAKmO,iBpCpyBP,+EoCoyB0C,WAAW,WACjDrb,IAAOC,SAASyqC,c,+BAIV,IAAD,OAEI/e,EAYPze,KAZFlM,MAAS2qB,SACT6S,EAWEtxB,KAXFsxB,mBACA1Q,EAUE5gB,KAVF4gB,SACAgb,EASE57B,KATF47B,YACA5I,EAQEhzB,KARFgzB,OACAprB,EAOE5H,KAPF4H,kBACA2pB,EAMEvxB,KANFuxB,uBACA1E,EAKE7sB,KALF6sB,gBACA7I,EAIEhkB,KAJFgkB,0BACAhlB,EAGEgB,KAHFhB,cACAmsB,EAEEnrB,KAFFmrB,SACAhL,EACEngB,KADFmgB,UAKIQ,EAAS,2BACV3gB,KAAKlM,OADK,IAEbw9B,qBACA1pB,oBACA2pB,yBACA1E,kBACA7I,4BACAhlB,gBACAmsB,WACAhL,cAGF,OACE,kBAAC,gBAAD,CAAe6S,OAAQA,EAAQpS,SAAUgb,GACvC,kBAAC,IAAD,CAAkB6B,MAAOA,IACtBhf,GAAY,kBAAC,IAAa,CAAEuB,GAAIvB,IACjC,kBAAC,EAAgBif,SAAjB,CAA0B5kC,MAAO,CAAE6nB,YAAWC,aAC5C,wBACM,CACFR,UAAWuE,IAAW,gBAAiB,CACrC,wCAAyC3kB,KAAKlM,MAC3CwqB,iCACH,cAAete,KAAKlM,MAAM2mC,4BAI9B,kBAAC,GAAD,MACA,kBAACkD,EAAA,EACK,CACFvd,UAAW,kBACXiJ,KAAM1I,EAAUlF,WAChB+E,QAAS,aACTod,WAAY,CACVxd,UAAW,YAIf,kBAAC,GAAD,MACA,kBAAC,GAAD,OACCgL,EACD,wBAAS,CAAEhL,UAAW,YAExB,kBAAC,GAAD,MAMA,yBAAKA,UAAU,mBACb,kBAACyd,EAAA,EAAD,CACErd,QAAQ,OACRsd,MAAO3S,EAASxtB,OAChB0iB,SAAS,SACT0d,WAAY5S,EAASrV,QAAQ9V,KAAKlM,MAAMomB,YACxCkG,UAAU,KAEZ,yBAAKA,UAAU,uBACb,kBAAC4C,EAAA,EACK,CACF,aAAc,gBACdpf,MAAO,UACPyR,QAAS,kBAAM,EAAKwG,sBAGtB,kBAAC,IAAD,OAEF,kBAACmH,EAAA,EACK,CACF5C,UAAWuE,IAAW,cAAe,CACnC,UAAW3kB,KAAKlM,MAAM2nB,aAExB7X,MAAO,UACP,aAAc,cACdyR,QAAS,kBAAMuL,EAASrF,qBAG1B,kBAAC,IAAD,OAEF,kBAACyH,EAAA,EACK,CACF,aAAc,YACdpf,MAAO,UACPyR,QAAS,kBAAM,EAAKsG,kBAGtB,kBAAC,IAAD,SAIN,kBAAC0H,EAAA,EACK,CACFE,UAAW,OACXC,MACE,oCACE,sFAGA,4CAKN,kBAACR,EAAA,EACK,CACF,aACE,0DACF5C,UAAW,UACXxc,MAAO,YACPyR,QAASuL,EAASjG,yBAGpB,kBAAC,IAAD,SAIN,kBAAC,GAAD,W,gCAxoBR,OAAO/jB,GAAgBoJ,KAAKlM,MAAMomB,c,yCAIlC,OAAO6f,GAAsB/5B,KAAKlM,MAAMkR,a,sCAGnB,IAAD,EACoBhF,KAAKlM,MAArCkR,EADY,EACZA,UAAWjD,EADC,EACDA,iBACnB,OAAO+3B,GAAuB90B,EAAWjD,K,gDAGV,IACvBiD,EAAchF,KAAKlM,MAAnBkR,UAER,OAAOqB,GAAQzR,QAAO,SAACC,EAAK2H,GAC1B,IAAMwhC,EAAkBh5B,EAAUW,MAAK,qBAAGrM,KAAgBkD,KAG1D,OAFA3H,EAAI2H,GAAUwhC,EAAkBA,EAAgB/4B,SAAW,EAEpDpQ,IACN,M,6CAIH,OAAOmlC,GAA0Bh6B,KAAKlM,MAAMkR,a,+BAG9B,IACNhO,EAAyC/B,GAAzC+B,QAASF,EAAgC7B,GAAhC6B,MAAOD,EAAyB5B,GAAzB4B,KAAMI,EAAmBhC,GAAnBgC,SACxBk0B,EAAW,CAACt0B,EAD+B5B,GAAT8B,KACVD,GAQ9B,OANIkJ,KAAKlM,MAAMsW,iBACb+gB,EAASnlB,KAAKhP,GAGhBm0B,EAASnlB,KAAK/O,GAEPk0B,I,wCAIP,OAAO3jB,GACLF,GAAcF,GAAiBpH,KAAKlM,MAAM6I,e,oCAK5C,OAAOgL,GAAyB3H,KAAK4H,uB,GA1IHwuB,a,cCvDtC6H,IAASne,OACP,kBAAC,IACK,CACFoe,SAAU,WAGZ,kBAAC,IACK,CAAExD,KAAM,CAAC,gBAAiB,UAAW,KAAMnT,UAAW4S,MAG9Dtf,SAASsjB,eAAe,SlHlJnB,SAAkB/qC,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAI+qC,IAAIhT,YAAwBt4B,OAAOC,SAASsrC,MACpDC,SAAWxrC,OAAOC,SAASurC,OAIvC,OAGFxrC,OAAO2qB,iBAAiB,QAAQ,WAC9B,IAAMtqB,EAAK,UAAMi4B,YAAN,sBAEPx4B,IAkEV,SAAiCO,EAAOC,GAEtCkmC,MAAMnmC,EAAO,CACX2lC,QAAS,CAAE,iBAAkB,YAE5BtlC,MAAK,SAAAgmC,GAEJ,IAAM+E,EAAc/E,EAASV,QAAQvnB,IAAI,gBAEnB,MAApBioB,EAASgF,QACO,MAAfD,IAA8D,IAAvCA,EAAYzoB,QAAQ,cAG5CziB,UAAUC,cAAcmrC,MAAMjrC,MAAK,SAAAC,GACjCA,EAAairC,aAAalrC,MAAK,WAC7BV,OAAOC,SAASyqC,eAKpBtqC,EAAgBC,EAAOC,MAG1BkB,OAAM,WACLN,QAAQC,IACN,oEAzFA0qC,CAAwBxrC,EAAOC,GAI/BC,UAAUC,cAAcmrC,MAAMjrC,MAAK,WACjCQ,QAAQC,IACN,+GAMJf,EAAgBC,EAAOC,OkHyH/BwrC,K","file":"static/js/main.c42e033b.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              )\n\n              window.farmhand.showUpdateNotification(registration)\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import { createContext } from 'react'\n\nconst FarmhandContext = createContext()\n\nexport default FarmhandContext\n","/**\n * @module farmhand.enums\n * @ignore\n */\n\n/**\n * @param {Array.<string>} keys\n * @returns {Object.<string>}\n */\nexport const enumify = keys =>\n  keys.reduce((acc, key) => ({ [key]: key, ...acc }), {})\n\n/**\n * @property farmhand.module:enums.cropType\n * @enum {string}\n */\nexport const cropType = enumify([\n  'CARROT',\n  'CORN',\n  'ONION',\n  'POTATO',\n  'PUMPKIN',\n  'SOYBEAN',\n  'SPINACH',\n  'TOMATO',\n  'WHEAT',\n])\n\n/**\n * @property farmhand.module:enums.fieldMode\n * @enum {string}\n */\nexport const fieldMode = enumify([\n  'CLEANUP',\n  'FERTILIZE',\n  'HARVEST',\n  'OBSERVE',\n  'PLANT',\n  'SET_SPRINKLER',\n  'SET_SCARECROW',\n  'WATER',\n])\n\n/**\n * @property farmhand.module:enums.stageFocusType\n * @enum {string}\n */\nexport const stageFocusType = enumify([\n  'NONE', // Used for testing\n  'HOME',\n  'FIELD',\n  'SHOP',\n  'COW_PEN',\n  'INVENTORY',\n  'WORKSHOP',\n])\n\n/**\n * @property farmhand.module:enums.cropLifeStage\n * @enum {string}\n */\nexport const cropLifeStage = enumify(['SEED', 'GROWING', 'GROWN'])\n\n/**\n * @property farmhand.module:enums.itemType\n * @enum {string}\n */\nexport const itemType = enumify([\n  'COW_FEED',\n  'CRAFTED_ITEM',\n  'CROP',\n  'FERTILIZER',\n  'HUGGING_MACHINE',\n  'MILK',\n  'SCARECROW',\n  'SPRINKLER',\n])\n\n/**\n * @property farmhand.module:enums.genders\n * @enum {string}\n */\nexport const genders = enumify(['FEMALE', 'MALE'])\n\n/**\n * @property farmhand.module:enums.cowColors\n * @enum {string}\n */\nexport const cowColors = enumify([\n  'BLUE',\n  'BROWN',\n  'GREEN',\n  'ORANGE',\n  'PURPLE',\n  'RAINBOW',\n  'WHITE',\n  'YELLOW',\n])\n\nconst { RAINBOW, ...standardCowColors } = cowColors\nexport { standardCowColors }\n\n/**\n * @property farmhand.module:enums.dialogView\n * @enum {string}\n */\nexport const dialogView = enumify([\n  'NONE',\n  'ACCOUNTING',\n  'ACHIEVEMENTS',\n  'FARMERS_LOG',\n  'PRICE_EVENTS',\n  'SETTINGS',\n  'STATS',\n])\n","/**\n * @module farmhand.constants\n * @ignore\n */\n\nimport { stageFocusType } from './enums'\n\nconst { freeze } = Object\n\nexport const MEMOIZE_CACHE_CLEAR_THRESHOLD = 10\n\n// This MUST be kept in sync with the $break- variables in variables.sass.\nexport const BREAKPOINTS = {\n  XS: 0,\n  SM: 600,\n  MD: 960,\n  LG: 1280,\n  XL: 1920,\n}\n\nexport const STANDARD_LOAN_AMOUNT = 500\n\nexport const LOAN_GARNISHMENT_RATE = 0.05\nexport const LOAN_INTEREST_RATE = 0.02\n\nexport const FERTILIZER_BONUS = 0.5\nexport const FERTILIZER_ITEM_ID = 'fertilizer'\n\nexport const INITIAL_INVENTORY_LIMIT = 100\n\nexport const INITIAL_FIELD_WIDTH = 6\nexport const INITIAL_FIELD_HEIGHT = 10\n\nexport const PURCHASEABLE_FIELD_SIZES = freeze(\n  new Map([\n    [1, { columns: 8, rows: 12, price: 1000 }],\n    [2, { columns: 10, rows: 16, price: 2000 }],\n    [3, { columns: 12, rows: 18, price: 3000 }],\n  ])\n)\n\nexport const PURCHASEABLE_COW_PENS = freeze(\n  new Map([\n    [1, { cows: 10, price: 1500 }],\n    [2, { cows: 20, price: 2500 }],\n    [3, { cows: 30, price: 3500 }],\n  ])\n)\n\n// Buff/nerf chances\nexport const CROW_CHANCE = 0.1\nexport const PRECIPITATION_CHANCE = 0.1\nexport const STORM_CHANCE = 0.5\n\nexport const SCARECROW_ITEM_ID = 'scarecrow'\nexport const SPRINKLER_ITEM_ID = 'sprinkler'\nexport const INITIAL_SPRINKLER_RANGE = 1\n\nexport const COW_STARTING_WEIGHT_BASE = 1800\nexport const COW_STARTING_WEIGHT_VARIANCE = 200\n\nexport const MAX_ANIMAL_NAME_LENGTH = 30\n\nexport const MALE_COW_WEIGHT_MULTIPLIER = 1.1\n\nexport const COW_HUG_BENEFIT = 0.05\nexport const MAX_DAILY_COW_HUG_BENEFITS = 3\n\nexport const COW_WEIGHT_MULTIPLIER_FEED_BENEFIT = 0.1\nexport const COW_WEIGHT_MULTIPLIER_MINIMUM = 0.5\nexport const COW_WEIGHT_MULTIPLIER_MAXIMUM = 1.5\n\nexport const COW_MILK_RATE_SLOWEST = 5\nexport const COW_MILK_RATE_FASTEST = 0\n\nexport const COW_FEED_ITEM_ID = 'cow-feed'\nexport const HUGGING_MACHINE_ITEM_ID = 'hugging-machine'\n\nexport const COW_MAXIMUM_AGE_VALUE_DROPOFF = 100\nexport const COW_MINIMUM_VALUE_MULTIPLIER = 0.5\nexport const COW_MAXIMUM_VALUE_MULTIPLIER = 1.5\n\nexport const COW_GESTATION_PERIOD_DAYS = 3\nexport const COW_MINIMUM_HAPPINESS_TO_BREED = 0.8\n\nexport const NOTIFICATION_DURATION = 6000\nexport const NOTIFICATION_LOG_SIZE = 14\n\nexport const PRICE_EVENT_CHANCE = 0.2\nexport const PRICE_EVENT_STANDARD_DURATION_DECREASE = 1\n\nexport const STAGE_TITLE_MAP = {\n  [stageFocusType.HOME]: 'Home',\n  [stageFocusType.FIELD]: 'Field',\n  [stageFocusType.SHOP]: 'Shop',\n  [stageFocusType.COW_PEN]: 'Cows',\n  [stageFocusType.WORKSHOP]: 'Workshop',\n}\n\nexport const STORAGE_EXPANSION_AMOUNT = 100\nexport const STORAGE_EXPANSION_PRICE = 500\n\nexport const DAILY_FINANCIAL_HISTORY_RECORD_LENGTH = 7\n\nexport const RECIPE_INGREDIENT_VALUE_MULTIPLIER = 1.25\n\nexport const PERSISTED_STATE_KEYS = [\n  'completedAchievements',\n  'cowBreedingPen',\n  'cowColorsPurchased',\n  'cowForSale',\n  'cowInventory',\n  'cowsSold',\n  'cropsHarvested',\n  'dayCount',\n  'farmName',\n  'field',\n  'historicalDailyLosses',\n  'historicalDailyRevenue',\n  'historicalValueAdjustments',\n  'hoveredPlotRangeSize',\n  'id',\n  'inventory',\n  'inventoryLimit',\n  'itemsSold',\n  'learnedRecipes',\n  'loanBalance',\n  'loansTakenOut',\n  'money',\n  'newDayNotifications',\n  'notificationLog',\n  'priceCrashes',\n  'priceSurges',\n  'profitabilityStreak',\n  'purchasedCowPen',\n  'purchasedField',\n  'record7dayProfitAverage',\n  'recordProfitabilityStreak',\n  'recordSingleDayProfit',\n  'revenue',\n  'todaysLosses',\n  'todaysPurchases',\n  'todaysRevenue',\n  'todaysStartingInventory',\n  'useAlternateEndDayButtonPosition',\n  'valueAdjustments',\n  'version',\n]\n\nexport const DEFAULT_ROOM = 'global'\n","/**\n * @module farmhand.items\n */\n\nimport { cropLifeStage, cropType, fieldMode, itemType } from '../enums'\nimport {\n  COW_FEED_ITEM_ID,\n  FERTILIZER_ITEM_ID,\n  HUGGING_MACHINE_ITEM_ID,\n  INITIAL_SPRINKLER_RANGE,\n} from '../constants'\n\nconst { freeze } = Object\nconst {\n  CARROT,\n  CORN,\n  ONION,\n  POTATO,\n  PUMPKIN,\n  SOYBEAN,\n  SPINACH,\n  TOMATO,\n  WHEAT,\n} = cropType\nconst { SEED, GROWING } = cropLifeStage\nconst {\n  COW_FEED,\n  CROP,\n  FERTILIZER,\n  HUGGING_MACHINE,\n  MILK,\n  SCARECROW,\n  SPRINKLER,\n} = itemType\n\n////////////////////////////////////////\n//\n// CROPS\n//\n////////////////////////////////////////\n\nconst crop = ({\n  cropTimetable,\n  growsInto,\n  tier,\n\n  isSeed = Boolean(growsInto),\n  cropLifecycleDuration = Object.values(cropTimetable).reduce(\n    (acc, value) => acc + value,\n    0\n  ),\n\n  ...rest\n}) =>\n  freeze({\n    cropTimetable,\n    doesPriceFluctuate: true,\n    tier,\n    type: CROP,\n    value: 10 + cropLifecycleDuration * tier * (isSeed ? 1 : 3),\n    ...(isSeed && {\n      enablesFieldMode: fieldMode.PLANT,\n      growsInto,\n      isPlantableCrop: true,\n    }),\n    ...rest,\n  })\n\nconst fromSeed = ({ cropTimetable, cropType, growsInto, tier }) => ({\n  cropTimetable,\n  cropType,\n  doesPriceFluctuate: true,\n  id: growsInto,\n  tier,\n  type: CROP,\n})\n\n/**\n * @property farmhand.module:items.carrotSeed\n * @type {farmhand.item}\n */\nexport const carrotSeed = crop({\n  cropType: CARROT,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 3,\n  },\n  growsInto: 'carrot',\n  id: 'carrot-seed',\n  name: 'Carrot Seed',\n  tier: 1,\n})\n\n/**\n * @property farmhand.module:items.carrot\n * @type {farmhand.item}\n */\nexport const carrot = crop({\n  ...fromSeed(carrotSeed),\n  name: 'Carrot',\n})\n\n/**\n * @property farmhand.module:items.pumpkinSeed\n * @type {farmhand.item}\n */\nexport const pumpkinSeed = crop({\n  cropType: PUMPKIN,\n  cropTimetable: {\n    [SEED]: 3,\n    [GROWING]: 5,\n  },\n  growsInto: 'pumpkin',\n  id: 'pumpkin-seed',\n  name: 'Pumpkin Seed',\n  tier: 1,\n})\n\n/**\n * @property farmhand.module:items.pumpkin\n * @type {farmhand.item}\n */\nexport const pumpkin = crop({\n  ...fromSeed(pumpkinSeed),\n  name: 'Pumpkin',\n})\n\n/**\n * @property farmhand.module:items.spinachSeed\n * @type {farmhand.item}\n */\nexport const spinachSeed = crop({\n  cropType: SPINACH,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 4,\n  },\n  growsInto: 'spinach',\n  id: 'spinach-seed',\n  name: 'Spinach Seed',\n  tier: 1,\n})\n\n/**\n * @property farmhand.module:items.spinach\n * @type {farmhand.item}\n */\nexport const spinach = crop({\n  ...fromSeed(spinachSeed),\n  name: 'Spinach',\n})\n\n/**\n * @property farmhand.module:items.cornSeed\n * @type {farmhand.item}\n */\nexport const cornSeed = crop({\n  cropType: CORN,\n  cropTimetable: {\n    [SEED]: 3,\n    [GROWING]: 7,\n  },\n  growsInto: 'corn',\n  id: 'corn-seed',\n  name: 'Corn Kernels',\n  tier: 2,\n})\n\n/**\n * @property farmhand.module:items.corn\n * @type {farmhand.item}\n */\nexport const corn = crop({\n  ...fromSeed(cornSeed),\n  name: 'Corn',\n})\n\n/**\n * @property farmhand.module:items.potatoSeed\n * @type {farmhand.item}\n */\nexport const potatoSeed = crop({\n  cropType: POTATO,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 3,\n  },\n  growsInto: 'potato',\n  id: 'potato-seed',\n  name: 'Potato Seeds',\n  tier: 2,\n})\n\n/**\n * @property farmhand.module:items.potato\n * @type {farmhand.item}\n */\nexport const potato = crop({\n  ...fromSeed(potatoSeed),\n  name: 'Potato',\n})\n\n/**\n * @property farmhand.module:items.onionSeed\n * @type {farmhand.item}\n */\nexport const onionSeed = crop({\n  cropType: ONION,\n  cropTimetable: {\n    [SEED]: 3,\n    [GROWING]: 4,\n  },\n  growsInto: 'onion',\n  id: 'onion-seed',\n  name: 'Onion Seeds',\n  tier: 2,\n})\n\n/**\n * @property farmhand.module:items.onion\n * @type {farmhand.item}\n */\nexport const onion = crop({\n  ...fromSeed(onionSeed),\n  name: 'Onion',\n})\n\n/**\n * @property farmhand.module:items.soybeanSeed\n * @type {farmhand.item}\n */\nexport const soybeanSeed = crop({\n  cropType: SOYBEAN,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 2,\n  },\n  growsInto: 'soybean',\n  id: 'soybean-seed',\n  name: 'Soybean Seeds',\n  tier: 3,\n})\n\n/**\n * @property farmhand.module:items.soybean\n * @type {farmhand.item}\n */\nexport const soybean = crop({\n  ...fromSeed(soybeanSeed),\n  name: 'Soybean',\n})\n\n/**\n * @property farmhand.module:items.wheatSeed\n * @type {farmhand.item}\n */\nexport const wheatSeed = crop({\n  cropType: WHEAT,\n  cropTimetable: {\n    [SEED]: 1,\n    [GROWING]: 1,\n  },\n  growsInto: 'wheat',\n  id: 'wheat-seed',\n  name: 'Wheat Seeds',\n  tier: 3,\n})\n\n/**\n * @property farmhand.module:items.wheat\n * @type {farmhand.item}\n */\nexport const wheat = crop({\n  ...fromSeed(wheatSeed),\n  name: 'Wheat',\n})\n\n/**\n * @property farmhand.module:items.tomatoSeed\n * @type {farmhand.item}\n */\nexport const tomatoSeed = crop({\n  cropType: TOMATO,\n  cropTimetable: {\n    [SEED]: 5,\n    [GROWING]: 6,\n  },\n  growsInto: 'tomato',\n  id: 'tomato-seed',\n  name: 'Tomato Seeds',\n  tier: 3,\n})\n\n/**\n * @property farmhand.module:items.tomato\n * @type {farmhand.item}\n */\nexport const tomato = crop({\n  ...fromSeed(tomatoSeed),\n  name: 'Tomato',\n})\n\n////////////////////////////////////////\n//\n// FIELD TOOLS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.fertilizer\n * @type {farmhand.item}\n */\nexport const fertilizer = freeze({\n  description: 'Helps crops grow and mature a little faster.',\n  enablesFieldMode: fieldMode.FERTILIZE,\n  id: FERTILIZER_ITEM_ID,\n  name: 'Fertilizer',\n  type: FERTILIZER,\n  value: 10,\n})\n\n/**\n * @property farmhand.module:items.sprinkler\n * @type {farmhand.item}\n */\nexport const sprinkler = freeze({\n  description: 'Automatically waters adjacent plants every day.',\n  enablesFieldMode: fieldMode.SET_SPRINKLER,\n  // Note: The actual hoveredPlotRangeSize of sprinklers grows with the\n  // player's level.\n  hoveredPlotRangeSize: INITIAL_SPRINKLER_RANGE,\n  id: 'sprinkler',\n  isReplantable: true,\n  name: 'Sprinkler',\n  type: SPRINKLER,\n  value: 120,\n})\n\n/**\n * @property farmhand.module:items.scarecrow\n * @type {farmhand.item}\n */\nexport const scarecrow = freeze({\n  description:\n    'Prevents crows from eating your crops. One scarecrow covers an entire field, but they are afraid of storms.',\n  enablesFieldMode: fieldMode.SET_SCARECROW,\n  // Note: This needs to be a safe number (rather than Infinity) because it\n  // potentially gets JSON.stringify-ed during data export. Non-safe numbers\n  // get stringify-ed to \"null\", which breaks reimporting.\n  hoveredPlotRangeSize: Number.MAX_SAFE_INTEGER,\n  id: 'scarecrow',\n  isReplantable: true,\n  name: 'Scarecrow',\n  type: SCARECROW,\n  value: 160,\n})\n\n////////////////////////////////////////\n//\n// COW ITEMS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.cowFeed\n * @type {farmhand.item}\n */\nexport const cowFeed = freeze({\n  id: COW_FEED_ITEM_ID,\n  description:\n    'Each cow automatically consumes one unit of Cow Feed per day. Fed cows gain and maintain weight.',\n  name: 'Cow Feed',\n  type: COW_FEED,\n  value: 5,\n})\n\n/**\n * @property farmhand.module:items.huggingMachine\n * @type {farmhand.item}\n */\nexport const huggingMachine = freeze({\n  id: HUGGING_MACHINE_ITEM_ID,\n  description: 'Automatically hugs one cow three times every day.',\n  name: 'Hugging Machine',\n  type: HUGGING_MACHINE,\n  value: 500,\n})\n\n/**\n * @property farmhand.module:items.milk1\n * @type {farmhand.item}\n */\nexport const milk1 = freeze({\n  id: 'milk-1',\n  name: 'Grade C Milk',\n  type: MILK,\n  value: 40,\n})\n\n/**\n * @property farmhand.module:items.milk2\n * @type {farmhand.item}\n */\nexport const milk2 = freeze({\n  id: 'milk-2',\n  name: 'Grade B Milk',\n  type: MILK,\n  value: 80,\n})\n\n/**\n * @property farmhand.module:items.milk3\n * @type {farmhand.item}\n */\nexport const milk3 = freeze({\n  id: 'milk-3',\n  name: 'Grade A Milk',\n  type: MILK,\n  value: 120,\n})\n\n/**\n * @property farmhand.module:items.rainbowMilk1\n * @type {farmhand.item}\n */\nexport const rainbowMilk1 = freeze({\n  id: 'rainbow-milk-1',\n  name: 'Grade C Rainbow Milk',\n  type: MILK,\n  value: 60,\n})\n\n/**\n * @property farmhand.module:items.rainbowMilk2\n * @type {farmhand.item}\n */\nexport const rainbowMilk2 = freeze({\n  id: 'rainbow-milk-2',\n  name: 'Grade B Rainbow Milk',\n  type: MILK,\n  value: 120,\n})\n\n/**\n * @property farmhand.module:items.rainbowMilk3\n * @type {farmhand.item}\n */\nexport const rainbowMilk3 = freeze({\n  id: 'rainbow-milk-3',\n  name: 'Grade A Rainbow Milk',\n  type: MILK,\n  value: 180,\n})\n\n/**\n * @property farmhand.module:items.chocolateMilk\n * @type {farmhand.item}\n */\nexport const chocolateMilk = freeze({\n  id: 'chocolate-milk',\n  name: 'Chocolate Milk',\n  type: MILK,\n  value: 80,\n})\n","import * as items from '../data/items'\n\nexport default {\n  ...Object.keys(items).reduce((acc, itemName) => {\n    const item = items[itemName]\n    acc[item.id] = item\n    return acc\n  }, {}),\n}\n","/**\n * @module farmhand.recipes\n */\nimport { itemType } from '../enums'\nimport { RECIPE_INGREDIENT_VALUE_MULTIPLIER } from '../constants'\n\nimport * as items from './items'\nimport baseItemsMap from './items-map'\n\nconst itemsMap = { ...baseItemsMap }\n\nconst itemify = recipe => {\n  const item = Object.freeze({\n    ...recipe,\n    type: itemType.CRAFTED_ITEM,\n    value: Object.keys(recipe.ingredients).reduce(\n      (sum, itemId) =>\n        sum +\n        RECIPE_INGREDIENT_VALUE_MULTIPLIER *\n          itemsMap[itemId].value *\n          recipe.ingredients[itemId],\n      0\n    ),\n  })\n\n  itemsMap[recipe.id] = item\n\n  return item\n}\n\n/**\n * @property farmhand.module:recipes.bread\n * @type {farmhand.recipe}\n */\nexport const bread = itemify({\n  id: 'bread',\n  name: 'Bread',\n  ingredients: {\n    [items.wheat.id]: 15,\n  },\n  condition: state => state.itemsSold[items.wheat.id] >= 30,\n})\n\n/**\n * @property farmhand.module:recipes.cheese\n * @type {farmhand.recipe}\n */\nexport const cheese = itemify({\n  id: 'cheese',\n  name: 'Cheese',\n  ingredients: {\n    [items.milk3.id]: 8,\n  },\n  condition: state => (state.itemsSold[items.milk3.id] || 0) >= 20,\n})\n\n/**\n * @property farmhand.module:recipes.chocolate\n * @type {farmhand.recipe}\n */\nexport const chocolate = itemify({\n  id: 'chocolate',\n  name: 'Chocolate',\n  ingredients: {\n    [items.chocolateMilk.id]: 10,\n  },\n  condition: state => (state.itemsSold[items.chocolateMilk.id] || 0) >= 25,\n})\n\n/**\n * @property farmhand.module:recipes.carrotSoup\n * @type {farmhand.recipe}\n */\nexport const carrotSoup = itemify({\n  id: 'carrot-soup',\n  name: 'Carrot Soup',\n  ingredients: {\n    [items.carrot.id]: 4,\n  },\n  condition: state => (state.itemsSold[items.carrot.id] || 0) >= 10,\n})\n\n/**\n * @property farmhand.module:recipes.jackolantern\n * @type {farmhand.recipe}\n */\nexport const jackolantern = itemify({\n  id: 'jackolantern',\n  name: \"Jack-o'-lantern\",\n  ingredients: {\n    [items.pumpkin.id]: 1,\n  },\n  condition: state => (state.itemsSold[items.pumpkin.id] || 0) >= 50,\n})\n\n/**\n * @property farmhand.module:recipes.spaghetti\n * @type {farmhand.recipe}\n */\nexport const spaghetti = itemify({\n  id: 'spaghetti',\n  name: 'Spaghetti',\n  ingredients: {\n    [items.wheat.id]: 10,\n    [items.tomato.id]: 2,\n  },\n  condition: state =>\n    state.itemsSold[items.wheat.id] >= 20 &&\n    state.itemsSold[items.tomato.id] >= 5,\n})\n\n/**\n * @property farmhand.module:recipes.frenchOnionSoup\n * @type {farmhand.recipe}\n */\nexport const frenchOnionSoup = itemify({\n  id: 'french-onion-soup',\n  name: 'French Onion Soup',\n  ingredients: {\n    [items.onion.id]: 5,\n    [cheese.id]: 2,\n  },\n  condition: state =>\n    state.itemsSold[items.onion.id] >= 15 && state.itemsSold[cheese.id] >= 10,\n})\n\n/**\n * @property farmhand.module:recipes.burger\n * @type {farmhand.recipe}\n */\nexport const burger = itemify({\n  id: 'burger',\n  name: 'Burger',\n  ingredients: {\n    [bread.id]: 1,\n    [cheese.id]: 1,\n    [items.onion.id]: 1,\n    [items.soybean.id]: 12,\n    [items.spinach.id]: 1,\n    [items.tomato.id]: 1,\n  },\n  condition: state =>\n    state.itemsSold[bread.id] >= 5 &&\n    state.itemsSold[cheese.id] >= 5 &&\n    state.itemsSold[items.onion.id] >= 5 &&\n    state.itemsSold[items.soybean.id] >= 25 &&\n    state.itemsSold[items.spinach.id] >= 5 &&\n    state.itemsSold[items.tomato.id] >= 5,\n})\n","import * as recipes from '../data/recipes'\nimport { cropType } from '../enums'\n\nimport baseItemsMap from './items-map'\n\nconst {\n  CARROT,\n  CORN,\n  ONION,\n  POTATO,\n  PUMPKIN,\n  SOYBEAN,\n  SPINACH,\n  TOMATO,\n  WHEAT,\n} = cropType\n\nexport const recipesMap = Object.keys(recipes).reduce((acc, recipeName) => {\n  const recipe = recipes[recipeName]\n  acc[recipe.id] = recipe\n  return acc\n}, {})\n\nexport const itemsMap = {\n  ...baseItemsMap,\n  ...recipesMap,\n}\n\nexport const cropIdToTypeMap = {\n  [CARROT]: 'carrot',\n  [CORN]: 'corn',\n  [ONION]: 'onion',\n  [POTATO]: 'potato',\n  [PUMPKIN]: 'pumpkin',\n  [SOYBEAN]: 'soybean',\n  [SPINACH]: 'spinach',\n  [TOMATO]: 'tomato',\n  [WHEAT]: 'wheat',\n}\n","import * as items from './items'\n\nexport const levels = []\n\nlevels[1] = {\n  unlocksShopItem: items.carrotSeed.id,\n}\n\nlevels[2] = {\n  unlocksShopItem: items.spinachSeed.id,\n}\n\nlevels[3] = {\n  unlocksShopItem: items.fertilizer.id,\n}\n\nlevels[4] = {\n  unlocksShopItem: items.pumpkinSeed.id,\n}\n\nlevels[5] = {\n  unlocksShopItem: items.sprinkler.id,\n}\n\nlevels[8] = {\n  increasesSprinklerRange: true,\n}\n\nlevels[10] = {\n  unlocksShopItem: items.cornSeed.id,\n}\n\nlevels[12] = {\n  increasesSprinklerRange: true,\n}\n\nlevels[14] = {\n  unlocksShopItem: items.potatoSeed.id,\n}\n\nlevels[16] = {\n  unlocksShopItem: items.onionSeed.id,\n}\n\nlevels[18] = {\n  unlocksShopItem: items.soybeanSeed.id,\n}\n\nlevels[20] = {\n  unlocksShopItem: items.wheatSeed.id,\n}\n\nlevels[22] = {\n  unlocksShopItem: items.tomatoSeed.id,\n}\n\nfor (let i = 0; i < levels.length; i++) {\n  levels[i] = { id: i, ...levels[i] }\n}\n\nObject.freeze(levels)\n\nexport const unlockableItems = levels.reduce((acc, { id, unlocksShopItem }) => {\n  if (unlocksShopItem) {\n    acc[unlocksShopItem] = id\n  }\n\n  return acc\n}, {})\n\nexport const itemUnlockLevels = Object.entries(unlockableItems).reduce(\n  (acc, [itemId, level]) => {\n    acc[level] = itemId\n    return acc\n  },\n  {}\n)\n","import {\n  // Plantable crops\n  carrotSeed,\n  spinachSeed,\n  pumpkinSeed,\n  cornSeed,\n  potatoSeed,\n  onionSeed,\n  soybeanSeed,\n  tomatoSeed,\n  wheatSeed,\n\n  // Field items\n  fertilizer,\n  scarecrow,\n  sprinkler,\n} from './items'\n\nexport default [\n  // Plantable crops\n  carrotSeed,\n  spinachSeed,\n  pumpkinSeed,\n  cornSeed,\n  potatoSeed,\n  onionSeed,\n  soybeanSeed,\n  tomatoSeed,\n  wheatSeed,\n\n  // Field items\n  fertilizer,\n  scarecrow,\n  sprinkler,\n]\n","// Adapted from https://simple.wikipedia.org/wiki/List_of_fruits\nexport default [\n  'Akee',\n  'Apple',\n  'Apricot',\n  'Avocado',\n  'Aa',\n  'Banana',\n  'Bilberry',\n  'Blackberry',\n  'Blackcurrant',\n  'Blueberry',\n  'Boysenberry',\n  'Cantaloupe',\n  'Cherimoya',\n  'Cherry',\n  'Chico',\n  'Clementine',\n  'Cloudberry',\n  'Coconut',\n  'Crabapple',\n  'Cranberry',\n  'Cucumber',\n  'Currant',\n  'Damson',\n  'Durian',\n  'Elderberry',\n  'Feijoa',\n  'Fig',\n  'Goji',\n  'Gooseberry',\n  'Grape',\n  'Grapefruit',\n  'Guava',\n  'Honeyberry',\n  'Honeydew',\n  'Huckleberry',\n  'Jabuticaba',\n  'Jackfruit',\n  'Jambul',\n  'Jostaberry',\n  'Jujube',\n  'Juniper',\n  'Kiwano',\n  'Kiwi',\n  'Kumquat',\n  'Lemon',\n  'Lime',\n  'Longan',\n  'Loquat',\n  'Lychee',\n  'Mandarine',\n  'Mango',\n  'Mangosteen',\n  'Marion',\n  'Melon',\n  'Mulberry',\n  'Nance',\n  'Nectarine',\n  'Olive',\n  'Orange',\n  'Papaya',\n  'Peach',\n  'Pear',\n  'Persimmon',\n  'Pineapple',\n  'Pineberry',\n  'Pitaya',\n  'Plantain',\n  'Plum',\n  'Plumcot',\n  'Pomegranate',\n  'Pomelo',\n  'Prune',\n  'Pumpkin',\n  'Quince',\n  'Raisin',\n  'Rambutan',\n  'Raspberry',\n  'Salak',\n  'Salal',\n  'Salmonberry',\n  'Sapote',\n  'Satsuma',\n  'Soursop',\n  'Strawberry',\n  'Surinam',\n  'Tamarillo',\n  'Tamarind',\n  'Tangerine',\n  'Tomato',\n  'Watermelon',\n  'Yuzu',\n  'Zucchini',\n]\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4goFDRc7VmYGWwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAALSURBVAjXY2AAAgAABQAB4iYFmwAAAABJRU5ErkJggg==\"","import wateredPlot from './plot-states/watered-plot.png'\nimport fertilizedPlot from './plot-states/fertilized-plot.png'\n\nimport carrotSoup from './dishes/carrot-soup.png'\nimport cheese from './dishes/cheese.png'\nimport chocolate from './dishes/chocolate.png'\nimport bread from './dishes/bread.png'\nimport burger from './dishes/burger.png'\nimport frenchOnionSoup from './dishes/french-onion-soup.png'\nimport jackolantern from './items/jackolantern.png'\nimport spaghetti from './dishes/spaghetti.png'\n\nimport carrot from './items/carrot.png'\nimport carrotGrowing from './items/carrot-growing.png'\nimport carrotSeed from './items/carrot-seed.png'\nimport pumpkin from './items/pumpkin.png'\nimport pumpkinGrowing from './items/pumpkin-growing.png'\nimport pumpkinSeed from './items/pumpkin-seed.png'\nimport spinach from './items/spinach.png'\nimport spinachGrowing from './items/spinach-growing.png'\nimport spinachSeed from './items/spinach-seed.png'\nimport corn from './items/corn.png'\nimport cornGrowing from './items/corn-growing.png'\nimport cornSeed from './items/corn-seed.png'\nimport potato from './items/potato.png'\nimport potatoGrowing from './items/potato-growing.png'\nimport potatoSeed from './items/potato-seed.png'\nimport onion from './items/onion.png'\nimport onionGrowing from './items/onion-growing.png'\nimport onionSeed from './items/onion-seed.png'\nimport soybean from './items/soybean.png'\nimport soybeanGrowing from './items/soybean-growing.png'\nimport soybeanSeed from './items/soybean-seed.png'\nimport wheat from './items/wheat.png'\nimport wheatGrowing from './items/wheat-growing.png'\nimport wheatSeed from './items/wheat-seed.png'\nimport tomato from './items/tomato.png'\nimport tomatoGrowing from './items/tomato-growing.png'\nimport tomatoSeed from './items/tomato-seed.png'\nimport fertilizer from './items/fertilizer.png'\nimport scarecrow from './items/scarecrow.png'\nimport sprinkler from './items/sprinkler.png'\nimport cowFeed from './items/cow-feed.png'\nimport huggingMachine from './items/hugging-machine.png'\nimport milk1 from './items/milk-1.png'\nimport milk2 from './items/milk-2.png'\nimport milk3 from './items/milk-3.png'\nimport rainbowMilk1 from './items/rainbow-milk-1.png'\nimport rainbowMilk2 from './items/rainbow-milk-2.png'\nimport rainbowMilk3 from './items/rainbow-milk-3.png'\nimport chocolateMilk from './items/chocolate-milk.png'\nimport inventoryBox from './items/inventory-box.png'\nimport hoe from './tools/hoe.png'\nimport scythe from './tools/scythe.png'\nimport wateringCan from './tools/watering-can.png'\n\nimport blueCow from './animals/cows/blue-cow.png'\nimport brownCow from './animals/cows/brown-cow.png'\nimport greenCow from './animals/cows/green-cow.png'\nimport orangeCow from './animals/cows/orange-cow.png'\nimport purpleCow from './animals/cows/purple-cow.png'\nimport rainbowCow from './animals/cows/rainbow-cow.png'\nimport whiteCow from './animals/cows/white-cow.png'\nimport yellowCow from './animals/cows/yellow-cow.png'\n\nexport { default as pixel } from './pixel.png'\n\nexport const plotStates = {\n  'watered-plot': wateredPlot,\n  'fertilized-plot': fertilizedPlot,\n}\n\nexport const craftedItems = {\n  'carrot-soup': carrotSoup,\n  cheese,\n  chocolate,\n  bread,\n  burger,\n  'french-onion-soup': frenchOnionSoup,\n  jackolantern,\n  spaghetti,\n}\n\nexport const items = {\n  // Crops\n  carrot,\n  'carrot-growing': carrotGrowing,\n  'carrot-seed': carrotSeed,\n  pumpkin,\n  'pumpkin-growing': pumpkinGrowing,\n  'pumpkin-seed': pumpkinSeed,\n  spinach,\n  'spinach-growing': spinachGrowing,\n  'spinach-seed': spinachSeed,\n  corn,\n  'corn-growing': cornGrowing,\n  'corn-seed': cornSeed,\n  potato,\n  'potato-growing': potatoGrowing,\n  'potato-seed': potatoSeed,\n  onion,\n  'onion-growing': onionGrowing,\n  'onion-seed': onionSeed,\n  soybean,\n  'soybean-growing': soybeanGrowing,\n  'soybean-seed': soybeanSeed,\n  wheat,\n  'wheat-growing': wheatGrowing,\n  'wheat-seed': wheatSeed,\n  tomato,\n  'tomato-growing': tomatoGrowing,\n  'tomato-seed': tomatoSeed,\n\n  // Field tools\n  fertilizer,\n  scarecrow,\n  sprinkler,\n\n  // Cow items\n  'cow-feed': cowFeed,\n  'hugging-machine': huggingMachine,\n  'milk-1': milk1,\n  'milk-2': milk2,\n  'milk-3': milk3,\n  'rainbow-milk-1': rainbowMilk1,\n  'rainbow-milk-2': rainbowMilk2,\n  'rainbow-milk-3': rainbowMilk3,\n  'chocolate-milk': chocolateMilk,\n\n  'inventory-box': inventoryBox,\n\n  ...craftedItems,\n}\n\nexport const tools = {\n  hoe,\n  scythe,\n  'watering-can': wateringCan,\n}\n\nexport const animals = {\n  cow: {\n    blue: blueCow,\n    brown: brownCow,\n    green: greenCow,\n    orange: orangeCow,\n    purple: purpleCow,\n    rainbow: rainbowCow,\n    white: whiteCow,\n    yellow: yellowCow,\n  },\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABbklEQVRIia1WvY3GIAz15ToqRqCmZoAMwT4R+3iJ66lTMwIjXGX04tjJp9NZQgFsnv1sfkL0gdRaj0/sPhIN5oH/yekTmOh0/239hkpmbhYQMzcNoJ1Y64mIvrQSjVC8ecvuwsDyrI2IiEopxxiDxhgLRMZPQSwGaFRKWeOUEglYSukCiDaix0wsB+hkjEG994ZjCwhFbGQeM/CtGcQYKYSwxxjXeM5JvfeWc17zzNxCCPuc8+I8xkg55/08zx+XgSc6RcgImSGDzQIXQ/x64LIOwTEjm7drtBMB0c5Qb8mmq64jk37vvWkG2O+93w4jkVEDTdPKse5bzAXndpJF+QSimXrgi4G3573rwcu3u4twEqNGx1gPLLbeDO4uqrUemGthgKBSaLyLiGgVGLNxu001fbwuvPRYRdcZuZwDZm4S6dPVjKlBRxqcSJ0D/fUcWGDM3KRdgnt6/rwXTLcnHLIm316utzf5X/9C3oL6BQBimEemYBpmAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVklEQVRYhe2QwREAIAjD2MVBnc65dAUOi+0J+fSZXM2aX1hz7GcS71KkkIhbKSSGGpEll4jQfyBbrh9RVy4R0Q/0AyUecEGVfx0Roq4cFQGFIvXGNFEOnwmdSclbLhUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyElEQVRIie2UsRXCMAxEzzz6PAaAESihyiJMwghMwiKpSMkIyQB5mUAUIOfiyCYQ6HylpPsnO34BsrKyXKInv2CFRQ+V834yXDcdDruNWXOXu8nlAFGomixgLIh7x2vr2SvevG46APBmhmiP61wLvcrUE4j0FVxResPttE1uGfb4iojl1jwkfTUYihJAawY8Ne6xdxTMM7GhT6XbA8M3+Jsmz3TpKXh7K2BRSAiPBXwVYsFTAcDrHb8Loqc961cRDUplzGBkxfUAEyhSiovwVIoAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA10lEQVRIie2VsRHCMAxFfzi6tCzAEFmIYyyOhVIyAAvQpjaNjSVZsmWThjt+qTjvKYpyAX490w6MUGN+IwgA8Lrx4unKuaOCIMGWpFegdl2THPcGy7QEw2CPoDpnmjgOt6DZtQSG56U4M53vhcAEe4AAgG0F5oWVkoCNww2UcEWS1pR9jW6g6JbW4ojymnZDJdyoHdrUOqAVXbCteaa1OM6Ua0pv0uZMQ6/Fs2k9Ed9vKZiXLFEAMgQI4PEB208gwaLGgblTK1ng6rANtAWDHfYkoPz9/YM3a79OWiGiHuMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBklEQVRIic2VoRKCQBCGf7VTSQbeQGbovoQ2GxSzL2CkkE0+gb6A0U7wDQwkKt050zF3cHu7cOOMWxjudr5vd+8YgD8PxSUsQ+Cf3YaVLALhAIDV/UWy5ggsOCeZKnDCfZIpAi+ckkgFIrhLIrlFqq5rMRwAzNvFdaCqPMH2eOsX0rJgBWYHPoGq8gQA0LQdAOBwfrAS6RmM4ACwjiOrm6FMeot6uI6m7bCOo9G7lqVlQX4Hw0MmKzfh+vm87MnKXYIR3JRQ0izLSLi5wVZuSvT66fr2woeblsQ1czMkcFeC84B1TKmcEliSULgv0TmuqXAu2RrXHLgkVJUnCoJ/b5Dkl/Dg+AKF7I1oIzfs7AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmklEQVRIiWNgGAUDDRjJ1PefWPNIteA/AwMDw9Ic7JLRUzDNJdYCvAbjsIiRgYGBgYWaBt9+jimGywKKDcZlwX8GBgaGhmDcGlUliTMYmwX/YQYX1M/CqWFCYxphU5EAciT//3AJt8GkWNSwFmE2E0nOIQOMWkB/C5AjmIGBcE4m1WAUw6liAS6DKbaAkMG4JHGV88ToHQXkAQCMXCTuoxbh9AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4ElEQVRIiWNgGAUEACOR6v6Tq5+Qgv8MDAwMkxJQBfml9Bk+PrvIkLeAsDm4JDAMhhlKqkXYLPiPz2BsFsEA1CIUM5mwKeSX0oez0Q2D8WFqkNViA+g+INv1aMEFNxerDwi5nhi1MIA1DvBZSgRAMZMFm4ozUFrlQT9OU/68qEfhi1h8wjAcqwAU/PdfA5FaaNJH0PDkJ58ZGBgYGDaG/Mcwk+QgenOCD86Guhod4LXg/6kWfMYTBmY1qObiTUXUADRPRXgzGjmApIxGDUCwsCMFYCvs8BbXZABiK7BRgAAAeO5Ta9GiRlQAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVRIie2UPRKCMBBGvzh2Vlg43sDOgoOgDYU38BCUHMIbUNCgB6Gg8wYMBTlCbExY4iZk1DJfBfl5b5dkAGJiYoRnTv2DZQ8aaJMBp+thkXq/PQEA5wfPpQLVZNNLCJwTEZkAgJWG+zaEhClIGQsANfYdtvujmdXdLHXCfSLCEmu6eOw786xlxUYCAMpqQHHZzeBlNbB7aWZn4FqUtDlkWiNp89m4TGt2va4emM7AGw2iQBfczsc1dXURGlo9J/hJYsNdgq8kHNwnAN73eElErnbQr8Ip8iSEEePOC53iSqgjgs9oAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7UlEQVRIidVUMRKDIBA8mJS+wHfkL3mAM/bpU6a3d8YHJG9Jny6lL7CWNHAg3gFHJoVbiHC3e9yKABwdqoJjJHxpAXO/nHFye7yyGrpWvBQnMQNw5wAFDkg6iFFkL9WBIdY4sWxuXMCYK8EYSKFULhZROUIN1OC1yW8wL/597TtWKIyFnE0xO+Lu5wWgbfYCepxYcRcLua6L7Cl6Pz9VMSyezfgRSYukEFnkPA69XvtuN49zYrAdpEgU9DjJOohPTU6cjdlR2YrQNv5MO2I4UmsAtP/4sPjLnxxfYmwR1yEmpvPIuwi53MYq8w6OL4W0Y7hN+2EVAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVRIie2VIRLCMBBFfxngGhimAtEz9BBgEKgqLkANBgUX4ADY3AfBYLgGFYuAbXfThDSFGQxfZf4k/2W3mynw16+VhDaYEsTrxT6839YwFDwvDrhcb0inExhsKBbkBJgSxMFS7BkcyT7jg7YApgRl+Vp56XRSV8EgALXHUBdk4CtNBnfxsnytvpcTwK2JCZbevDi0IK0K+gT7PECPKdFqrGHLotV/2Xf2sNvq0NO9zmYAnSvCbNTwbFhIr1AAgMhK1BSdq6Z9ySjuTcmzCizW5NsUK749EBjTb8juw8dVyNu7AB9B7HAfoBfEFf4OAOD5IkMgMdrOrC6zGCol+h/xl9IDcxCDNEfiwBwAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVRIie2UMQ7DIAxFTVUJZcnIBTggU0+RKQfMBTJmQUx0aEDY2FSkdMvbwMn//o4VgJshrFOEdYr/N+m57xalKYaloqKd4o9uk4TzqnrmcqJW5+lOEH92m3BnmqZALJyU86+rDeFEK0E8Fp0Ps/PYyHklzrwwbnWADAAA5lfAJkSMQ9qiLL7tIV9Sw9OsuTmSO+p+2wNYU4zrk0QhAyEJl6Dq3hqNkiCS8JU1TcLWaJRANGGgBdQ9Fc0f+ft6Z8QEzMy7hLkX4rFo1PkvwokqgTV6iLBEhPL3cAMAb8x5cUBYehurAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAc0lEQVRIiWNgGAWjYJiCiZz/aWcg1QyfyPkfq8HoYujqyLYEF00AMOGVzf/OSLJDyALIrkb3FQGDiXMhsiXIgAgfEm8BuiVEBh+xFuALBrxmEGPB/0/d7Dgl+Up/4jWHkAV4DSfGElwWUJJbSYvXUTD0AQDDYTYvCJYfBwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAp0lEQVRIie2U3Q2AMAiErXEZGcShHeQcpz4YkipQ8CdqjN8bacvBlbZpfj4HEWUiyhx3VycfenCUASRVgCsAkGrrtT2MENCqsNf1PaaAPLyPRWjdvXkH40Rq+2WSMpEVC7ZTcAtnRN0x9S7doz1S1W0CEetci7TR4+QR60Jfhef7IqSLCIuiEwMgjRO5xVVesj8xln2mQEmtbSlis7Io2vZpHvkuXssMLP56RC4nRRUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAu0lEQVRIie1UuxGDMAyVOUomYA52yRzpU9IzR3bJHExArzQg54S+puIur0On97GFBXB3lAYOZvhZA5wfE3283h9Xo2sVj6JPM4CSAwRuIHMCjtD1SidAoaaJub3cAPEpMBZRyOolk+IRWlCWqi3OYN3yohrnMKD06wYwDj6Z18ah1nYt/DUwk3FDLmjhym8awt/guoE2TG34HOJDi5I1Q/ehZcUtDl9i6rrYU9VGu0/cRcSVqecwwb6b4wsIwjy5qWuN/wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVRIie2SwQ2EIBBFH8YW7MQOKMI69u7Ru3VYhB3YCUWMl9VdAeMYNfEwLyEhn+H/yQAYhmFcpxqRSJLvUuG05sHjAOmaGoB2mA7vAxTaTv7Ncw3cEbDSDhPVqAspd3QBCH41ybKc83uTZGS5AJHPVnA+LQoekroeiUPixMT8LK7f+i4b9bc7m/eQr/EmZqhEI2B1InAFAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIid1UwQ3EIAxzK/7dI2MwCaMxScfIHkzAPSoQnJKS0uvj6h8SOI7jALwWRJSJKN+957RHPqTjECkz8zJ7bx0p9CHB0okGsQAzL3vcZjntsMzBOqv/RZ1626aWmhm4Ql7jBoiRKwKuFhf34BvWvZCEuHqINot8SGoRSUjt4Iy0COhsNMJkUVtkJOZxDBfv15vZWXQlLe0bQLfNPAON/PZ3bSI/QdfBbFL2uD2TrPd/1QDwAfx6iTTKaBYOAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVRIie1VXQqDMAz+OkfBu3gtnz1Ln3et3kUYSPegwTRNjNsYbLAPSjUmX/6aCvzxqyjbchEOCCzdgtSvT9PscmnCgjECQ1dLiYzI87LupLd+b/gumlcM3U5ASD0wRp08L+S4yVx63NO3iHgQGkQmV13LIeFyGYSA3QOLzMomL8Dt3nD6TdYiPIr6VIm4oVUmz9EGeYrqJksyWRaZpXJU9WPKjTw5OXpqDngz+bsWNe3GHEgHAdNcT6eVCc/gQMe7iwK0vmjNNUpkDZrumJeqvuhMG7vJ3LAl46S03kbBGAtSf/pf8JqTD5J/Jx5qr2HmmdxT5AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdklEQVRIie2S0QnAIAxEzwpO41pO5VpOI4j9UmyrMelfSx4ICnrPgwCKonwfI7odXO37mFlvDzKsrRFvn7JXgllYOwuYC4KrPWz1Y29ZLegG90AASOXaZCOZC2I2SIUvFQsoibdgybcCStJgiFazzBpBYabyV07e8yJJjGp+5wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV0lEQVRIiWNgGAW0AE3Rtv+dDBT/D7Q7BhA0RdtSzftM2AQPXH1CkiE0jw9q+pi2gC4upUp40yUTDcqIczJQ/D8oHTawgKySFVc4Ui18sblohJf/QxoAANEqIe1OcIVOAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVRIib1USwrCMBB9FaEICXiArlwWRLr1POKm5+mmeB63RYQuXXkAIQPSVV3oRNM2/STqgxKGCe/TTAL8GMGXeGob5zcE6ttpq4vl5mjwznzJ75cdACCUMQDgVetEPgkM501wEtcELefNleGSoNc5wzXBoPNQxsZBT0kwyTnXYxNMds4wCpFKPV6UKe45OWfoBCKVtUgE9PcUc3ZuJGDyJqggXPdrJ+etBDa4OjcEKFMBFdS5oVJl57pYHQbJAWBua/DvCWWMSpWI8vO7l6lR5FrAdgbsOMrPMPqpFhkn0AWRCO3aJu4lQAV5ETM6p6iPnAr6vITjBPqmyIccsDwVtks3lbwl0BQyBBzI/4IHmW2FwdDO4WUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIie1Uyw6DMAzzJi4gtZ/EV/Uz9lV8EkjbsRxQtFClSR+buOBTRYTtGBfghoFHy0su+Ejn7bWqHEMtIQC85893hmOWEzI3cMFHTjgtoyg0LaMoom7AyTkxOXY4i0soioi7S/O3IjKR5u+Cj+kzDdWqKflPWiSBsu9uEUGKpbtFnFwiI/dak0wBq6rAEVMuoqft/+xammkf2tyAomjtedEGzZeoVKAHfxfIrV78K6jgvHERdhB9Y+Jbm9ffAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVRYhWNgGAWjYBQMRuCtxfDfW4vhPz3sYsFmuYetHpR36f/WawyM+AxAdygh9QQdAAPn774nqBnZsTD13gyPCToaGTCRazkl6pEBVpfCgpUYn1AaBXQB+BI1zjRATcvxJWqsaYAWAFc6oYsDKEmkVAH0LNhIBjizDL2yF85yAJFyIXH48tljmjgCbzYkN/GQUpBhdQBE4yWyooDUygxnCFAjuMWlZAlWTlQvCWGhJy4lS22jSQPE5n2SghnZQGrlCKINQW98UCtbklwXULtcH/AoGAUDDgAvcmw2gDIKjQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArUlEQVRIie2UsRWAIAxET58jULuJm1m6mZtQuwMWyhNjOAgWNl6FIP8IpwF+fa2ucV+oZVkNAgCsy/HgN2B0x3iadZ7FIERwVGqQM+mtcL9dkyk8p5oKHidnklWUKqiCp1VJMYOwLvfNcszAJQP15KPTM2BZaBmY7jzVm6+oWdRA3jG789yPZq5ACz0HB4CBwWR4WpgMzhaKQZ9gCi8tqo2tFmx5Sbbm1hb/6yPtXRM6Z/YOWwgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqElEQVRIie2UMQ6EIBREx42xotqj7IVM7C32LPYaL+RRtqKywQL/alRgwMqE1/gTwxsYiUAmc5cieWWjzH/utdOTFtAog09l52n2hrxooez4KJfZQUnJgVUUJwfYE/hEUtGtAFdooH+AqajXBbC7MQIhB2JvkXzgaQ6KhfSKSGJOcK6JWM8GmLG1w08Db2Wf3yHsYALM2G7iI3Xn97heXNXBkv5/yzyTBWLPMguA7xJeAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdElEQVRIiWNgGAUjD+R5MfwnR9+UVIb/2PQyoSsi12G3nmIXZ8IujAmI8dmkbQyMxDsJiwXkBh/RgJIgHAWDDFAzMrHmg1tPqWcJzoyGK2cOGMCVCalaVBAs7HABYuJj0jYGRjVpTHGifUAMyJlNQWE3cgEAMasir1+5WT8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA40lEQVRIie2UwRGCMBBFP4wVxDo8WYM9eKQCiqECj/ZADZyoA1pYD0xMNuwmq9GL459hhnw272dJAPjraxocZX3t+ctw6b4KroE+Dpeg1fAc9I0Q2l2DIwYywBsNTmMXRsu8FV8nYHDB79eGQft1x5MCRDiOp23C5cZDYrAPi4LSAKL7+QlL4d5jncRdFDowwb3HOhHAXgfRLcABgMZuC9H3EQDQslEMzMCZV1C7c9KJFXA5IIYZXlVJfA+WWYfHqzbCAe2YpiBh1ZYN1grCcc19BwZ4rih0UgEvFWp/RTP8N/QAh8uMoZx0KY4AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAn0lEQVRIiWNgGAVDE0wS+k+sUiZqGkaeBRQ6gDgLKPQFYUNxsQnJMRDyASGXTxL6z5D3jhGDTTTA5jpkGl0MC8Dvg7x3jHh9QYSLqZOKSA4abIaQGDQwQLzN2AwjwuXEWoDPpXjNIGTBfwYGBob/K4wZGIR1GRjeXsagGSPO4jULnwX//+9OwDQUBtDEGV0XYDUPmwXUKBYoTFWjYEgBAN7hSs79t25DAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQklEQVRIiWNgGAVIQEFB4f9AuwECiHXJ4HExtQBFPhpawTG0XEspGPy+RXfh4HcxTcEI9z4UUCUUhk5QDh2X0hIAAFsvEdRqfNUJAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxklEQVRIie2VPQ6DMAyFX3+Wbp27IuVuHXsajsCdkHqHbkyVO4RExDiOQ9NOPAkJiPO+h2MJYNcfRfOV6NDKvOv9zfOe+h4bAbJqAYjpfwGg20Mv+AZAXQ9cHDCN7QFJWzTIFoDac67aMSU3AO+XvMhHFKj7gpj8dLVvsgLitIT0HCKlF19I5iH5NPoD5cqZWwCrA+UQzRzQW1SclpJ5bpEAwA3+QZqY2bhoLhUkqcNBLiGW1EudtUXBuMo8V7z6aWwx3mXWB53sOFv+9drCAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAApUlEQVRIie2TwQ2AIAxFq/HCCg7Afk7ifgzgChzxYBp+qq0VboZ3Eoz/t/2VaDDoZWr5aN2o4PnYdZ3ZI4aC/BzidQ7xbug2WDcqLIQiIRLlVE0s1NZkpTnVdyickz2ixXLnSp+q5ntLnMiRQYj3UWDVMiOJ6S7njgZ4Z3XjXlMMHOGxaVl8+g/YRAZuBf2agQYLdm2R18SiuQMvWgXq2nVoDv7KCeIgQHNazaXdAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAr0lEQVRIiWNgGAWkgt97Ov+fm5rxn1rmMaIbDmNfvnmfwSh7BiOmFtwOu3zzPgMDAwOKPiYqOBLuMF11RQw5FAtYXcoZL9+8zwBzCTUA0UGADyDHGSnBOjQASd7BlVLwAaJTEb6UQhULKAbE5OBzUzNIzuXwcIQFAak5mBCgeRDBLYDl4kEP0OOSqtkaW2lMUj4glIKwBTFRPiClnoA5AqaGhRgLSAFkJ3FyMhldAADK8WmxC7dL5gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABIElEQVRIib1VuxGEIBBd6MAxsZwLDC3DMggtgzIMDSzHxLEDuQSY3XVB/Nxtgp/Hvo8gAImyRrvUuyul32hSRMAUOzZmHeXeRYJ+2JUHumWqAQDAj84a7fphV1fVEwJPAtbQ1KzR0A97TnGZW6TeWaPJGFyc4SXcgWSZajIpXAvwg5BAikEaq+k+FYzzRrqM8wbdp4oNcQQBj0ceUfxw1mgXANKkcd4Af2gJL+HwKorqE81J9qVucURwMgnCcg0rLRNRdHE3ImeNhkxEsffdiIrcEoKSSV7IpYh4JTcax53smYgX/6ZcUQ6TcysRqKZdyQN/z+2qpl3FiDhechBJEs1FJym3Tw6cIrdPT7RTt/87MlkpvBt/QfBK8zcreYp9ARnARYgSAH7PAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAf0lEQVRIiWNgGAWjABfYsIb1PzHqmMg1XEVZlihLiLLgynklolxLFrhyXun/hjWs/9EtoWkQUQUguxib65F9gM83WH1w5bzS/zt3H+O1JCDkNyPMcHwRTlQQ6RjeYyRGHUkA3cXIfHTXkhxE1ASjFhAE2FIHpcUC9VPcKBjcAAAkzD98KD5/RAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZElEQVRIiWNgGAWo4D+6ABM1Db8xA7slRLmEWEuIUjQjm+E/BZZQzSW0dcCNGQPnS9paOuDxR3WbkTMavoxCNYuxGj7g4UpzyweDD4choJqXsVU4/2dk47WEKpbjNHwgS9GBAQB1RDSsD2ft+gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAiUlEQVRIie2VQQ6AIAwEVxMPvoon+RaexKs8eMCrkJYuEDRG90qZCaQU4Hvxa6wpn6uAOZyQ2QINRJ5kahYAwLab+60C9r5VjrYQAeBwjqIvIag8SRBZsCJKmLmgGa5JroJuuCTh2rQjv+B5wfA2vf0EwOCX3CyR4CUBQA680qCzBImoEO5PeW1OkEwustrVkE0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV0lEQVRIiWNgGAWjYBSMgqECJnL+J8immiXoNAHASLIFMJD/nSi9xCgi5FK8ZuCT/M/AwMDw294er+msBw/iNQuXBf8JGYzDIgzzsFlAacogPl5HwfAAAI0CFpxFHWhuAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV0lEQVRIiWNgGAWUgorEwP+UyNPfkorEwP/4NFDFxQNiOCmOGBQOoVpwMFHDEKoCXGFMlI/JDRaaGk4RoKmPKLGELuUTVQDZlpCT3anmI1wGDZ1wH3kAAGHuPqjrva2eAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVRIiWNgGOqAEYf4f2qZh82C/0EzfMgyfV3GFgwzWQgoJhrgchROCxgYGBim5JoSZXjO5NM45fBagAyyd6AaMtWDOMuJtoAUQ5EBEymKs3ecxvAJITC4fEAOINoCclzPwEAgiPAlP4otIDc3E20BAwPxuRmfYwimov9nHfDKMxofwCtPdDI9f/YrCt/QmJsofURbQKyBJFtAKAgosoAaKYnmOZnmVebQBwBEGSTr3HTDzQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVRIieWUvQ3CMBCF3yHEIEhsEadKQUHLEkgpvECWyBi0FBRUeIV0bEJjChzkOP45WyBF4kmWT9a9+86OY2Bh0mawRTnFn9d3sNnzvVzAp/goLmTFBBQr1EHWOcfqhXZA1oC+HDHOduzL5QK+JjbA6ngSp8S+RW5ROpxZ/qz/oMTLPSJd9wqDBAYJ1L3yAYsBepDzRbOWhKQAnC6jOeuAgez5tFW47QQaKACwYgE3F8638e3Am9g8lDeOeUIAuxsAoHsrZklmjQKeCZmromuapa6C7qq8h3A5b9H/An6uF4WMRHW3ug60AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlklEQVRIie1VQQqAMAzLxO/5AP+y4/7iA3zgPDikbG1XrYKIAWFsWRLSgcCPNyOXz8UL0qWUEgAgxujiDb14RYBLeIhrkJI1AlVC7cxsIAnBKm4xaEwoeuKAYQZenKqIg6eipv913tfTYp+DVBE7XAq6pzzl/gyUdIEzbkjKWa44mVZE9zWt8aK5mff4M/0Nbof1J/QhbIFgQxZVKNMbAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVRIie1VO46DMBAdom18idRQEMk3oKfbK1ClQZyFxhXHoPcNkOKCPpdw6S3Qc8aOnZBNmpV2GpBt3m8YIPqvT9U6Sfeb5w57gM/fpSMiUkPpXiV6SqCNpb4VRETU1CIgfptgnaRrakHjbImI/FUNm6M9JFmCdZJOGxuswQlKG/uUJEmwTtKNs/WR9O3NhTbbOt+Ho90EyH2cLcEF1F+uNzcg5b2Jq8g5SJFyIO6kbwVV3ZLEunOA7Hn+2livHHsgOx3zou4IkGVTCw+ArHlETS28AP6WpUi+uHK+Mc6WTsctayjOzQRcgIhXwcEBmmsaokKDc2d5PzxB3EQA8BjiOYjJ4RI4VbcUBw6ujfU2+1YEvQA4sscV5y9XCmbDO1BD6WA7pQjKeTzxmUf3QQ/imF5Z4875Od8M/hal1OaaytdTLoLpU0PpUtOaUl91S/HoQ5ebbO8kfnidpMMPJ/dxU0OZ3fu79QOnNyLrGvOANgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgUlEQVRYhe2W0QrAIAhFbexT/Sz/tb2skKYPw+kGuwd6CemeJEgiAP5Oc/Z7VZ4l0Jk5JV1ELpmrwAw/ix9jOXfmblaxLlLdaJE970KmQCUQgAAEIAABCLz+HWuBzswkIpQ5kIyMkb17hVWYb8AYLqLL7eqnHqE1CXtT810yzwYxDkKWK8nSGBQGAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlElEQVRIie2UwRGAMAgEL45F2IIV0IB2bQNUoCXYBf70YYBkIuND+cLckoMABEcqqJEWDQ8gzGwWEJGp0zmA5gi3qC/pQiTPSMnv71WLBNC7PwWuV2S1NIB4wgrophdukTrkeQsGAMAylmwxMK26ne6aCg9mPtFu5sNn8AM+AHDX1FvDJoD1gUoj/Ni557qGUVn/TByjTiCJ3SiEogAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIicWUwREDIQhFv5ktwhZSAQ0kHVimJaQBKkhKsAty2s0hKrCGyT8q8x8CAgQrGWJkxUMDCDNPA4ho6nNRAMsKL9FmyUKkz0hJz++vJRJgnP1h8HlF12sEEM14APryCy/RsMn3VzAAAB5XyxQDt+e4nOqYCufpfaI2vQ/vgQtQqaEqGZ8GVGoonFE4uyAmwG6+ywMxAUqn0b2z04AVqWOqjeESYPaBrApfduq69jCc8b/RG+oJMonZquS9AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVRIicWUwRECMQhFfxwryCktWAENaNc2QAVaQk5pAS9GHU0CbDYjp50J8x98WIDFEQw5MqOhAYSZhwlENNQ5KIDpWG7R0VKFSJsRgl7fXy0SoF/9S+DdRVOrBxBNuAP60VtuUXfIl/tiAABcT5YtBs63vp3qmgqn4XugPHx3zaBQRlEENwMKZUROiJxcEBOgitcOPBDTqaiC8TmPz28tXB18A3cDtKq1dqBapK3hFGD0A1lj+bFTz7WH4czfJx6xwUOYVCI2qwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3UlEQVRIie2UQQrCMBBFX0WE4gH0AtKFB8i+p/AC0ivUhW7cuBM8hVfJEfQEHqBQXI2LgCg2k5ZYCuKHbDKT/yeTn4GekbTIkRiOkIBYa9UEY4zKMwoIRKP3FrW6gVQ5pRSUUoDc3dqGdDsIxEATEECkyv0Z7haC0saxj1yOy3B5QMoFgJpMaHiPwVwk56B53rFyVB98vha9HgpCK0YVABA7V+OJuanxQW36F/gRgaBNQzaMEuj6m5vgHRXPYbeeAbCZLgA4cHL7uwkA6f4KQE3WyKfNgq7lt5sr38YDiBMyusgc/RoAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABAElEQVRIicWUsY0CMRBFHwidhCiAbeBEQAHOqWEDGjhtC1zAJZeQIVEFwTbiEqCCLQAJXTQEq0WH8M7YGMSXnNiz/43HswMv1iAiRnI8LIB479UA55zqMzQA2Xp5iaJuIKcFK6lYSQXy1661xU0A5EgDCCByWvRHtLcQlDKO+sxlO7fTA8YcADgzEwLv8bYukr3ZPLdatlZ3fn0l+v+RKS0ZFQAgvlDPB65Rz9/apneqXUNtZPwwoHYNpS8ofZEEiQJ05p1SIFGAMvDQob2HATky29RqwyxA6t8cUu+ouA67rykA35NPADbs2v2fDwDGv0cAzsyCftosSE0/bq48WxfOzkS6fPRuuQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABB0lEQVRIicWUOwrCQBCGP0UEsUtjLiAWHmB7T+EFxCtooY2NneApvMoeQU+QKpUgVmMRFR/JzK5R/CEQdjf/N4/NwI/VCDgjdTwsgHjv1QPOOdWnaQBq6+clCspAjiNmMmUmU5Bz8SwsbgSgjjSAACLHUfWJIgtBKWOrylw2Qzs8oMMegBMDoaQff7tFsjMvz7PGhdWbX1WJHj8ypQWjAgDEp+p+w2XqflQPcpeRG4YfA3KXkfiUxKdRkCDAzfyWQQzE7AFwN0yu/Xh8txSVwSvwa4CyaEMzMEtkXcNagNi/uUyVo+I+7CY9AObdPgBrtsX6sg1AZ3UA4MSg1E+bBbHhh82Vb+sCloZVyeeaHwgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVRIiWNgoDFgJELNf0rMIGTB/5MnT+JVYG5ujtccJgIWUAxoHkQsxLhiS7wGVnGfhTcI6h3QIPrPwIDb9TCA5AusZuGy4D8hg3FYhGEezYMIZyRP/XGdRKOwBwbeVLR9JTGpmIHBMxx3SiaYTP+flMArz2j+Aq88zeNg1IIRYAHBZEooGVJkAb4MRLEF2RyaJBm0HYc4weKaBEBcuUJtAAAZkx6s4XKlkgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZElEQVRIiWNgGAUEACMeuf/UMAuXBf8v9/GTZLpu0Ues5mGzgGTD8VmCbgHZhuOyBNkCig3HZgnMAlIjlFjAyAJj/TsUQlWTmezWQGiqmorNolELRi0YtWAYWEDzwo5G5tIRAAC2nxYih/81pwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVRIic2Uyw2AMAxDXeZiJs4wAT0zE3vBpVQhbdNPgoQlJA71M8FRgR/rCg9/f8kp4O6BbusKANi9T5iTAg4KL6l3Agq/cnA+xcgEokJo7EMT4MLXiuoNiMVKolNotwjIdEF7GNqic4khAPtVvOTuLQpwzEfij4HU0BMgwYtqDRiCtx4chrccVsFrBjVcMpnAS0YzeM5sCucAcziFfAIH2F1kDeeqXsO/1A1lh0cWBV1VQQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVRIie2UwRGAIAwED+uyJShGWqKv+BIVSSAYPo73c5RdcpkR+POFkPRyeQuPMYoSZwAHAHjvq7zRCSiFDBUzIqAUzodDwlWlrSjD1+12PtdVVqWZgIOL6RW04I7bR49AdfNyFy2BBl6dQhIMdf6wToDT9fvaQZObcwJTeAkwhwOVJVvCyxAa//Y/U7IDKo89jAceg5sAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVRIie1UwRGEMAgkV8JVYAOWRjWUZgNWYAvxYzJkDwg697vbGWeMJLuyQIj+mKAEsZrc90igikhfMPNjkVdEfhHTta7G3inwr5C8WILOWROYQQGSASLSH0pmZFnUyQhqYcVnAqkiNxzLSu99G77NGiBsUy1yLGt/vyPiWoTQpFqMKLbLEzAtikQ8hHNgoYmgTVmBkBxFGpjZtSldAw+KXIt0IavyqSwaOcG0Y+zWHDjkH2d0zLMovDKivsfY7MJyU/f2YyxzI5qpfxtDZ/wWThNOcCnuawEeAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvklEQVRoge2YS27EIAxA7SpStrldzpGTcA5ux5aVu2ighNh8ZghTqX4S0kwAf7AxJACKoiiKoiiK8ilwgg4aoFOU8a4DueBWgt7afKyMwV4HLsKM8+LAY1urwkrzG2XgV1XLDwSvrzZLzfjWMbUIiEYPWD1RVjrXOC/JQgCAUgTeWnHjPOtkeEZEsaUGHtt660vkYNKg5EDR+JbQco7k87CwBUt9KZwDw4yfQe7AFOON83GFEfEit9THsSS/hxifbzhpXklez0IFBwiEQ6NHGFcteqrRKyxSR2+6PG2oxG0TS+VvBE842XoS/1nEFJqJFJmQCWc/ezDkDuCxrfRkrU9P1mA4WcuOxYaUWwCAzvtGqESPkt5tguG4703/OYbtgVrU8uIgrTrHOZY9pxYAgGNbay8OTeSpkT+vGCj+L7HAb9rc0icY0rsnesfjvt+M5p5xVKsQWRs309C70LZGA8naW56nxp99TVWIJSjoTY2c/EUFk83MrXbiVFdxIeM8GefDa2RsybM4trNVdQjjRVoigKdCqW8EFx2lgyvn/1wlZtw2X9HBhYn7Cjbi69ojOlojMOMT5AwdiqIog/kGkXwJZoNC/c0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVRoge2YTY6FIAyA24mH8TDuXXI2l+45jLdhFiNMxZaCj8ebZPolJAqlP1B+FMAwDMMwDMMwPgUOsBE62BR1vBpArriWaFfrj4oMtgZwUebdLAou26EqK/Wv1IFfqpUfAjwfbRbN+VoZbQZEpzuMnqiL9vVulnQhAEBpBl4ace9mNshYF0JIhTq4bMetjehBUqAUQNH5mqnlAsn7YWEJltooXADdnB9BHsAQ572b0wgj4kVvqY1jIs9dnM8XnNSvpK9loGIAAYRDo0UZt1u07EZPmKSG1nR5t6MSt0UsbX89eEeQtSfxn0VMoZFIMxMz4WxnDwZ6K0zPT1LoydUh9gn7zsrhul5eOZkJToeX7QiSUE/o3SY6Hh3V3jm6rQFt1vLNQRp1jlOWPacmAIBlO7QPhyry1MjrFQfF9xIT/KbNLX2iI61rolUe1/XmNFfHoe5CYd9TDna9CxEHqQ1qN3K2iYtYJRpoTY2c/EOFLlZutElQTZtL8G4O3s3xMzIVUpdkG4tqQ5AXqZkBBPls6LXtXmyUDq6c/3OVGHHbfGKDmybuL1iPv2tvsVE7AyN+QY6wYRiG0ZlvXcbtM3EOoHkAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVRoge2YyY3FIAxA7VHOtJcKOKUeTqmA9mjAc5iQT4jNks9nRho/CSkB4wXMkgAoiqIoiqIoym+BE2zQAJuijncDyBW3Eu3W+mNFBnsDuCizwYmCu9mqykr9G3XgV9XKDwTPR5ul5nyrTG0GRKcHjJ6oK+1rg5N0IQBAaQbeGnEbHBtkrCOis6QO7ma7tSV6MClQCqDofMvUcoHk/bCwBEttKVwAw5yfQR7AFOdtcOcII+JFb6mNY0mehzifLzipX0lfz0DFAAiEQ6NHGbdb9OxGT1ikht50+bSjErdFLG1/I/hEkK0n8Z9FTKGZSDMTM+FoZw+G9FZ4Pj9JoSdXh9iHvGflcF0vr5zMAofDu9lIEhpJereJjkdHa+8cw9ZAbdbyzUEadY5Dlj2nFgCA3Wy1D4cm8tTI6ysOiu8lFnilzS19oiO9a6JXHtf15jRXx1Hdhch7QLM+ckzCBgdoXg6S97c8T50/2sRFXCUa6E2NnPxDJQ4Mec+OdhJU1+ZCNjiywcXPyLMkdadsZ6naEORFWmYAQT4bRm27Fxulgyvn/1wlZtw2n9jgpon7Czbi79pHbLTOwIxfkDNsKIqiDOYbkFv9oXcptHIAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuklEQVRoge1Y4Y3FIAiGSxdymq7hKF2j03Qk7sdVaxVEW593yfElJk+FD1AU+wAMBoPBYDAYDIbfAk6wQQNsihxvA8iJWxHsavqoyGBvADcy8k5m3g6drKLfyIFfqpXTFjxfbZ5Qcb5VRtsB0ekBqydypbrkncSFAAC1HXi14uQdG2QYI6LYUgdxO4q5hAeTBrUAqs63bC0XSLHSlSNYm0vBBTDM+RnIA5jiPHkXVxgRb7y1OQ5LyqsZbUF+4CS9Gl/PQoUACISi0UPG3RY9t9ETLNJEb7p82lEJxSGWrr8R+ESQrZX4z0JMoZmQdiZkwjnPFob0VRh/P0mhJ0+HoEP7znOu663LySxwOozbQZLQSKRvm+B4cFTrcxh2BrRdyy8HadVZ3R9Ztk4tAAC4HdqHQ5uhLDXyccVBsV/DAlfaFOkTt7rzTHTXkHUtnObGWF3OfrqStO9XTg6sD4E79rM8Z+aqt9BNNw+AMwDwrlpzh7mQv2x2XS5E3hF5Fz4jY0vGomxnU20I8iJaChmCXBtGXbs3G7XCleP/PCVmvDaf2GAPMSMz4t+1j9ho3YEZf0HOsGEwGAyD8Q19f/jIZC7JBQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVRoge2Yy43EIAxA7VXOqSMd0UyONJOOqIMG2MOELCE2BoZhV1o/CSkB4w+YTwKgKIqiKIqiKL8FTrARBthkdbwbQK64lmhX6o+CDLYGcFPmrGcFt30VlZX6V+rAL9HKiwD9o00iOV8rI80A6/SA0WN1pX2d9ZwuBAAozcBbI+6sJ4OMdSGEq6QObvv6aEv0YFKgFEDR+ZqppQLJ+2FhCZbaUqgAhjk/gzyAKc47668RRsSb3lIbxZI8D3E+X3Bcv5K+loGKAQRgDo0WZdRu0bIb9bBwDa3p8mlHOR6LmNv+RvCJIGtP4j8Lm0Iz4WYmZsLZTh4M6a3weu5JoZ6rQ+wTjoOUQ2Nur5TMAqfD274GTmgk6d0mOh4dld4phq0BadbyzYEbdYpTljynFgCAbV+lD4cq8tTI6wUH2fcSC/ykzSN9oiOta6JVHo15OE3VUYi7UDgOQNMXCIezHtCsl4MvG/c8T50/29hFLBINtKZGTv6hEgcmHAc52klQTZtLcNYHZ338jLxKUnfJNhbRBiPPUjMDCPzZMGrbvdkoHVw5/+cqMeO22WODmibqL9iIv2sfsVE7AzN+Qc6woSiKMphvWcEHQsLA1iwAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACNUlEQVRoge2YPW7CMBTH/w+hIgTXQB1yCy6R3oA5GwzpwsIWqVtvUE7QjVtk4B4smV6HxE7i70BIK9U/yRLE9vuwn99zAkQikUgkEolEIr8FTaCDR9BplfGoA6rgUIRe33zyjKGhDvSE7XmnDTjhoxG98Au7bQEAh9VGnx8mg2ZeLY0u3L/aZoGN8U5yv0qfA1bDgwywCS0S0PoimwYt6nYklxMEAHOXnrstBACuWmO6j4sElJVgbsUTURuOtND6kHPtjOHM2nbAafyg1edKriIXSa+LHEfQ1dfF5MB4xk+A6sAkxnORyBXuhQ8AcNXr8x3k7hkYx3g19Ymz4JB30DqbOe8vXnXCAYalaKhx6+JEn/rDgHrwCNYsNMRwwGL8BGiHmItksPGhUFaOLjO0Ev9ZXIVsMvrh1/ktMpCliAG6A0RZyc8KIaAOIyFfXCP4fDaPTf3FbA6A+bYFrS8iEz2XnEEZAVkpDac0BQDvfxMzAKDV98N2ma7WPXLuFSXbqptoxhrrVB1CtPC9OASx5119n1dzv6eaqs4McW6GNmy08KGsvC/1cdVvHkwh4gqbLt4sxOdzLSwrx7vI5QxKSa601KHoFTR9QVnIiFCgvnzseWOZYeHY2rDEFZS+SvmmsOk4NSi5MBcJc5GItzHZOs/k2IFNzlviyktcQ8dbCdkBaoy39Y0BAeCvxuY32AuXyv+5SjzjIqbydseGmmaYvoKN8XXtKTpCd2CKT5BT6IhEIpGR+QG4Bej6ikQYYQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVRoge2XW7LDIAhAoZM9do2u0vtRTQiCYKJpZy7nozNW5KEIBiAIgiAIgiAIvgU+YCNPsKnquBsAV+yl2rXWoyGDowGclOWs60aH6t56pw58mVaKLbi+27JCw3mvzGbpuKO8t5buLtfF55STwP1Hs2M54YEbrw7R9XSszRU9jb9aCk1xvspW+d5Oczx3CEAOYJrzT8DDXOa8lBqaXmlOSyF6iZfl/Ki+kY2qAWRQmsaIMilvvbl8FbWMjqbLakc1mktMq8ZsVgTp7cQ/i9WJH0E7GasCAbQBICLmlbWed10AgJySKmuxAUAurbpWoqXQt011HN9v11hi2h2wTo0XB23XxbUfWdHABvDJG01gBJ4a/H/DQXXc4wVH2jTpg4iXSl/dbW9JllKklzYUswrllI6cnXS59yd12emcUuMwPYUyp38UtPrJ27xzke50a+kyN/KHTTUNzADYBK/Jo0eyr9NsOPw74WlkSA2OGnBystFrXJz/85R44rV5xYYYwK86K+E9gSce+9/5oAiCILjFH63h5sly4OzXAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABt0lEQVRoge1YW46FIAxtb0xcj6txja7G9fDV+RhRxJYWRe4k05PwoZTTB6VFARwOh8PhcDgcjm8BO+igBjpFjqcO5MRWRL3aelRksNaBExmFSWYeV52ssN7IgR9Vy6YL7kebJ1SMt8poOyAa3SB6Ile6lsIkcSEAQGkHHkWcwsQ6Gd8R0T5SA3FcL3MJDyYDSg4UjbdsLefIJdKFI1iaS8E50Mz4Hsgd6GI8hWmPMCKeeEtzHIaUV1NqQX7gpHUlvppARQcIhKZRQ8ZVi5pqdAeDNFGbLm8bKuFyiKXy1wJvOGntxH8WYgr1hLQzMRO2ebYx5A4gjiu9WevTzhoNp2URZGeVbwAA2u4bsRK9ivRuEw3HeTY9c2h2BrRdy4uDFHV27a8s26cGAAAcV+3DwaYoS438vWKg+FzCB460uaQPjuut0hejbS3JXIqU0uYkx+lPI0nLcuRkw8MduffnzGBmjj2fJgc4BQDPujV3mC/yh86q4kIUJqIwxc/IfSTvdtnKoeoQ5EVYGhlCsivMXAucdJQaV47/c5Xocdu8o4M9xIxMi79rr+iw7kCPX5A9dDgcDkdj/ACrFwU14KjkhAAAAABJRU5ErkJggg==\"","/**\n * @module farmhand.utils\n * @ignore\n */\n\nimport Dinero from 'dinero.js'\nimport fastMemoize from 'fast-memoize'\nimport sortBy from 'lodash.sortby'\nimport { v4 as uuid } from 'uuid'\n\nimport shopInventory from './data/shop-inventory'\nimport fruitNames from './data/fruit-names'\nimport { cropIdToTypeMap, itemsMap } from './data/maps'\nimport {\n  chocolateMilk,\n  milk1,\n  milk2,\n  milk3,\n  rainbowMilk1,\n  rainbowMilk2,\n  rainbowMilk3,\n} from './data/items'\nimport { levels } from './data/levels'\nimport { unlockableItems } from './data/levels'\nimport { items as itemImages } from './img'\nimport {\n  cowColors,\n  cropLifeStage,\n  genders,\n  itemType,\n  standardCowColors,\n} from './enums'\nimport {\n  BREAKPOINTS,\n  COW_MAXIMUM_AGE_VALUE_DROPOFF,\n  COW_MAXIMUM_VALUE_MULTIPLIER,\n  COW_MILK_RATE_FASTEST,\n  COW_MILK_RATE_SLOWEST,\n  COW_MINIMUM_VALUE_MULTIPLIER,\n  COW_STARTING_WEIGHT_BASE,\n  COW_STARTING_WEIGHT_VARIANCE,\n  COW_WEIGHT_MULTIPLIER_MAXIMUM,\n  COW_WEIGHT_MULTIPLIER_MINIMUM,\n  DAILY_FINANCIAL_HISTORY_RECORD_LENGTH,\n  HUGGING_MACHINE_ITEM_ID,\n  INITIAL_FIELD_HEIGHT,\n  INITIAL_FIELD_WIDTH,\n  INITIAL_SPRINKLER_RANGE,\n  MALE_COW_WEIGHT_MULTIPLIER,\n  MEMOIZE_CACHE_CLEAR_THRESHOLD,\n  PERSISTED_STATE_KEYS,\n  PRICE_EVENT_STANDARD_DURATION_DECREASE,\n} from './constants'\n\nconst { SEED, GROWING, GROWN } = cropLifeStage\n\nconst shopInventoryMap = shopInventory.reduce((acc, item) => {\n  acc[item.id] = item\n  return acc\n}, {})\n\nexport const chooseRandom = list =>\n  list[Math.round(Math.random() * (list.length - 1))]\n\n// Ensures that the condition argument to memoize() is not ignored, per\n// https://github.com/caiogondim/fast-memoize.js#function-arguments\n//\n// Pass this is the `serializer` option to any memoize()-ed functions that\n// accept function arguments.\nconst memoizationSerializer = args =>\n  JSON.stringify(\n    [...args].map(arg => (typeof arg === 'function' ? arg.toString() : arg))\n  )\n\n// This is basically the same as fast-memoize's default cache, except that it\n// clears the cache once the size exceeds MEMOIZE_CACHE_CLEAR_THRESHOLD to\n// prevent memory bloat.\n// https://github.com/caiogondim/fast-memoize.js/blob/5cdfc8dde23d86b16e0104bae1b04cd447b98c63/src/index.js#L114-L128\n/**\n * @ignore\n */\nclass MemoizeCache {\n  cache = {}\n\n  /**\n   * @param {Object} [config] Can also contain the config options used to\n   * configure fast-memoize.\n   * @param {number} [config.cacheSize]\n   * @see https://github.com/caiogondim/fast-memoize.js\n   */\n  constructor({ cacheSize = MEMOIZE_CACHE_CLEAR_THRESHOLD } = {}) {\n    this.cacheSize = cacheSize\n  }\n\n  has(key) {\n    return key in this.cache\n  }\n\n  get(key) {\n    return this.cache[key]\n  }\n\n  set(key, value) {\n    if (Object.keys(this.cache).length > this.cacheSize) {\n      this.cache = {}\n    }\n\n    this.cache[key] = value\n  }\n}\n\nexport const memoize = (fn, config) =>\n  fastMemoize(fn, {\n    cache: { create: () => new MemoizeCache(config) },\n    ...config,\n  })\n\n/**\n * @param {number} num\n * @param {number} min\n * @param {number} max\n */\nexport const clampNumber = (num, min, max) =>\n  num <= min ? min : num >= max ? max : num\n\nexport const castToMoney = num => Math.round(num * 100) / 100\n\n/**\n * Safely adds dollar figures to avoid IEEE 754 rounding errors.\n * @param {...number} num Numbers that represent money values.\n * @returns {number}\n * @see http://adripofjavascript.com/blog/drips/avoiding-problems-with-decimal-math-in-javascript.html\n */\nexport const moneyTotal = (...args) =>\n  args.reduce((sum, num) => (sum += Math.round(num * 100)), 0) / 100\n\n/**\n * Based on https://stackoverflow.com/a/14224813/470685\n * @param {number} value Number to scale\n * @param {number} min Non-standard minimum\n * @param {number} max Non-standard maximum\n * @param {number} baseMin Standard minimum\n * @param {number} baseMax Standard maximum\n * @returns {number}\n */\nconst scaleNumber = (value, min, max, baseMin, baseMax) =>\n  ((value - min) * (baseMax - baseMin)) / (max - min) + baseMin\n\nexport const createNewField = () =>\n  new Array(INITIAL_FIELD_HEIGHT)\n    .fill(undefined)\n    .map(() => new Array(INITIAL_FIELD_WIDTH).fill(null))\n\n/**\n * @param {number} number\n * @returns {string} Include dollar sign and other formatting, as well as cents.\n */\nexport const moneyString = number =>\n  Dinero({ amount: Math.round(number * 100) }).toFormat()\n\n/**\n * @param {number} number\n * @param {string} format\n * @see https://dinerojs.com/module-dinero#~toFormat\n * @returns {string}\n */\nconst formatNumber = (number, format) =>\n  Dinero({ amount: Math.round(number * 100), precision: 2 })\n    .convertPrecision(0)\n    .toFormat(format)\n\n/**\n * @param {number} number\n * @returns {string} Include dollar sign and other formatting. Cents are\n * rounded off.\n */\nexport const dollarString = number => formatNumber(number, '$0,0')\n\n/**\n * @param {number} number\n * @returns {string} Number string with commas.\n */\nexport const integerString = number => formatNumber(number, '0,0')\n\n/**\n * @param {string} itemId\n * @returns {number}\n */\nconst getItemBaseValue = itemId => itemsMap[itemId].value\n\n/**\n * @param {farmhand.item} item\n * @param {Object.<number>} valueAdjustments\n * @returns {number}\n */\nexport const getItemCurrentValue = ({ id }, valueAdjustments) =>\n  Dinero({\n    amount: Math.round(\n      (valueAdjustments[id]\n        ? getItemBaseValue(id) *\n          (itemsMap[id].doesPriceFluctuate ? valueAdjustments[id] : 1)\n        : getItemBaseValue(id)) * 100\n    ),\n    precision: 2,\n  }).toUnit()\n\n/**\n * @param {Object} valueAdjustments\n * @param {string} itemId\n * @returns {number} Rounded to a money value.\n */\nexport const getAdjustedItemValue = (valueAdjustments, itemId) =>\n  Number(((valueAdjustments[itemId] || 1) * itemsMap[itemId].value).toFixed(2))\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemSoldInShop = ({ id }) => Boolean(shopInventoryMap[id])\n\n/**\n * @param {farmhand.item} item\n * @returns {number}\n */\nexport const getResaleValue = ({ id }) => itemsMap[id].value / 2\n\n/**\n * @param {string} itemId\n * @returns {farmhand.crop}\n */\nexport const getCropFromItemId = itemId => ({\n  ...getPlotContentFromItemId(itemId),\n  daysOld: 0,\n  daysWatered: 0,\n  isFertilized: false,\n  wasWateredToday: false,\n})\n\n/**\n * @param {string} itemId\n * @returns {farmhand.plotContent}\n */\nexport const getPlotContentFromItemId = itemId => ({\n  itemId,\n})\n\n/**\n * @param {farmhand.plotContent} plotContent\n * @returns {string}\n */\nexport const getPlotContentType = ({ itemId }) => itemsMap[itemId].type\n\n/**\n * @param {?farmhand.plotContent} plot\n * @returns {boolean}\n */\nexport const doesPlotContainCrop = plot =>\n  plot && getPlotContentType(plot) === itemType.CROP\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemAGrownCrop = item =>\n  Boolean(item.type === itemType.CROP && !item.growsInto)\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemAFarmProduct = item =>\n  Boolean(\n    isItemAGrownCrop(item) ||\n      item.type === itemType.MILK ||\n      item.type === itemType.CRAFTED_ITEM\n  )\n\n/**\n * @param {farmhand.crop} crop\n * @returns {string}\n */\nexport const getCropId = ({ itemId }) =>\n  cropIdToTypeMap[itemsMap[itemId].cropType]\n\n/**\n * @param {farmhand.crop} crop\n * @returns {number}\n */\nexport const getCropLifecycleDuration = memoize(({ cropTimetable }) =>\n  Object.values(cropTimetable).reduce((acc, value) => acc + value, 0)\n)\n\n/**\n * @param {farmhand.cropTimetable} cropTimetable\n * @returns {Array.<enums.cropLifeStage>}\n */\nexport const getLifeStageRange = memoize(cropTimetable =>\n  [SEED, GROWING].reduce(\n    (acc, stage) => acc.concat(Array(cropTimetable[stage]).fill(stage)),\n    []\n  )\n)\n\n/**\n * @param {farmhand.crop} crop\n * @returns {enums.cropLifeStage}\n */\nexport const getCropLifeStage = ({ itemId, daysWatered }) =>\n  getLifeStageRange(itemsMap[itemId].cropTimetable)[Math.floor(daysWatered)] ||\n  GROWN\n\nconst cropLifeStageToImageSuffixMap = {\n  [SEED]: 'seed',\n  [GROWING]: 'growing',\n}\n\n/**\n * @param {farmhand.plotContent} plotContent\n * @returns {?string}\n */\nexport const getPlotImage = plotContent =>\n  plotContent\n    ? getPlotContentType(plotContent) === itemType.CROP\n      ? getCropLifeStage(plotContent) === GROWN\n        ? itemImages[getCropId(plotContent)]\n        : itemImages[\n            `${getCropId(plotContent)}-${\n              cropLifeStageToImageSuffixMap[getCropLifeStage(plotContent)]\n            }`\n          ]\n      : itemImages[plotContent.itemId]\n    : null\n\n/**\n * @param {number} rangeSize\n * @param {number} centerX\n * @param {number} centerY\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nexport const getRangeCoords = (rangeSize, centerX, centerY) => {\n  const squareSize = 2 * rangeSize + 1\n  const rangeStartX = centerX - rangeSize\n  const rangeStartY = centerY - rangeSize\n\n  return new Array(squareSize)\n    .fill()\n    .map((_, y) =>\n      new Array(squareSize)\n        .fill()\n        .map((_, x) => ({ x: rangeStartX + x, y: rangeStartY + y }))\n    )\n}\n\n/**\n * @param {string} seedItemId\n * @returns {string}\n */\nexport const getFinalCropItemIdFromSeedItemId = seedItemId =>\n  itemsMap[seedItemId].growsInto\n\n/**\n * @param {farmhand.item} seedItem\n * @returns {farmhand.item}\n */\nexport const getFinalCropItemFromSeedItem = ({ id }) =>\n  itemsMap[getFinalCropItemIdFromSeedItemId(id)]\n\n/**\n * Generates a friendly cow.\n * @param {Object} [options]\n * @returns {farmhand.cow}\n */\nexport const generateCow = (options = {}) => {\n  const gender = options.gender || chooseRandom(Object.values(genders))\n\n  const baseWeight = Math.round(\n    COW_STARTING_WEIGHT_BASE *\n      (gender === genders.MALE ? MALE_COW_WEIGHT_MULTIPLIER : 1) -\n      COW_STARTING_WEIGHT_VARIANCE +\n      Math.random() * (COW_STARTING_WEIGHT_VARIANCE * 2)\n  )\n\n  const color = options.color || chooseRandom(Object.values(standardCowColors))\n\n  return {\n    baseWeight,\n    color,\n    colorsInBloodline: { [color]: true },\n    daysOld: 1,\n    daysSinceMilking: 0,\n    gender,\n    happiness: 0,\n    happinessBoostsToday: 0,\n    id: uuid(),\n    isBred: false,\n    isUsingHuggingMachine: false,\n    name: chooseRandom(fruitNames),\n    weightMultiplier: 1,\n    ...options,\n  }\n}\n\n/**\n * Generates a cow based on two parents.\n * @param {farmhand.cow} cow1\n * @param {farmhand.cow} cow2\n * @returns {farmhand.cow}\n */\nexport const generateOffspringCow = (cow1, cow2) => {\n  if (cow1.gender === cow2.gender) {\n    throw new Error(\n      `${JSON.stringify(cow1)} ${JSON.stringify(\n        cow2\n      )} cannot produce offspring because they have the same gender`\n    )\n  }\n\n  const maleCow = cow1.gender === genders.MALE ? cow1 : cow2\n  const femaleCow = cow1.gender === genders.MALE ? cow2 : cow1\n  const colorsInBloodline = {\n    // These lines are for backwards compatibility and can be removed on 11/1/2020\n    [maleCow.color]: true,\n    [femaleCow.color]: true,\n    // End backwards compatibility lines to remove\n    ...maleCow.colorsInBloodline,\n    ...femaleCow.colorsInBloodline,\n  }\n\n  delete colorsInBloodline[cowColors.RAINBOW]\n\n  const isRainbowCow =\n    Object.keys(colorsInBloodline).length ===\n    Object.keys(standardCowColors).length\n\n  return generateCow({\n    color: isRainbowCow\n      ? cowColors.RAINBOW\n      : chooseRandom([femaleCow.color, maleCow.color]),\n    colorsInBloodline,\n    baseWeight: (maleCow.baseWeight + femaleCow.baseWeight) / 2,\n    isBred: true,\n    ...(isRainbowCow && { gender: genders.FEMALE }),\n  })\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {farmhand.item}\n */\nexport const getCowMilkItem = ({ color, happiness }) => {\n  if (color === cowColors.BROWN) {\n    return chocolateMilk\n  }\n\n  const isRainbowCow = color === cowColors.RAINBOW\n\n  if (happiness < 1 / 3) {\n    return isRainbowCow ? rainbowMilk1 : milk1\n  } else if (happiness < 2 / 3) {\n    return isRainbowCow ? rainbowMilk2 : milk2\n  }\n\n  return isRainbowCow ? rainbowMilk3 : milk3\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowMilkRate = cow =>\n  cow.gender === genders.FEMALE\n    ? scaleNumber(\n        cow.weightMultiplier,\n        COW_WEIGHT_MULTIPLIER_MINIMUM,\n        COW_WEIGHT_MULTIPLIER_MAXIMUM,\n        COW_MILK_RATE_SLOWEST,\n        COW_MILK_RATE_FASTEST\n      )\n    : Infinity\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowWeight = ({ baseWeight, weightMultiplier }) =>\n  Math.round(baseWeight * weightMultiplier)\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowValue = cow =>\n  getCowWeight(cow) *\n  clampNumber(\n    scaleNumber(\n      cow.daysOld,\n      1,\n      COW_MAXIMUM_AGE_VALUE_DROPOFF,\n      COW_MAXIMUM_VALUE_MULTIPLIER,\n      COW_MINIMUM_VALUE_MULTIPLIER\n    ),\n    COW_MINIMUM_VALUE_MULTIPLIER,\n    COW_MAXIMUM_VALUE_MULTIPLIER\n  )\n\n/**\n * @param {Array.<farmhand.item>} inventory\n * @returns {Object}\n */\nconst getInventoryQuantityMap = memoize(inventory =>\n  inventory.reduce((acc, { id, quantity }) => {\n    acc[id] = quantity\n    return acc\n  }, {})\n)\n\n/**\n * @param {farmhand.recipe} recipe\n * @param {Array.<farmhand.item>} inventory\n * @returns {number}\n */\nexport const maxYieldOfRecipe = memoize(({ ingredients }, inventory) => {\n  const inventoryQuantityMap = getInventoryQuantityMap(inventory)\n\n  return (\n    Math.min(\n      ...Object.keys(ingredients).map(itemId =>\n        Math.floor(inventoryQuantityMap[itemId] / ingredients[itemId])\n      )\n    ) || 0\n  )\n})\n\n/**\n * @param {farmhand.recipe} recipe\n * @param {Array.<farmhand.item>} inventory\n * @param {number} howMany\n * @returns {boolean}\n */\nexport const canMakeRecipe = (recipe, inventory, howMany) =>\n  maxYieldOfRecipe(recipe, inventory) >= howMany\n\n/**\n * @param {Array.<string>} itemIds\n * @returns {Array.<string>}\n */\nexport const filterItemIdsToSeeds = itemsIds =>\n  itemsIds.filter(id => itemsMap[id].type === itemType.CROP)\n\n/**\n * @param {Array.<string>} unlockedSeedItemIds\n * @returns {farmhand.item}\n */\nexport const getRandomUnlockedCrop = unlockedSeedItemIds =>\n  itemsMap[getFinalCropItemIdFromSeedItemId(chooseRandom(unlockedSeedItemIds))]\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {farmhand.priceEvent}\n */\nexport const getPriceEventForCrop = cropItem => ({\n  itemId: cropItem.id,\n  daysRemaining:\n    getCropLifecycleDuration(cropItem) - PRICE_EVENT_STANDARD_DURATION_DECREASE,\n})\n\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {function(?farmhand.plotContent)} condition\n * @returns {?farmhand.plotContent}\n */\nexport const findInField = memoize(\n  (field, condition) => field.find(row => row.find(condition)) || null,\n  {\n    serializer: memoizationSerializer,\n  }\n)\n\n// This is currently unused, but it could be useful later.\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {function(?farmhand.plotContent)} filterCondition\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nexport const getCrops = memoize(\n  (field, filterCondition) =>\n    field.reduce((acc, row) => {\n      acc.push(...row.filter(filterCondition))\n\n      return acc\n    }, []),\n  {\n    serializer: memoizationSerializer,\n  }\n)\n\n/**\n * @returns {boolean}\n */\nexport const doesMenuObstructStage = () => window.innerWidth < BREAKPOINTS.MD\n\nconst itemTypesToShowInReverse = new Set([itemType.MILK])\n\nconst sortItemIdsByTypeAndValue = memoize(itemIds =>\n  sortBy(itemIds, [\n    id => Number(itemsMap[id].type !== itemType.CROP),\n    id => {\n      const { type, value } = itemsMap[id]\n      return itemTypesToShowInReverse.has(type) ? -value : value\n    },\n  ])\n)\n\n/**\n * @param {Array.<farmhand.item>} items\n * @return {Array.<farmhand.item>}\n */\nexport const sortItems = items => {\n  const map = {}\n  items.forEach(item => (map[item.id] = item))\n\n  return sortItemIdsByTypeAndValue(items.map(({ id }) => id)).map(id => map[id])\n}\n\n/**\n * @param {Array.<farmhand.item>} inventory\n * @returns {number}\n */\nexport const inventorySpaceConsumed = memoize(inventory =>\n  inventory.reduce((sum, { quantity }) => sum + quantity, 0)\n)\n\n/**\n * @param {{ inventory: Array.<farmhand.item>, inventoryLimit: number}} state\n * @returns {number}\n */\nexport const inventorySpaceRemaining = ({ inventory, inventoryLimit }) =>\n  inventoryLimit === -1\n    ? Infinity\n    : inventoryLimit - inventorySpaceConsumed(inventory)\n\n/**\n * @param {{ inventory: Array.<farmhand.item>, inventoryLimit: number}} state\n * @returns {boolean}\n */\nexport const doesInventorySpaceRemain = ({ inventory, inventoryLimit }) =>\n  inventorySpaceRemaining({ inventory, inventoryLimit }) > 0\n\n/**\n * @param {Array.<farmhand.item>} inventory\n * @return {boolean}\n */\nexport const areHuggingMachinesInInventory = memoize(inventory =>\n  inventory.some(({ id }) => id === HUGGING_MACHINE_ITEM_ID)\n)\n\n/**\n * @param {number} arraySize\n * @returns {Array.<null>}\n */\nexport const nullArray = memoize(\n  arraySize => Object.freeze(new Array(arraySize).fill(null)),\n  {\n    cacheSize: 30,\n  }\n)\n\n/**\n * @param {Array.<farmhand.cow>} cowInventory\n * @param {string} id\n * @returns {farmhand.cow|undefined}\n */\nexport const findCowById = memoize((cowInventory, id) =>\n  cowInventory.find(cow => id === cow.id)\n)\n\n/**\n * @param {Object.<number>} itemsSold\n * @returns {number}\n */\nexport const farmProductsSold = memoize(itemsSold =>\n  Object.entries(itemsSold).reduce(\n    (sum, [itemId, numberSold]) =>\n      sum + (isItemAFarmProduct(itemsMap[itemId]) ? numberSold : 0),\n    0\n  )\n)\n\n/**\n * @param {number} farmProductsSold\n * @returns {number}\n */\nexport const levelAchieved = farmProductsSold =>\n  Math.floor(Math.sqrt(farmProductsSold) / 10) + 1\n\n/**\n * @param {number} targetLevel\n * @returns {number}\n */\nexport const farmProductSalesVolumeNeededForLevel = targetLevel =>\n  ((targetLevel - 1) * 10) ** 2\n\n/**\n * @param {number} levelNumber\n * @returns {Object} Contains `sprinklerRange` and keys that correspond to\n * unlocked items.\n */\nexport const getLevelEntitlements = memoize(levelNumber => {\n  const acc = {\n    sprinklerRange: INITIAL_SPRINKLER_RANGE,\n    items: {},\n  }\n\n  // Assumes that levels is sorted by id.\n  levels.find(({ unlocksShopItem, id, increasesSprinklerRange }) => {\n    if (increasesSprinklerRange) {\n      acc.sprinklerRange++\n    }\n\n    if (unlocksShopItem) {\n      acc.items[unlocksShopItem] = true\n    }\n\n    return id === levelNumber\n  })\n\n  return acc\n})\n\n/**\n * @param {Object} levelEntitlements\n * @returns {Array.<{ item: farmhand.item }>}\n */\nexport const getAvailbleShopInventory = memoize(levelEntitlements =>\n  shopInventory.filter(\n    ({ id }) =>\n      !(\n        unlockableItems.hasOwnProperty(id) &&\n        !levelEntitlements.items.hasOwnProperty(id)\n      )\n  )\n)\n\n/**\n * @param {number} level\n * @returns {farmhand.item} Will always be a crop seed item.\n */\nexport const getRandomLevelUpReward = level =>\n  itemsMap[\n    chooseRandom(\n      filterItemIdsToSeeds(Object.keys(getLevelEntitlements(level).items))\n    )\n  ]\n\n/**\n * @param {number} level\n * @returns {number}\n */\nexport const getRandomLevelUpRewardQuantity = level => level * 10\n\n/**\n * @param {Object} state\n * @returns {Object} A version of `state` that only contains keys of\n * farmhand.state data that should be persisted.\n */\nexport const reduceByPersistedKeys = state =>\n  PERSISTED_STATE_KEYS.reduce((acc, key) => {\n    // This check prevents old exports from corrupting game state when\n    // imported.\n    if (typeof state[key] !== 'undefined') {\n      acc[key] = state[key]\n    }\n\n    return acc\n  }, {})\n\n/**\n * @param {Array.<number>} historicalData Must be no longer than 7 numbers long.\n * @return {number}\n */\nexport const get7DayAverage = historicalData =>\n  historicalData.reduce((sum, revenue) => moneyTotal(sum, revenue), 0) /\n  DAILY_FINANCIAL_HISTORY_RECORD_LENGTH\n\nconst cowColorToIdMap = {\n  [cowColors.BLUE]: 'blue',\n  [cowColors.BROWN]: 'brown',\n  [cowColors.GREEN]: 'green',\n  [cowColors.ORANGE]: 'orange',\n  [cowColors.PURPLE]: 'purple',\n  [cowColors.RAINBOW]: 'rainbow',\n  [cowColors.WHITE]: 'white',\n  [cowColors.YELLOW]: 'yellow',\n}\n\nexport const getCowColorId = ({ color }) => `${cowColorToIdMap[color]}-cow`\n\n/**\n * @param {number} revenue\n * @param {number} losses\n * @return {number}\n */\nexport const getProfit = (revenue, losses) => moneyTotal(revenue, losses)\n\n/**\n * @param {number} recordSingleDayProfit\n * @param {number} todaysRevenue\n * @param {number} todaysLosses\n * @returns {number}\n */\nexport const getProfitRecord = (\n  recordSingleDayProfit,\n  todaysRevenue,\n  todaysLosses\n) => Math.max(recordSingleDayProfit, getProfit(todaysRevenue, todaysLosses))\n\n/**\n * @param {Object} todaysStartingInventory\n * @param {Object} todaysPurchases\n * @param {Array.<{ id: farmhand.item, quantity: number }>} inventory\n * @return {Object} Keys are item IDs, values are either 1 or -1.\n */\nexport const computeMarketPositions = (\n  todaysStartingInventory,\n  todaysPurchases,\n  inventory\n) =>\n  inventory.reduce((acc, { id, quantity: endingPosition }) => {\n    const startingInventory = todaysStartingInventory[id] || 0\n    const purchaseQuantity = todaysPurchases[id] || 0\n\n    if (!itemsMap[id].doesPriceFluctuate) {\n      return acc\n    }\n\n    if (startingInventory !== endingPosition) {\n      if (\n        endingPosition < startingInventory ||\n        endingPosition < purchaseQuantity\n      ) {\n        acc[id] = -1\n      } else if (\n        endingPosition > startingInventory ||\n        endingPosition > purchaseQuantity\n      ) {\n        acc[id] = 1\n      }\n    }\n\n    return acc\n  }, {})\n\n/**\n * @param {Farmhand.state} state\n * @return {Object}\n */\nexport const sanitizeStateForImport = state => {\n  const sanitizedState = { ...state }\n  ;['version'].forEach(rejectedKey => delete sanitizedState[rejectedKey])\n\n  return sanitizedState\n}\n","import {\n  doesPlotContainCrop,\n  dollarString,\n  findInField,\n  getCropLifeStage,\n  getProfitRecord,\n  memoize,\n  moneyTotal,\n} from '../utils'\nimport { cropLifeStage, standardCowColors } from '../enums'\nimport { COW_FEED_ITEM_ID } from '../constants'\nimport { addItemToInventory } from '../reducers'\n\nimport { itemsMap } from './maps'\n\nconst { SEED } = cropLifeStage\n\nconst addMoney = (state, reward) => ({\n  ...state,\n  money: moneyTotal(state.money, reward),\n})\n\nconst sumOfCropsHarvested = memoize(cropsHarvested =>\n  Object.values(cropsHarvested).reduce(\n    (sum, cropHarvested) => sum + cropHarvested,\n    0\n  )\n)\n\nconst cowFeed = itemsMap[COW_FEED_ITEM_ID]\n\nconst achievements = [\n  ((reward = 100) => ({\n    id: 'plant-crop',\n    name: 'Plant a Crop',\n    description: 'Purchase a seed and plant it in the field.',\n    rewardDescription: dollarString(reward),\n    condition: state =>\n      findInField(\n        state.field,\n        plot => doesPlotContainCrop(plot) && getCropLifeStage(plot) === SEED\n      ),\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((reward = 150) => ({\n    id: 'water-crop',\n    name: 'Water a Crop',\n    description: 'Water a crop that you planted.',\n    rewardDescription: dollarString(reward),\n    condition: state =>\n      findInField(\n        state.field,\n        plot => doesPlotContainCrop(plot) && plot.wasWateredToday\n      ),\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((reward = 200) => ({\n    id: 'harvest-crop',\n    name: 'Harvest a Crop',\n    description: 'Harvest a crop that you planted.',\n    rewardDescription: dollarString(reward),\n    condition: state => sumOfCropsHarvested(state.cropsHarvested) >= 1,\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((goal = 10000) => ({\n    id: 'unlock-crop-price-guide',\n    name: 'Prove Yourself as a Farmer',\n    description: `Show that you can run a farm by earning at least ${dollarString(\n      goal\n    )}. Proven farmers get access to the Crop Price Guide, an invaluable tool for making better buying and selling decisions!`,\n    rewardDescription: 'Crop Price Guide',\n    condition: state => state.revenue >= goal,\n    // Reward is a no-op for this achievement. The value of\n    // state.completedAchievements['unlock-crop-price-guide'] (which is\n    // automatically set to `true` in the achievement processing logic) is used\n    // to gate the price guides.\n    reward: state => state,\n  }))(),\n\n  ((reward = 15) => ({\n    id: 'purchase-cow-pen',\n    name: 'Purchase a Cow Pen',\n    description:\n      'Construct any size cow pen to let your bovine buddies moo-ve on in!',\n    rewardDescription: `${reward} units of ${cowFeed.name}`,\n    condition: state => state.purchasedCowPen > 0,\n    reward: state => addItemToInventory(state, cowFeed, reward),\n  }))(),\n\n  ((reward = 100) => ({\n    id: 'purchase-all-cow-colors',\n    name: 'Cows of Many Colors',\n    description: 'Show that you love all cows and purchase one of every color.',\n    rewardDescription: `${reward} units of ${cowFeed.name}`,\n    condition: state =>\n      Object.values(standardCowColors).every(\n        color => state.cowColorsPurchased[color] > 0\n      ),\n    reward: state => addItemToInventory(state, cowFeed, reward),\n  }))(),\n\n  ((goal = 5000, reward = 25) => ({\n    id: 'daily-profit-1',\n    name: `Daily profit: ${dollarString(goal)}`,\n    description: `Earn ${dollarString(goal)} of profit in a single day.`,\n    rewardDescription: `${reward} units of ${itemsMap.fertilizer.name}`,\n    condition: state =>\n      getProfitRecord(\n        state.recordSingleDayProfit,\n        state.todaysRevenue,\n        state.todaysLosses\n      ) >= goal,\n    reward: state => addItemToInventory(state, itemsMap.fertilizer, reward),\n  }))(),\n\n  ((goal = 15000, reward = 50) => ({\n    id: 'daily-profit-2',\n    name: `Daily profit: ${dollarString(goal)}`,\n    description: `Earn ${dollarString(goal)} of profit in a single day.`,\n    rewardDescription: `${reward} units of ${itemsMap['onion-seed'].name}`,\n    condition: state =>\n      getProfitRecord(\n        state.recordSingleDayProfit,\n        state.todaysRevenue,\n        state.todaysLosses\n      ) >= goal,\n    reward: state => addItemToInventory(state, itemsMap['onion-seed'], reward),\n  }))(),\n\n  ((goal = 50000, reward = 100) => ({\n    id: 'daily-profit-3',\n    name: `Daily profit: ${dollarString(goal)}`,\n    description: `Earn ${dollarString(goal)} of profit in a single day.`,\n    rewardDescription: `${reward} units of ${itemsMap['tomato-seed'].name}`,\n    condition: state =>\n      getProfitRecord(\n        state.recordSingleDayProfit,\n        state.todaysRevenue,\n        state.todaysLosses\n      ) >= goal,\n    reward: state => addItemToInventory(state, itemsMap['tomato-seed'], reward),\n  }))(),\n]\n\nexport default achievements\n\nexport const achievementsMap = achievements.reduce((acc, achievement) => {\n  acc[achievement.id] = achievement\n\n  return acc\n}, {})\n","import { itemsMap } from '../data/maps'\n\n/**\n * @param {farmhand.priceEvent} [priceCrashes]\n * @param {farmhand.priceEvent} [priceSurges]\n * @returns {Object}\n */\nexport const generateValueAdjustments = (priceCrashes = {}, priceSurges = {}) =>\n  Object.keys(itemsMap).reduce((acc, key) => {\n    if (itemsMap[key].doesPriceFluctuate) {\n      if (priceCrashes[key]) {\n        acc[key] = 0.5\n      } else if (priceSurges[key]) {\n        acc[key] = 1.5\n      } else {\n        acc[key] = Math.random() + 0.5\n      }\n    }\n\n    return acc\n  }, {})\n","export const PROGRESS_SAVED_MESSAGE = 'Progress saved!'\nexport const RAIN_MESSAGE = 'It rained in the night!'\nexport const STORM_MESSAGE = 'There was a storm in the night!'\nexport const STORM_DESTROYS_SCARECROWS_MESSAGE =\n  'There was a storm in the night! No scarecrows survived!'\nexport const FARM_PRODUCTS_TOOLTIP_TEXT =\n  'This figure only includes sales of grown crops, crafted items, and animal products.'\nexport const DATA_DELETED = 'Your local game data has been deleted.'\nexport const INVALID_DATA_PROVIDED = 'Invalid Farmhand data provided.'\nexport const UPDATE_AVAILABLE =\n  \"A game update is available! Click this message to reload and see what's new.\"\nexport const SERVER_ERROR =\n  \"There was an issue communicating with the server. You can keep playing offline, and you'll be reconnected as soon as things improve.\"\nexport const CONNECTING_TO_SERVER = 'Connecting...'\nexport const DISCONNECTING_FROM_SERVER = 'Disconnecting...'\nexport const DISCONNECTED_FROM_SERVER = 'You are now playing offline.'\nexport const OUT_OF_COW_FEED_NOTIFICATION =\n  \"You're out of cow feed! Buy some more before your cows get hungry and run away!\"\n","/**\n * @module farmhand.templates\n * @ignore\n */\n\nimport { getRandomLevelUpRewardQuantity, moneyString } from './utils'\n\nimport { itemUnlockLevels, levels } from './data/levels'\nimport { itemsMap } from './data/maps'\n\n/**\n * @param {farmhand.crop} crop\n * @returns {string}\n */\nexport const CROW_ATTACKED = (_, crop) => `Oh no a crow ate your ${crop.name}!`\n\n/**\n * @param {number} cows\n * @returns {string}\n */\nexport const COW_PEN_PURCHASED = (_, cows) =>\n  `Purchased a cow pen with capacity for ${cows} cows! You can visit your cow pen by going to the \"Cows\" page.`\n\n/**\n * @param {Object.<string, number>} milksProduced\n * @returns {string}\n */\nexport const MILKS_PRODUCED = (_, milksProduced) => {\n  let message = `Your cows produced milks:\n`\n\n  Object.keys(milksProduced)\n    .sort()\n    .forEach(\n      milkName =>\n        (message += `  - ${milksProduced[milkName]} ${milkName}${\n          milksProduced[milkName] > 1 ? 's' : ''\n        }\n`)\n    )\n\n  return message\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {string}\n */\nexport const COW_ATTRITION_MESSAGE = (_, { name }) =>\n  `${name} got hungry from being underfed and ran away!`\n\n/**\n * @param {farmhand.cow} parentCow1\n * @param {farmhand.cow} parentCow2\n * @param {farmhand.cow} offspringCow\n * @returns {string}\n */\nexport const COW_BORN_MESSAGE = (_, parentCow1, parentCow2, offspringCow) =>\n  `${parentCow1.name} and ${parentCow2.name} had a baby: ${offspringCow.name}! Welcome to the world, ${offspringCow.name}!`\n\n/**\n * @param {farmhand.recipe} recipe\n * @returns {string}\n */\nexport const RECIPE_LEARNED = (_, recipe) =>\n  `You learned a new recipe: **${recipe.name}**!`\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {string}\n */\nexport const PRICE_CRASH = (_, { name }) =>\n  `${name} prices have bottomed out! Avoid selling them until prices return to normal.`\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {string}\n */\nexport const PRICE_SURGE = (_, { name }) =>\n  `${name} prices are at their peak! Now is the time to sell!`\n\n/**\n * @param {farmhand.achievement} achievement\n * @returns {string}\n */\nexport const ACHIEVEMENT_COMPLETED = (_, { name, rewardDescription }) =>\n  `You achieved \"${name}!\" Way to go!\n\nYou earned: ${rewardDescription}`\n\n/**\n * @returns {string}\n */\nexport const LOAN_PAYOFF = () =>\n  `You paid off your loan to the bank! You're finally free!`\n\n/**\n * @param {number} loanBalance\n * @returns {string}\n */\nexport const LOAN_INCREASED = (_, loanBalance) =>\n  `You took out a new loan. Your current balance is ${moneyString(\n    loanBalance\n  )}.`\n\n/**\n * @param {number} loanBalance\n * @returns {string}\n */\nexport const LOAN_BALANCE_NOTIFICATION = (_, loanBalance) =>\n  `Your loan balance has grown to ${moneyString(loanBalance)}.`\n\n/**\n * @param {number} newLevel\n * @param {farmhand.item} [randomCropSeed]\n * @returns {string}\n */\nexport const LEVEL_GAINED_NOTIFICATION = (_, newLevel, randomCropSeed) => {\n  let chunks = [\n    `You reached **level ${newLevel}!** Way to go!\n\n`,\n  ]\n\n  const levelObject = levels[newLevel]\n\n  if (itemUnlockLevels[newLevel]) {\n    chunks.push(\n      `Now available in the shop: **${\n        itemsMap[itemUnlockLevels[newLevel]].name\n      }**.`\n    )\n  } else if (levelObject && levelObject.increasesSprinklerRange) {\n    chunks.push(`Sprinkler range has increased.`)\n  } else if (randomCropSeed) {\n    chunks.push(\n      `You got **${getRandomLevelUpRewardQuantity(newLevel)} units of ${\n        randomCropSeed.name\n      }** as a reward!`\n    )\n  }\n\n  return chunks.join(' ')\n}\n\n/**\n * @param {string} room\n * @returns {string}\n */\nexport const CONNECTED_TO_ROOM = (_, room) => `Connected to room **${room}**!`\n\n/**\n * @param {Object} positions\n * @returns {string}\n */\nexport const POSITIONS_POSTED_NOTIFICATION = (_, positions) => {\n  const positivePositions = []\n  const negativePositions = []\n\n  Object.keys(positions).forEach(itemId =>\n    (positions[itemId] > 0 ? positivePositions : negativePositions).push(itemId)\n  )\n\n  const chunks = []\n\n  if (positivePositions.length) {\n    chunks.push(`You raised the value of:`)\n    positivePositions.forEach(itemId =>\n      chunks.push(`  - ${itemsMap[itemId].name}`)\n    )\n  }\n\n  if (negativePositions.length) {\n    if (positivePositions.length) {\n      chunks.push('') // Adds a necessary linebreak\n    }\n\n    chunks.push(`You lowered the value of:`)\n    negativePositions.forEach(itemId =>\n      chunks.push(`  - ${itemsMap[itemId].name}`)\n    )\n  }\n\n  return chunks.join('\\n')\n}\n","/**\n * @module farmhand.reducers\n * @ignore\n */\n\nimport { itemsMap, recipesMap } from './data/maps'\nimport { levels } from './data/levels'\nimport achievements from './data/achievements'\nimport {\n  areHuggingMachinesInInventory,\n  canMakeRecipe,\n  castToMoney,\n  clampNumber,\n  doesInventorySpaceRemain,\n  farmProductsSold,\n  filterItemIdsToSeeds,\n  findCowById,\n  findInField,\n  generateCow,\n  generateOffspringCow,\n  get7DayAverage,\n  getAdjustedItemValue,\n  getCowColorId,\n  getCowMilkItem,\n  getCowMilkRate,\n  getCowValue,\n  getCropFromItemId,\n  getCropLifeStage,\n  getFinalCropItemIdFromSeedItemId,\n  getLevelEntitlements,\n  getPlotContentFromItemId,\n  getPlotContentType,\n  getPriceEventForCrop,\n  getProfit,\n  getRandomLevelUpReward,\n  getRandomLevelUpRewardQuantity,\n  getRandomUnlockedCrop,\n  getRangeCoords,\n  getResaleValue,\n  inventorySpaceRemaining,\n  isItemAFarmProduct,\n  isItemSoldInShop,\n  levelAchieved,\n  moneyTotal,\n  nullArray,\n} from './utils'\nimport { generateValueAdjustments } from './common/utils'\nimport {\n  COW_FEED_ITEM_ID,\n  COW_GESTATION_PERIOD_DAYS,\n  COW_HUG_BENEFIT,\n  COW_MINIMUM_HAPPINESS_TO_BREED,\n  COW_WEIGHT_MULTIPLIER_FEED_BENEFIT,\n  COW_WEIGHT_MULTIPLIER_MAXIMUM,\n  COW_WEIGHT_MULTIPLIER_MINIMUM,\n  DAILY_FINANCIAL_HISTORY_RECORD_LENGTH,\n  CROW_CHANCE,\n  FERTILIZER_BONUS,\n  FERTILIZER_ITEM_ID,\n  HUGGING_MACHINE_ITEM_ID,\n  LOAN_GARNISHMENT_RATE,\n  LOAN_INTEREST_RATE,\n  MAX_ANIMAL_NAME_LENGTH,\n  MAX_DAILY_COW_HUG_BENEFITS,\n  NOTIFICATION_LOG_SIZE,\n  PRECIPITATION_CHANCE,\n  PRICE_EVENT_CHANCE,\n  PURCHASEABLE_COW_PENS,\n  PURCHASEABLE_FIELD_SIZES,\n  SCARECROW_ITEM_ID,\n  SPRINKLER_ITEM_ID,\n  STORAGE_EXPANSION_AMOUNT,\n  STORAGE_EXPANSION_PRICE,\n  STORM_CHANCE,\n} from './constants'\nimport {\n  OUT_OF_COW_FEED_NOTIFICATION,\n  RAIN_MESSAGE,\n  STORM_MESSAGE,\n  STORM_DESTROYS_SCARECROWS_MESSAGE,\n} from './strings'\nimport {\n  ACHIEVEMENT_COMPLETED,\n  COW_ATTRITION_MESSAGE,\n  COW_BORN_MESSAGE,\n  CROW_ATTACKED,\n  LEVEL_GAINED_NOTIFICATION,\n  LOAN_BALANCE_NOTIFICATION,\n  LOAN_INCREASED,\n  LOAN_PAYOFF,\n  MILKS_PRODUCED,\n  PRICE_CRASH,\n  PRICE_SURGE,\n} from './templates'\nimport { cropLifeStage, fieldMode, itemType } from './enums'\n\nconst { FERTILIZE, OBSERVE, SET_SCARECROW, SET_SPRINKLER } = fieldMode\nconst { GROWN } = cropLifeStage\n\n///////////////////////////////////////////////////////////\n//\n// Local helper functions\n//\n///////////////////////////////////////////////////////////\n\n/**\n * @param {?farmhand.crop} crop\n * @returns {?farmhand.crop}\n */\nexport const incrementPlotContentAge = crop =>\n  crop && getPlotContentType(crop) === itemType.CROP\n    ? {\n        ...crop,\n        daysOld: crop.daysOld + 1,\n        daysWatered:\n          crop.daysWatered +\n          (crop.wasWateredToday\n            ? 1 + (crop.isFertilized ? FERTILIZER_BONUS : 0)\n            : 0),\n      }\n    : crop\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @param {boolean} wasWateredToday\n * @returns {?farmhand.plotContent}\n */\nconst setWasWateredProperty = (plotContent, wasWateredToday) => {\n  if (plotContent === null) {\n    return null\n  }\n\n  return getPlotContentType(plotContent) === itemType.CROP\n    ? { ...plotContent, wasWateredToday }\n    : { ...plotContent }\n}\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @returns {?farmhand.plotContent}\n */\nexport const setWasWatered = plotContent =>\n  setWasWateredProperty(plotContent, true)\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @returns {?farmhand.plotContent}\n */\nexport const resetWasWatered = plotContent =>\n  setWasWateredProperty(plotContent, false)\n\n/**\n * Invokes a function on every plot in a field.\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {Function(?farmhand.plotContent)} modifierFn\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nconst updateField = (field, modifierFn) =>\n  field.map((row, y) => row.map((plot, x) => modifierFn(plot, x, y)))\n\n/**\n * @param {Array} chancesAndEvents An array of arrays in which the first\n * element is a number and the second number is a function.\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst applyChanceEvent = (chancesAndEvents, state) =>\n  chancesAndEvents.reduce(\n    (acc, [chance, fn]) => (Math.random() <= chance ? fn(acc) : acc),\n    state\n  )\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processWeather = state =>\n  applyChanceEvent([[PRECIPITATION_CHANCE, applyPrecipitation]], state)\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processNerfs = state => applyChanceEvent([[1, applyCrows]], state)\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.priceEvent} priceEvent\n * @param {string} priceEventKey Either 'priceCrashes' or 'priceSurges'\n * @returns {farmhand.state}\n */\nexport const createPriceEvent = (state, priceEvent, priceEventKey) => ({\n  [priceEventKey]: {\n    ...state[priceEventKey],\n    [priceEvent.itemId]: priceEvent,\n  },\n})\n\n/**\n * @param {farmhand.state} state\n * @param {number} oldLevel\n * @returns {farmhand.state}\n */\nexport const processLevelUp = (state, oldLevel) => {\n  const { itemsSold, selectedItemId } = state\n  const newLevel = levelAchieved(farmProductsSold(itemsSold))\n\n  // Loop backwards so that the notifications appear in descending order.\n  for (let i = newLevel; i > oldLevel; i--) {\n    const levelObject = levels[i] || {}\n\n    let randomCropSeed\n    // There is no predefined reward for this level up.\n    if (Object.keys(levelObject).length < 2) {\n      randomCropSeed = getRandomLevelUpReward(i)\n      state = addItemToInventory(\n        state,\n        randomCropSeed,\n        getRandomLevelUpRewardQuantity(i)\n      )\n    }\n    // This handles an edge case where the player levels up to level that\n    // unlocks greater sprinkler range, but the sprinkler item is already\n    // selected. In that case, update the hoveredPlotRangeSize state.\n    else if (\n      levelObject &&\n      levelObject.increasesSprinklerRange &&\n      selectedItemId === SPRINKLER_ITEM_ID\n    ) {\n      const { sprinklerRange } = getLevelEntitlements(\n        levelAchieved(farmProductsSold(itemsSold))\n      )\n\n      if (sprinklerRange > state.hoveredPlotRangeSize) {\n        state = {\n          ...state,\n          hoveredPlotRangeSize: sprinklerRange,\n        }\n      }\n    }\n\n    state = showNotification(\n      state,\n      LEVEL_GAINED_NOTIFICATION`${i}${randomCropSeed}`,\n      'success'\n    )\n  }\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst adjustItemValues = state => ({\n  ...state,\n  historicalValueAdjustments: [state.valueAdjustments],\n  valueAdjustments: generateValueAdjustments(\n    state.priceCrashes,\n    state.priceSurges\n  ),\n})\n\n/**\n * @param {?farmhand.plotContent} plot\n * @returns {boolean}\n */\nconst plotContainsScarecrow = plot => plot && plot.itemId === SCARECROW_ITEM_ID\n\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @returns {boolean}\n */\nconst fieldHasScarecrow = field => findInField(field, plotContainsScarecrow)\n\n///////////////////////////////////////////////////////////\n//\n// Exported reducers\n//\n///////////////////////////////////////////////////////////\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const applyPrecipitation = state => {\n  let { field } = state\n  let notification\n\n  if (Math.random() < STORM_CHANCE) {\n    if (fieldHasScarecrow(field)) {\n      notification = {\n        message: STORM_DESTROYS_SCARECROWS_MESSAGE,\n        severity: 'error',\n      }\n\n      field = updateField(field, plot =>\n        plotContainsScarecrow(plot) ? null : plot\n      )\n    } else {\n      notification = { message: STORM_MESSAGE, severity: 'info' }\n    }\n  } else {\n    notification = { message: RAIN_MESSAGE, severity: 'info' }\n  }\n\n  state = {\n    ...state,\n    field,\n    newDayNotifications: [...state.newDayNotifications, notification],\n  }\n\n  state = waterField(state)\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const applyCrows = state => {\n  const { field } = state\n  const newDayNotifications = [...state.newDayNotifications]\n\n  const updatedField = fieldHasScarecrow(field)\n    ? field\n    : updateField(field, plotContent => {\n        if (!plotContent || getPlotContentType(plotContent) !== itemType.CROP) {\n          return plotContent\n        }\n\n        const destroyCrop = Math.random() <= CROW_CHANCE\n\n        if (destroyCrop) {\n          newDayNotifications.push({\n            message: CROW_ATTACKED`${itemsMap[plotContent.itemId]}`,\n            severity: 'error',\n          })\n        }\n\n        return destroyCrop ? null : plotContent\n      })\n\n  return { ...state, field: updatedField, newDayNotifications }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processSprinklers = state => {\n  const { field, itemsSold } = state\n  const crops = new Map()\n  let modifiedField = [...field]\n\n  const { sprinklerRange } = getLevelEntitlements(\n    levelAchieved(farmProductsSold(itemsSold))\n  )\n\n  field.forEach((row, plotY) => {\n    row.forEach((plot, plotX) => {\n      if (!plot || getPlotContentType(plot) !== itemType.SPRINKLER) {\n        return\n      }\n\n      ;[]\n        .concat(\n          // Flatten this 2D array for less iteration below\n          ...getRangeCoords(sprinklerRange, plotX, plotY)\n        )\n        .forEach(({ x, y }) => {\n          const fieldRow = field[y]\n\n          if (!fieldRow) {\n            return\n          }\n\n          const plotContent = fieldRow[x]\n\n          if (\n            plotContent &&\n            getPlotContentType(plotContent) === itemType.CROP\n          ) {\n            if (!crops.has(plotContent)) {\n              modifiedField = modifyFieldPlotAt(\n                { ...state, field: modifiedField },\n                x,\n                y,\n                setWasWatered\n              ).field\n            }\n\n            crops.set(plotContent, { x, y })\n          }\n        })\n    })\n  })\n\n  return { ...state, field: modifiedField }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processFeedingCows = state => {\n  const cowInventory = [...state.cowInventory]\n  const { length: cowInventoryLength } = cowInventory\n  const newDayNotifications = [...state.newDayNotifications]\n  let inventory = [...state.inventory]\n\n  const cowFeedInventoryPosition = inventory.findIndex(\n    ({ id }) => id === COW_FEED_ITEM_ID\n  )\n\n  const cowFeed = inventory[cowFeedInventoryPosition]\n  const quantity = cowFeed ? cowFeed.quantity : 0\n\n  let unitsSpent = 0\n\n  for (let i = 0; i < cowInventoryLength; i++) {\n    const cow = cowInventory[i]\n    const anyUnitsRemain = unitsSpent < quantity\n\n    cowInventory[i] = {\n      ...cow,\n      weightMultiplier: clampNumber(\n        anyUnitsRemain\n          ? cow.weightMultiplier + COW_WEIGHT_MULTIPLIER_FEED_BENEFIT\n          : cow.weightMultiplier - COW_WEIGHT_MULTIPLIER_FEED_BENEFIT,\n        COW_WEIGHT_MULTIPLIER_MINIMUM,\n        COW_WEIGHT_MULTIPLIER_MAXIMUM\n      ),\n    }\n\n    if (anyUnitsRemain) {\n      unitsSpent++\n    }\n  }\n\n  if (quantity <= cowInventory.length) {\n    newDayNotifications.push({\n      message: OUT_OF_COW_FEED_NOTIFICATION,\n      severity: 'error',\n    })\n  }\n\n  return decrementItemFromInventory(\n    { ...state, cowInventory, inventory, newDayNotifications },\n    COW_FEED_ITEM_ID,\n    unitsSpent\n  )\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processCowAttrition = state => {\n  const newDayNotifications = [...state.newDayNotifications]\n  const oldCowInventory = [...state.cowInventory]\n\n  for (let i = 0; i < oldCowInventory.length; i++) {\n    const cow = oldCowInventory[i]\n\n    if (\n      // Cast toFixed(2) to prevent IEEE 754 rounding errors.\n      Number(cow.weightMultiplier.toFixed(2)) === COW_WEIGHT_MULTIPLIER_MINIMUM\n    ) {\n      state = removeCowFromInventory(state, cow)\n\n      newDayNotifications.push({\n        message: COW_ATTRITION_MESSAGE`${cow}`,\n        severity: 'error',\n      })\n    }\n  }\n\n  return { ...state, newDayNotifications }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processMilkingCows = state => {\n  const cowInventory = [...state.cowInventory]\n  const newDayNotifications = [...state.newDayNotifications]\n  const { length: cowInventoryLength } = cowInventory\n  const milksProduced = {}\n\n  for (let i = 0; i < cowInventoryLength; i++) {\n    const cow = cowInventory[i]\n\n    if (cow.daysSinceMilking > getCowMilkRate(cow)) {\n      cowInventory[i] = { ...cow, daysSinceMilking: 0 }\n\n      const milk = getCowMilkItem(cow)\n      const { name } = milk\n\n      if (!doesInventorySpaceRemain(state)) {\n        break\n      }\n\n      milksProduced[name] = (milksProduced[name] || 0) + 1\n      state = addItemToInventory(state, milk)\n    }\n  }\n\n  if (Object.keys(milksProduced).length) {\n    newDayNotifications.push({\n      message: MILKS_PRODUCED`${milksProduced}`,\n      severity: 'success',\n    })\n  }\n\n  return { ...state, cowInventory, newDayNotifications }\n}\n\n/**\n * Only adds as many items as there is room in the inventory for.\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const addItemToInventory = (state, item, howMany = 1) => {\n  const { id } = item\n  const inventory = [...state.inventory]\n\n  const numberOfItemsToAdd = Math.min(howMany, inventorySpaceRemaining(state))\n\n  if (numberOfItemsToAdd === 0) {\n    return state\n  }\n\n  const currentItemSlot = inventory.findIndex(({ id: itemId }) => id === itemId)\n\n  if (~currentItemSlot) {\n    const currentItem = inventory[currentItemSlot]\n\n    inventory[currentItemSlot] = {\n      ...currentItem,\n      quantity: currentItem.quantity + numberOfItemsToAdd,\n    }\n  } else {\n    inventory.push({ id, quantity: numberOfItemsToAdd })\n  }\n\n  return { ...state, inventory }\n}\n\nconst fieldReducer = (acc, fn) => fn(acc)\nconst fieldUpdaters = [incrementPlotContentAge, resetWasWatered]\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst processField = state => ({\n  ...state,\n  field: updateField(state.field, plotContent =>\n    fieldUpdaters.reduce(fieldReducer, plotContent)\n  ),\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processCowBreeding = state => {\n  const {\n    cowBreedingPen,\n    cowInventory,\n    newDayNotifications,\n    purchasedCowPen,\n  } = state\n  const { cowId1, cowId2 } = cowBreedingPen\n\n  if (!cowId2) {\n    return state\n  }\n\n  const cow1 = findCowById(cowInventory, cowId1)\n  const cow2 = findCowById(cowInventory, cowId2)\n\n  // Same-sex couples are as valid and wonderful as any, but in this game they\n  // cannot naturally produce offspring.\n  if (cow1.gender === cow2.gender) {\n    return state\n  }\n\n  const daysUntilBirth =\n    cow1.happiness >= COW_MINIMUM_HAPPINESS_TO_BREED &&\n    cow2.happiness >= COW_MINIMUM_HAPPINESS_TO_BREED\n      ? cowBreedingPen.daysUntilBirth - 1\n      : COW_GESTATION_PERIOD_DAYS\n\n  const shouldGenerateOffspring =\n    cowInventory.length < PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows &&\n    daysUntilBirth === 0\n\n  let offspringCow = shouldGenerateOffspring && generateOffspringCow(cow1, cow2)\n\n  return {\n    ...state,\n    cowInventory: shouldGenerateOffspring\n      ? [...cowInventory, offspringCow]\n      : cowInventory,\n    cowBreedingPen: {\n      ...cowBreedingPen,\n      daysUntilBirth: shouldGenerateOffspring\n        ? COW_GESTATION_PERIOD_DAYS\n        : daysUntilBirth,\n    },\n    newDayNotifications: offspringCow\n      ? [\n          ...newDayNotifications,\n          {\n            message: COW_BORN_MESSAGE`${cow1}${cow2}${offspringCow}`,\n            severity: 'success',\n          },\n        ]\n      : newDayNotifications,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const computeCowInventoryForNextDay = state => ({\n  ...state,\n  cowInventory: state.cowInventory.map(cow => ({\n    ...cow,\n    daysOld: cow.daysOld + 1,\n    daysSinceMilking: cow.daysSinceMilking + 1,\n    happiness: Math.max(\n      0,\n      cow.isUsingHuggingMachine\n        ? Math.min(\n            1,\n            cow.happiness + (MAX_DAILY_COW_HUG_BENEFITS - 1) * COW_HUG_BENEFIT\n          )\n        : cow.happiness - COW_HUG_BENEFIT\n    ),\n    happinessBoostsToday: cow.isUsingHuggingMachine\n      ? MAX_DAILY_COW_HUG_BENEFITS\n      : 0,\n\n    // TODO: This line is for backwards compatibility and can be removed after\n    // 10/1/2020.\n    isUsingHuggingMachine: Boolean(cow.isUsingHuggingMachine),\n  })),\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const waterField = state => ({\n  ...state,\n  field: updateField(state.field, setWasWatered),\n})\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @param {Function(?farmhand.plotContent)} modifierFn\n * @returns {farmhand.state}\n */\nexport const modifyFieldPlotAt = (state, x, y, modifierFn) => {\n  const { field } = state\n  const row = [...field[y]]\n  const plotContent = modifierFn(row[x])\n  row[x] = plotContent\n  const modifiedField = [...field]\n  modifiedField[y] = row\n\n  return { ...state, field: modifiedField }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const removeFieldPlotAt = (state, x, y) =>\n  modifyFieldPlotAt(state, x, y, () => null)\n\n/**\n * @param {farmhand.state} state\n * @param {string} itemId\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const decrementItemFromInventory = (state, itemId, howMany = 1) => {\n  const inventory = [...state.inventory]\n  const itemInventoryIndex = inventory.findIndex(({ id }) => id === itemId)\n\n  if (itemInventoryIndex === -1) {\n    return state\n  }\n\n  const { quantity } = inventory[itemInventoryIndex]\n\n  if (quantity > howMany) {\n    inventory[itemInventoryIndex] = {\n      ...inventory[itemInventoryIndex],\n      quantity: quantity - howMany,\n    }\n  } else {\n    inventory.splice(itemInventoryIndex, 1)\n  }\n\n  return { ...state, inventory }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const rotateNotificationLogs = state => {\n  const notificationLog = [...state.notificationLog]\n\n  const { dayCount, newDayNotifications } = state\n\n  const notifications = {\n    error: [],\n    info: [],\n    success: [],\n    warning: [],\n  }\n\n  newDayNotifications.forEach(({ message, severity }) =>\n    notifications[severity].push(message)\n  )\n\n  newDayNotifications.length &&\n    notificationLog.unshift({\n      day: dayCount,\n      notifications,\n    })\n\n  notificationLog.length = Math.min(\n    notificationLog.length,\n    NOTIFICATION_LOG_SIZE\n  )\n\n  return { ...state, notificationLog }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const generatePriceEvents = state => {\n  const priceCrashes = { ...state.priceCrashes }\n  const priceSurges = { ...state.priceSurges }\n  let newDayNotifications = [...state.newDayNotifications]\n  let priceEvent\n\n  if (Math.random() < PRICE_EVENT_CHANCE) {\n    const { items: unlockedItems } = getLevelEntitlements(\n      levelAchieved(farmProductsSold(state.itemsSold))\n    )\n\n    const cropItem = getRandomUnlockedCrop(\n      filterItemIdsToSeeds(Object.keys(unlockedItems))\n    )\n    const { id } = cropItem\n\n    // Only create a priceEvent if one does not already exist\n    if (!priceCrashes[id] && !priceSurges[id]) {\n      const priceEventType =\n        Math.random() < 0.5 ? 'priceCrashes' : 'priceSurges'\n\n      priceEvent = createPriceEvent(\n        state,\n        getPriceEventForCrop(cropItem),\n        priceEventType\n      )\n\n      newDayNotifications.push(\n        priceEventType === 'priceCrashes'\n          ? {\n              message: PRICE_CRASH`${cropItem}`,\n              severity: 'warning',\n            }\n          : {\n              message: PRICE_SURGE`${cropItem}`,\n              severity: 'success',\n            }\n      )\n    }\n  }\n\n  return { ...state, ...priceEvent, newDayNotifications }\n}\n\n/**\n * @param {Object.<farmhand.priceEvent>} priceEvents\n * @returns {Object.<farmhand.priceEvent>}\n */\nconst decrementPriceEventDays = priceEvents =>\n  Object.keys(priceEvents).reduce((acc, key) => {\n    const { itemId, daysRemaining } = priceEvents[key]\n\n    if (daysRemaining > 1) {\n      acc[key] = { itemId, daysRemaining: daysRemaining - 1 }\n    }\n\n    return acc\n  }, {})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updatePriceEvents = state => {\n  const { priceCrashes, priceSurges } = state\n\n  return {\n    ...state,\n    priceCrashes: decrementPriceEventDays(priceCrashes),\n    priceSurges: decrementPriceEventDays(priceSurges),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updateFinancialRecords = state => {\n  const {\n    profitabilityStreak,\n    todaysLosses,\n    todaysRevenue,\n    record7dayProfitAverage,\n    recordProfitabilityStreak,\n  } = state\n  let {\n    historicalDailyLosses,\n    historicalDailyRevenue,\n    recordSingleDayProfit,\n  } = state\n\n  historicalDailyLosses = [todaysLosses, ...historicalDailyLosses].slice(\n    0,\n    DAILY_FINANCIAL_HISTORY_RECORD_LENGTH\n  )\n\n  historicalDailyRevenue = [todaysRevenue, ...historicalDailyRevenue].slice(\n    0,\n    DAILY_FINANCIAL_HISTORY_RECORD_LENGTH\n  )\n\n  const profitAverage = get7DayAverage(\n    historicalDailyLosses.map((loss, i) =>\n      moneyTotal(historicalDailyRevenue[i], loss)\n    )\n  )\n\n  const wasTodayProfitable = todaysRevenue + todaysLosses > 0\n  const currentProfitabilityStreak = wasTodayProfitable\n    ? profitabilityStreak + 1\n    : 0\n\n  return {\n    ...state,\n    historicalDailyLosses,\n    historicalDailyRevenue,\n    profitabilityStreak: currentProfitabilityStreak,\n    record7dayProfitAverage: Math.max(record7dayProfitAverage, profitAverage),\n    recordProfitabilityStreak: Math.max(\n      recordProfitabilityStreak,\n      currentProfitabilityStreak\n    ),\n    recordSingleDayProfit: Math.max(\n      recordSingleDayProfit,\n      getProfit(todaysRevenue, todaysLosses)\n    ),\n    todaysLosses: 0,\n    todaysRevenue: 0,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updateInventoryRecordsForNextDay = state => ({\n  ...state,\n  todaysPurchases: {},\n  todaysStartingInventory: state.inventory.reduce((acc, { id, quantity }) => {\n    acc[id] = quantity\n    return acc\n  }, {}),\n})\n\nexport const applyLoanInterest = state => {\n  const loanBalance = moneyTotal(\n    state.loanBalance,\n    castToMoney(state.loanBalance * LOAN_INTEREST_RATE)\n  )\n\n  const newDayNotifications =\n    loanBalance > 0\n      ? [\n          ...state.newDayNotifications,\n          {\n            severity: 'warning',\n            message: LOAN_BALANCE_NOTIFICATION`${loanBalance}`,\n          },\n        ]\n      : state.newDayNotifications\n\n  return {\n    ...state,\n    loanBalance,\n    newDayNotifications,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const computeStateForNextDay = (state, isFirstDay = false) =>\n  (isFirstDay\n    ? []\n    : [\n        computeCowInventoryForNextDay,\n        processCowBreeding,\n        processField,\n        processNerfs,\n        processWeather,\n        processSprinklers,\n        processFeedingCows,\n        processCowAttrition,\n        processMilkingCows,\n        updatePriceEvents,\n        updateFinancialRecords,\n        updateInventoryRecordsForNextDay,\n        generatePriceEvents,\n        applyLoanInterest,\n        rotateNotificationLogs,\n      ]\n  )\n    .concat([adjustItemValues])\n    .reduce((acc, fn) => fn({ ...acc }), {\n      ...state,\n      cowForSale: generateCow(),\n      dayCount: state.dayCount + 1,\n      notifications: [],\n      todaysPastNotifications: [],\n    })\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const purchaseItem = (state, item, howMany = 1) => {\n  const { money, todaysPurchases, valueAdjustments } = state\n  const numberOfItemsToAdd = Math.min(howMany, inventorySpaceRemaining(state))\n\n  if (numberOfItemsToAdd === 0) {\n    return state\n  }\n\n  const value = getAdjustedItemValue(valueAdjustments, item.id)\n  const totalValue = value * numberOfItemsToAdd\n\n  if (totalValue > money) {\n    return state\n  }\n\n  return addItemToInventory(\n    {\n      ...state,\n      money: moneyTotal(money, -totalValue),\n      todaysPurchases: {\n        ...todaysPurchases,\n        [item.id]: (todaysPurchases[item.id] || 0) + numberOfItemsToAdd,\n      },\n    },\n    item,\n    numberOfItemsToAdd\n  )\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} revenue\n * @returns {farmhand.state}\n */\nconst addRevenue = (state, revenueToAdd) => {\n  const { money, revenue, todaysRevenue } = state\n\n  return {\n    ...state,\n    money: moneyTotal(money, revenueToAdd),\n    revenue: moneyTotal(revenue, revenueToAdd),\n    todaysRevenue: moneyTotal(todaysRevenue, revenueToAdd),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const sellItem = (state, { id }, howMany = 1) => {\n  if (howMany === 0) {\n    return state\n  }\n\n  const item = itemsMap[id]\n  const { itemsSold, money: initialMoney, valueAdjustments } = state\n  const oldLevel = levelAchieved(farmProductsSold(itemsSold))\n  let { loanBalance } = state\n\n  const adjustedItemValue = isItemSoldInShop(item)\n    ? getResaleValue(item)\n    : getAdjustedItemValue(valueAdjustments, id)\n  const saleIsGarnished = isItemAFarmProduct(item)\n  let saleValue = 0\n\n  for (let i = 0; i < howMany; i++) {\n    const loanGarnishment = saleIsGarnished\n      ? Math.min(\n          loanBalance,\n          castToMoney(adjustedItemValue * LOAN_GARNISHMENT_RATE)\n        )\n      : 0\n    const garnishedProfit = adjustedItemValue - loanGarnishment\n    loanBalance = moneyTotal(loanBalance, -loanGarnishment)\n    saleValue = moneyTotal(saleValue, garnishedProfit)\n  }\n\n  if (saleIsGarnished) {\n    state = adjustLoan(state, moneyTotal(loanBalance, -state.loanBalance))\n  }\n\n  const newItemsSold = { ...itemsSold, [id]: (itemsSold[id] || 0) + howMany }\n\n  // money needs to be passed in explicitly here because state.money gets\n  // mutated above and addRevenue needs its initial value.\n  state = addRevenue({ ...state, money: initialMoney }, saleValue)\n\n  state = {\n    ...state,\n    itemsSold: newItemsSold,\n  }\n\n  state = processLevelUp(state, oldLevel)\n  state = decrementItemFromInventory(state, id, howMany)\n\n  return updateLearnedRecipes(state)\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updateLearnedRecipes = state => ({\n  ...state,\n  learnedRecipes: Object.keys(recipesMap).reduce((acc, recipeId) => {\n    if (recipesMap[recipeId].condition(state)) {\n      acc[recipeId] = true\n    }\n\n    return acc\n  }, {}),\n})\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.recipe} recipe\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const makeRecipe = (state, recipe, howMany = 1) => {\n  if (!canMakeRecipe(recipe, state.inventory, howMany)) {\n    return state\n  }\n\n  state = Object.keys(recipe.ingredients).reduce(\n    (state, ingredientId) =>\n      decrementItemFromInventory(\n        state,\n        ingredientId,\n        recipe.ingredients[ingredientId] * howMany\n      ),\n    state\n  )\n\n  return addItemToInventory(state, recipe, howMany)\n}\n\n// TODO: Change showNotification to accept a configuration object instead of so\n// many formal parameters.\n/**\n * @param {farmhand.state} state\n * @param {string} message\n * @param {string} [severity] Corresponds to the `severity` prop here:\n * https://material-ui.com/api/alert/\n * @returns {farmhand.state}\n * @see https://material-ui.com/api/alert/\n */\nexport const showNotification = (\n  state,\n  message,\n  severity = 'info',\n  onClick = undefined\n) => {\n  const { notifications } = state\n\n  return {\n    ...state,\n    // Don't show redundant notifications\n    notifications: notifications.find(\n      notification => notification.message === message\n    )\n      ? notifications\n      : notifications.concat({ message, onClick, severity }),\n    doShowNotifications: true,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const purchaseCow = (state, cow) => {\n  const { cowInventory, cowColorsPurchased, money, purchasedCowPen } = state\n  const { color } = cow\n\n  const cowValue = getCowValue(cow)\n  if (\n    money < cowValue ||\n    purchasedCowPen === 0 ||\n    cowInventory.length >= PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows\n  ) {\n    return state\n  }\n\n  return {\n    ...state,\n    cowInventory: [...cowInventory, { ...cow }],\n    cowColorsPurchased: {\n      ...cowColorsPurchased,\n      [color]: (cowColorsPurchased[color] || 0) + 1,\n    },\n    money: moneyTotal(money, -cowValue),\n    cowForSale: generateCow(),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const sellCow = (state, cow) => {\n  const { cowsSold, money } = state\n  const cowValue = getCowValue(cow)\n\n  state = removeCowFromInventory(state, cow)\n\n  const cowColorId = getCowColorId(cow)\n\n  if (cow.isBred) {\n    state = addRevenue(state, cowValue)\n  } else {\n    state = {\n      ...state,\n      money: moneyTotal(money, cowValue),\n    }\n  }\n\n  const newCowsSold = {\n    ...cowsSold,\n    [cowColorId]: (cowsSold[cowColorId] || 0) + 1,\n  }\n\n  state = { ...state, cowsSold: newCowsSold }\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const removeCowFromInventory = (state, cow) => {\n  const cowInventory = [...state.cowInventory]\n  const { isUsingHuggingMachine } = cow\n\n  cowInventory.splice(cowInventory.indexOf(cow), 1)\n\n  if (isUsingHuggingMachine) {\n    state = addItemToInventory(state, itemsMap[HUGGING_MACHINE_ITEM_ID])\n  }\n\n  state = changeCowBreedingPenResident(state, cow, false)\n\n  return { ...state, cowInventory }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @param {Function(farmhand.cow)} fn Must return the modified cow or\n * undefined.\n * @returns {farmhand.state}\n */\nexport const modifyCow = (state, cowId, fn) => {\n  const cowInventory = [...state.cowInventory]\n  const cow = cowInventory.find(({ id }) => id === cowId)\n  const cowIndex = cowInventory.indexOf(cow)\n\n  cowInventory[cowIndex] = {\n    ...cow,\n    ...fn(cow),\n  }\n\n  return {\n    ...state,\n    cowInventory,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @param {boolean} doAutomaticallyHug\n * @returns {farmhand.state}\n */\nexport const changeCowAutomaticHugState = (state, cow, doAutomaticallyHug) => {\n  if (\n    (doAutomaticallyHug && !areHuggingMachinesInInventory(state.inventory)) ||\n    // TODO: This Boolean cast is needed for backwards compatibility. Remove it\n    // after 10/1/2020.\n    Boolean(cow.isUsingHuggingMachine) === doAutomaticallyHug\n  ) {\n    return state\n  }\n\n  state = modifyCow(state, cow.id, cow => ({\n    ...cow,\n    isUsingHuggingMachine: doAutomaticallyHug,\n  }))\n\n  state = doAutomaticallyHug\n    ? decrementItemFromInventory(state, HUGGING_MACHINE_ITEM_ID)\n    : addItemToInventory(state, itemsMap[HUGGING_MACHINE_ITEM_ID])\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @param {boolean} doAdd If true, cow will be added to the breeding pen. If\n * false, they will be removed.\n * @returns {farmhand.state}\n */\nexport const changeCowBreedingPenResident = (state, cow, doAdd) => {\n  const { cowBreedingPen } = state\n  const { cowId1, cowId2 } = cowBreedingPen\n  const isPenFull = cowId1 !== null && cowId2 !== null\n  const isCowInPen = cowId1 === cow.id || cowId2 === cow.id\n  let newCowBreedingPen = { ...cowBreedingPen }\n\n  if (doAdd) {\n    if (isPenFull || isCowInPen) {\n      return state\n    }\n\n    const cowId = cowId1 === null ? 'cowId1' : 'cowId2'\n    newCowBreedingPen = { ...newCowBreedingPen, [cowId]: cow.id }\n  } else {\n    if (!isCowInPen) {\n      return state\n    }\n\n    if (cowId1 === cow.id) {\n      newCowBreedingPen = {\n        ...newCowBreedingPen,\n        cowId1: newCowBreedingPen.cowId2,\n      }\n    }\n\n    newCowBreedingPen = { ...newCowBreedingPen, cowId2: null }\n  }\n\n  return {\n    ...state,\n    cowBreedingPen: {\n      ...newCowBreedingPen,\n      daysUntilBirth: COW_GESTATION_PERIOD_DAYS,\n    },\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @param {string} plantableItemId\n * @returns {farmhand.state}\n */\nexport const plantInPlot = (state, x, y, plantableItemId) => {\n  if (\n    !plantableItemId ||\n    !state.inventory.some(({ id }) => id === plantableItemId)\n  ) {\n    return state\n  }\n\n  const { field } = state\n  const row = field[y]\n  const finalCropItemId = getFinalCropItemIdFromSeedItemId(plantableItemId)\n\n  if (row[x]) {\n    // Something is already planted in field[x][y]\n    return state\n  }\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getCropFromItemId(finalCropItemId)\n  )\n\n  state = decrementItemFromInventory(state, plantableItemId)\n  state = processSprinklers(state)\n\n  return {\n    ...state,\n    selectedItemId: state.inventory.find(({ id }) => id === plantableItemId)\n      ? plantableItemId\n      : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const fertilizeCrop = (state, x, y) => {\n  const { field } = state\n  const row = field[y]\n  const crop = row[x]\n\n  const fertilizerInventory = state.inventory.find(\n    item => item.id === FERTILIZER_ITEM_ID\n  )\n\n  if (\n    !crop ||\n    !fertilizerInventory ||\n    getPlotContentType(crop) !== itemType.CROP ||\n    crop.isFertilized === true\n  ) {\n    return state\n  }\n\n  const { quantity: initialFertilizerQuantity } = fertilizerInventory\n  state = decrementItemFromInventory(state, FERTILIZER_ITEM_ID)\n  const doFertilizersRemain = initialFertilizerQuantity > 1\n\n  state = modifyFieldPlotAt(state, x, y, crop => ({\n    ...crop,\n    isFertilized: true,\n  }))\n\n  return {\n    ...state,\n    fieldMode: doFertilizersRemain ? FERTILIZE : OBSERVE,\n    selectedItemId: doFertilizersRemain ? FERTILIZER_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const setSprinkler = (state, x, y) => {\n  const { field } = state\n  const plot = field[y][x]\n\n  // Only set sprinklers in empty plots\n  if (plot !== null) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, SPRINKLER_ITEM_ID)\n\n  const doSprinklersRemain = state.inventory.some(\n    item => item.id === SPRINKLER_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getPlotContentFromItemId(SPRINKLER_ITEM_ID)\n  )\n\n  state = processSprinklers(state)\n\n  return {\n    ...state,\n    fieldMode: doSprinklersRemain ? SET_SPRINKLER : OBSERVE,\n    selectedItemId: doSprinklersRemain ? SPRINKLER_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const setScarecrow = (state, x, y) => {\n  const plot = state.field[y][x]\n\n  // Only set scarecrows in empty plots\n  if (plot !== null) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, SCARECROW_ITEM_ID)\n\n  const doScarecrowsRemain = state.inventory.some(\n    item => item.id === SCARECROW_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getPlotContentFromItemId(SCARECROW_ITEM_ID)\n  )\n\n  return {\n    ...state,\n    fieldMode: doScarecrowsRemain ? SET_SCARECROW : OBSERVE,\n    selectedItemId: doScarecrowsRemain ? SCARECROW_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const harvestPlot = (state, x, y) => {\n  const row = state.field[y]\n  const crop = row[x]\n\n  if (\n    !crop ||\n    getPlotContentType(crop) !== itemType.CROP ||\n    getCropLifeStage(crop) !== GROWN ||\n    !doesInventorySpaceRemain(state)\n  ) {\n    return state\n  }\n\n  const item = itemsMap[crop.itemId]\n  state = removeFieldPlotAt(state, x, y)\n  state = addItemToInventory(state, item)\n  const { cropType } = item\n\n  const { cropsHarvested } = state\n\n  return {\n    ...state,\n    cropsHarvested: {\n      ...cropsHarvested,\n      [cropType]: (cropsHarvested[cropType] || 0) + 1,\n    },\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const clearPlot = (state, x, y) => {\n  const plotContent = state.field[y][x]\n\n  if (!plotContent) {\n    return state\n  }\n\n  const item = itemsMap[plotContent.itemId]\n\n  if (item.isReplantable && !doesInventorySpaceRemain(state)) {\n    return state\n  }\n\n  state = removeFieldPlotAt(state, x, y)\n\n  return item.isReplantable ? addItemToInventory(state, item) : state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} fieldId\n * @returns {farmhand.state}\n */\nexport const purchaseField = (state, fieldId) => {\n  const { field, money, purchasedField } = state\n  if (purchasedField >= fieldId) {\n    return state\n  }\n\n  const { columns, price, rows } = PURCHASEABLE_FIELD_SIZES.get(fieldId)\n\n  return {\n    purchasedField: fieldId,\n    field: nullArray(rows).map((_, row) =>\n      nullArray(columns).map(\n        (_, column) => (field[row] && field[row][column]) || null\n      )\n    ),\n    money: moneyTotal(money, -price),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const waterPlot = (state, x, y) => {\n  const plotContent = state.field[y][x]\n\n  if (!plotContent || getPlotContentType(plotContent) !== itemType.CROP) {\n    return state\n  }\n\n  return modifyFieldPlotAt(state, x, y, crop => ({\n    ...crop,\n    wasWateredToday: true,\n  }))\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const waterAllPlots = state => waterField(state)\n\n/**\n * @param {farmhand.state} state\n * @param {number} cowPenId\n * @returns {farmhand.state}\n */\nexport const purchaseCowPen = (state, cowPenId) => {\n  const { money, purchasedCowPen } = state\n\n  if (purchasedCowPen >= cowPenId) {\n    return state\n  }\n\n  return {\n    purchasedCowPen: cowPenId,\n    money: moneyTotal(money, -PURCHASEABLE_COW_PENS.get(cowPenId).price),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const purchaseStorageExpansion = state => {\n  const { money, inventoryLimit } = state\n\n  if (money < STORAGE_EXPANSION_PRICE || inventoryLimit === -1) {\n    return state\n  }\n\n  return {\n    ...state,\n    inventoryLimit: inventoryLimit + STORAGE_EXPANSION_AMOUNT,\n    money: moneyTotal(money, -STORAGE_EXPANSION_PRICE),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const hugCow = (state, cowId) =>\n  modifyCow(state, cowId, cow =>\n    cow.happinessBoostsToday >= MAX_DAILY_COW_HUG_BENEFITS\n      ? cow\n      : {\n          happiness: Math.min(1, cow.happiness + COW_HUG_BENEFIT),\n          happinessBoostsToday: cow.happinessBoostsToday + 1,\n        }\n  )\n\n/**\n * @param {farmhand.state} state\n * @param {string} newName\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const changeCowName = (state, cowId, newName) =>\n  modifyCow(state, cowId, () => ({\n    name: newName.slice(0, MAX_ANIMAL_NAME_LENGTH),\n  }))\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const selectCow = (state, { id }) => ({ ...state, selectedCowId: id })\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.state} prevState\n * @returns {farmhand.state}\n */\nexport const updateAchievements = (state, prevState) =>\n  achievements.reduce((state, achievement) => {\n    if (\n      !state.completedAchievements[achievement.id] &&\n      achievement.condition(state, prevState)\n    ) {\n      state = {\n        ...achievement.reward(state),\n        completedAchievements: {\n          ...state.completedAchievements,\n          [achievement.id]: true,\n        },\n      }\n\n      state = showNotification(\n        state,\n        ACHIEVEMENT_COMPLETED`${achievement}`,\n        'success'\n      )\n    }\n\n    return state\n  }, state)\n\n/**\n * @param {farmhand.state} state\n * @param {number} adjustmentAmount This should be a negative number if the\n * loan is being paid down, positive if a loan is being taken out.\n * @returns {farmhand.state}\n */\nexport const adjustLoan = (state, adjustmentAmount) => {\n  const loanBalance = moneyTotal(state.loanBalance, adjustmentAmount)\n  const money = moneyTotal(state.money, adjustmentAmount)\n\n  if (loanBalance === 0 && adjustmentAmount < 0) {\n    state = showNotification(state, LOAN_PAYOFF``, 'success')\n  } else if (adjustmentAmount > 0) {\n    // Player is taking out a new loan\n    state = {\n      ...showNotification(state, LOAN_INCREASED`${loanBalance}`, 'info'),\n      loansTakenOut: state.loansTakenOut + 1,\n    }\n  }\n\n  return {\n    ...state,\n    loanBalance,\n    money,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {function(farmhand.state, number, number)} fieldFn\n * @param {number} rangeRadius\n * @param {number} x\n * @param {number} y\n * @param {...any} args Passed to fieldFn.\n * @returns {farmhand.state}\n */\nexport const forRange = (\n  state,\n  fieldFn,\n  rangeRadius,\n  plotX,\n  plotY,\n  ...args\n) => {\n  const startX = Math.max(plotX - rangeRadius, 0)\n  const endX = Math.min(plotX + rangeRadius, state.field[0].length - 1)\n  const startY = Math.max(plotY - rangeRadius, 0)\n  const endY = Math.min(plotY + rangeRadius, state.field.length - 1)\n\n  for (let y = startY; y <= endY; y++) {\n    for (let x = startX; x <= endX; x++) {\n      state = fieldFn(state, x, y, ...args)\n    }\n  }\n\n  return state\n}\n","import { saveAs } from 'file-saver'\n\nimport {\n  clearPlot,\n  fertilizeCrop,\n  harvestPlot,\n  plantInPlot,\n  waterPlot,\n} from './reducers'\nimport {\n  farmProductsSold,\n  getLevelEntitlements,\n  levelAchieved,\n  moneyTotal,\n  reduceByPersistedKeys,\n  sanitizeStateForImport,\n} from './utils'\nimport { DEFAULT_ROOM, SPRINKLER_ITEM_ID } from './constants'\nimport { dialogView, fieldMode } from './enums'\nimport {\n  DISCONNECTING_FROM_SERVER,\n  INVALID_DATA_PROVIDED,\n  PROGRESS_SAVED_MESSAGE,\n} from './strings'\n\nconst {\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  PLANT,\n  SET_SCARECROW,\n  SET_SPRINKLER,\n  WATER,\n} = fieldMode\n\nconst toolbeltFieldModes = [CLEANUP, HARVEST, WATER]\n\nexport default {\n  /**\n   * @param {farmhand.item} item\n   * @param {number} [howMany=1]\n   */\n  handleItemPurchaseClick(item, howMany = 1) {\n    this.purchaseItem(item, howMany)\n  },\n\n  /**\n   * @param {farmhand.recipe} recipe\n   * @param {number} [howMany=1]\n   */\n  handleMakeRecipeClick(recipe, howMany = 1) {\n    this.makeRecipe(recipe, howMany)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowPurchaseClick(cow) {\n    this.purchaseCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowSellClick(cow) {\n    this.sellCow(cow)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   * @param {farmhand.cow} cow\n   */\n  handleCowAutomaticHugChange({ target: { checked } }, cow) {\n    this.changeCowAutomaticHugState(cow, checked)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   * @param {farmhand.cow} cow\n   */\n  handleCowBreedChange({ target: { checked } }, cow) {\n    this.changeCowBreedingPenResident(cow, checked)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowHugClick(cow) {\n    this.hugCow(cow.id)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   * @param {farmhand.cow} cow\n   */\n  handleCowNameInputChange({ target: { value } }, cow) {\n    this.changeCowName(cow.id, value)\n  },\n\n  /**\n   * @param {farmhand.item} item\n   * @param {number} [howMany=1]\n   */\n  handleItemSellClick(item, howMany = 1) {\n    this.sellItem(item, howMany)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   */\n  handleViewChange({ target: { value } }) {\n    this.setState({ stageFocus: value })\n  },\n\n  /**\n   * @param {farmhand.module:enums.stageFocusType} stageFocus\n   */\n  handleViewChangeButtonClick(stageFocus) {\n    this.setState({ stageFocus })\n  },\n\n  /**\n   * @param {farmhand.module:enums.fieldMode} fieldMode\n   */\n  handleFieldModeSelect(fieldMode) {\n    this.setState(({ selectedItemId }) => ({\n      selectedItemId:\n        fieldMode !== PLANT || toolbeltFieldModes.includes(fieldMode)\n          ? ''\n          : selectedItemId,\n      fieldMode,\n    }))\n  },\n\n  /**\n   * @param {farmhand.item} item\n   */\n  handleItemSelectClick({\n    id,\n    enablesFieldMode,\n    hoveredPlotRangeSize: newHoveredPlotRangeSize,\n  }) {\n    this.setState(({ hoveredPlotRangeSize, itemsSold }) => {\n      if (id === SPRINKLER_ITEM_ID) {\n        hoveredPlotRangeSize = getLevelEntitlements(\n          levelAchieved(farmProductsSold(itemsSold))\n        ).sprinklerRange\n      } else {\n        // newHoveredPlotRangeSize is either a number or undefined.\n        hoveredPlotRangeSize =\n          typeof newHoveredPlotRangeSize === 'number'\n            ? newHoveredPlotRangeSize\n            : hoveredPlotRangeSize\n      }\n\n      return {\n        fieldMode: enablesFieldMode,\n        hoveredPlotRangeSize,\n        selectedItemId: id,\n      }\n    })\n  },\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  handlePlotClick(x, y) {\n    const {\n      fieldMode,\n      hoveredPlotRangeSize: rangeRadius,\n      selectedItemId,\n    } = this.state\n\n    if (fieldMode === PLANT) {\n      this.forRange(plantInPlot, rangeRadius, x, y, selectedItemId)\n    } else if (fieldMode === HARVEST) {\n      this.forRange(harvestPlot, rangeRadius, x, y)\n    } else if (fieldMode === CLEANUP) {\n      this.forRange(clearPlot, rangeRadius, x, y)\n    } else if (fieldMode === WATER) {\n      this.forRange(waterPlot, rangeRadius, x, y)\n    } else if (fieldMode === FERTILIZE) {\n      this.forRange(fertilizeCrop, rangeRadius, x, y)\n    } else if (fieldMode === SET_SPRINKLER) {\n      this.setSprinkler(x, y)\n    } else if (fieldMode === SET_SCARECROW) {\n      this.setScarecrow(x, y)\n    }\n  },\n\n  /**\n   * @param {number} range\n   */\n  handleFieldActionRangeChange(range) {\n    this.setState(() => ({ hoveredPlotRangeSize: range }))\n  },\n\n  handleClickEndDayButton() {\n    this.incrementDay()\n\n    // Prevent the player from spamming the End Day button\n    // https://www.reddit.com/r/incremental_games/comments/jusn9i/farmhand_updates_for_november_2020/gcmi6x6/?context=3\n    document.activeElement.blur()\n  },\n\n  /**\n   * @param {number} amount\n   */\n  handleAddMoneyClick(amount) {\n    this.setState(({ money }) => ({ money: moneyTotal(money, amount) }))\n  },\n\n  handleClearPersistedDataClick() {\n    this.clearPersistedData()\n  },\n\n  handleWaterAllPlotsClick() {\n    this.waterAllPlots(this.state)\n  },\n\n  /**\n   * @param {number} fieldId\n   */\n  handleFieldPurchase(fieldId) {\n    this.purchaseField(fieldId)\n  },\n\n  /**\n   * @param {number} cowPenId\n   */\n  handleCowPenPurchase(cowPenId) {\n    this.purchaseCowPen(cowPenId)\n  },\n\n  handleStorageExpansionPurchase() {\n    this.purchaseStorageExpansion()\n  },\n\n  /**\n   * @param {boolean} [setOpen]\n   */\n  handleMenuToggle(setOpen = null) {\n    this.setState(({ isMenuOpen }) => ({\n      isMenuOpen: setOpen === null ? !isMenuOpen : setOpen,\n    }))\n  },\n\n  handleClickNextMenuButton() {\n    this.focusNextView()\n  },\n\n  handleClickPreviousMenuButton() {\n    this.focusPreviousView()\n  },\n\n  /**\n   * @param {farmhand.cow}\n   */\n  handleCowSelect(cow) {\n    this.selectCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow}\n   */\n  handleCowClick(cow) {\n    this.selectCow(cow)\n    this.hugCow(cow.id)\n  },\n\n  handleCloseNotification(_event, reason) {\n    if (reason === 'clickaway') {\n      return\n    }\n\n    this.setState(() => ({ doShowNotifications: false }))\n  },\n\n  handleNotificationClick() {\n    this.setState(() => ({ doShowNotifications: false }))\n  },\n\n  handleNotificationExited() {\n    const { notifications, todaysPastNotifications } = this.state\n    this.setState({\n      notifications: [],\n      todaysPastNotifications: [...notifications, ...todaysPastNotifications],\n    })\n  },\n\n  /**\n   * @param {farmhand.module:enums.dialogView} dialogView\n   */\n  handleClickDialogViewButton(dialogView) {\n    this.openDialogView(dialogView)\n  },\n\n  handleCloseDialogView() {\n    this.closeDialogView()\n  },\n\n  handleDialogViewExited() {\n    this.setState({ currentDialogView: dialogView.NONE })\n  },\n\n  /**\n   * @param {number} paydownAmount\n   */\n  handleClickLoanPaydownButton(paydownAmount) {\n    this.adjustLoan(-paydownAmount)\n  },\n\n  /**\n   * @param {number} loanAmount\n   */\n  handleClickTakeOutLoanButton(loanAmount) {\n    this.adjustLoan(loanAmount)\n  },\n\n  handleExportDataClick() {\n    const blob = new Blob(\n      [JSON.stringify(reduceByPersistedKeys(this.state), null, 2)],\n      {\n        type: 'application/json;charset=utf-8',\n      }\n    )\n\n    saveAs(blob, 'farmhand.json')\n  },\n\n  /**\n   *\n   */\n  handleImportDataClick([data]) {\n    const [, file] = data\n    const fileReader = new FileReader()\n\n    fileReader.addEventListener('loadend', e => {\n      try {\n        const { result: json } = e.srcElement\n        const state = reduceByPersistedKeys(JSON.parse(json))\n\n        if (\n          Object.keys(state).some(\n            key => typeof this.state[key] !== typeof state[key]\n          )\n        ) {\n          throw new Error(INVALID_DATA_PROVIDED)\n        }\n\n        this.setState(sanitizeStateForImport(state))\n        this.showNotification('Data loaded!', 'success')\n      } catch (e) {\n        console.error(e)\n        this.showNotification(e.message, 'error')\n      }\n    })\n\n    fileReader.readAsText(file.slice())\n  },\n\n  async handleSaveButtonClick() {\n    await this.persistState()\n    this.showNotification(PROGRESS_SAVED_MESSAGE, 'info')\n  },\n\n  /**\n   * @param {string} farmName\n   */\n  handleFarmNameUpdate(farmName) {\n    this.setState({ farmName })\n  },\n\n  handleUseAlternateEndDayButtonPositionChange(\n    _e,\n    useAlternateEndDayButtonPosition\n  ) {\n    this.setState({ useAlternateEndDayButtonPosition })\n  },\n\n  handleOnlineToggleChange(_e, goOnline) {\n    if (!goOnline) {\n      this.showNotification(DISCONNECTING_FROM_SERVER, 'info')\n    }\n\n    const { room } = this.state\n\n    this.setState(() => ({\n      redirect: goOnline ? `/online/${encodeURIComponent(room)}` : '/',\n    }))\n  },\n\n  handleRoomChange(room) {\n    this.setState(() => ({\n      redirect: `/online/${encodeURIComponent(room.trim() || DEFAULT_ROOM)}`,\n    }))\n  },\n}\n","import React, { useEffect, useState } from 'react'\nimport { tween } from 'shifty'\nimport { number, string } from 'prop-types'\n\nimport { default as MuiAppBar } from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { moneyString } from '../../utils'\nimport './AppBar.sass'\n\nconst MoneyDisplay = ({ money }) => {\n  const idleColor = 'rgb(255, 255, 255)'\n  const [displayedMoney, setDisplayedMoney] = useState(money)\n  const [textColor, setTextColor] = useState(idleColor)\n  const [previousMoney, setPreviousMoney] = useState(money)\n  const [currentTweenable, setCurrentTweenable] = useState()\n\n  useEffect(() => {\n    setPreviousMoney(money)\n  }, [money, setPreviousMoney])\n\n  useEffect(() => {\n    if (money !== previousMoney) {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n\n      const tweenable = tween({\n        easing: 'easeOutQuad',\n        duration: 750,\n        render: ({ color, money }) => {\n          setTextColor(color)\n          setDisplayedMoney(money)\n        },\n        from: {\n          color: money > previousMoney ? 'rgb(0, 255, 0)' : 'rgb(255, 0, 0)',\n          money: previousMoney,\n        },\n        to: { color: idleColor, money },\n      })\n\n      setCurrentTweenable(tweenable)\n    }\n\n    return () => {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n    }\n  }, [currentTweenable, money, previousMoney])\n\n  return (\n    <span\n      {...{\n        style: {\n          color: textColor,\n        },\n      }}\n    >\n      {moneyString(displayedMoney)}\n    </span>\n  )\n}\n\nexport const AppBar = ({ money, viewTitle }) => (\n  <MuiAppBar\n    {...{\n      className: 'AppBar',\n      position: 'fixed',\n    }}\n  >\n    <Toolbar\n      {...{\n        className: 'toolbar',\n      }}\n    >\n      <Typography\n        {...{\n          className: 'stage-header',\n          variant: 'h2',\n        }}\n      >\n        {viewTitle}\n      </Typography>\n      <Typography\n        {...{\n          className: 'money-display',\n          variant: 'h2',\n        }}\n      >\n        <MoneyDisplay {...{ money }} />\n      </Typography>\n    </Toolbar>\n  </MuiAppBar>\n)\n\nAppBar.propTypes = {\n  money: number.isRequired,\n  viewTitle: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AppBar {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array } from 'prop-types'\nimport Alert from '@material-ui/lab/Alert'\nimport ReactMarkdown from 'react-markdown'\nimport Divider from '@material-ui/core/Divider'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './LogView.sass'\n\nexport const LogView = ({ notificationLog, todaysPastNotifications }) => (\n  <div className=\"LogView notification-container\">\n    <h3>Today</h3>\n    <ul>\n      {todaysPastNotifications.map(({ message, onClick, severity }) => (\n        <li {...{ key: message }}>\n          <Alert {...{ elevation: 3, onClick, severity }}>\n            <ReactMarkdown {...{ source: message }} />\n          </Alert>\n        </li>\n      ))}\n    </ul>\n    <Divider />\n    <ul>\n      {notificationLog.map(({ day, notifications }, i) => (\n        <li key={`${i}_${notifications.info.join()}`}>\n          <h3>Day {day}</h3>\n          {['success', 'info', 'warning', 'error'].map((severity, i) =>\n            notifications[severity].length ? (\n              <Alert {...{ elevation: 3, key: `${severity}_${i}`, severity }}>\n                {notifications[severity].map((message, j) => (\n                  <ReactMarkdown\n                    {...{ key: `${j}_${message}`, source: message }}\n                  />\n                ))}\n              </Alert>\n            ) : null\n          )}\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nLogView.propTypes = {\n  notificationLog: array.isRequired,\n  todaysPastNotifications: array.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <LogView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { tween } from 'shifty'\nimport { func, number } from 'prop-types'\n\nimport './AnimatedNumber.sass'\n\nconst defaultFormatter = number => `${number}`\n\nconst AnimatedNumber = ({ number, formatter = defaultFormatter }) => {\n  const [displayedNumber, setDisplayedNumber] = useState(number)\n  const [previousNumber, setPreviousNumber] = useState(number)\n  const [currentTweenable, setCurrentTweenable] = useState()\n\n  useEffect(() => {\n    setPreviousNumber(number)\n  }, [number, setPreviousNumber])\n\n  useEffect(() => {\n    if (number !== previousNumber) {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n\n      const tweenable = tween({\n        easing: 'easeOutQuad',\n        duration: 750,\n        render: ({ number }) => {\n          setDisplayedNumber(number)\n        },\n        from: {\n          number: previousNumber,\n        },\n        to: { number },\n      })\n\n      setCurrentTweenable(tweenable)\n    }\n\n    return () => {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n    }\n  }, [currentTweenable, number, previousNumber])\n  return <span className=\"AnimatedNumber\">{formatter(displayedNumber)}</span>\n}\n\nAnimatedNumber.propTypes = {\n  formatter: func,\n  number: number.isRequired,\n}\n\nexport default AnimatedNumber\n","import React from 'react'\nimport { func, number } from 'prop-types'\nimport Fab from '@material-ui/core/Fab'\nimport KeyboardArrowUp from '@material-ui/icons/KeyboardArrowUp'\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown'\nimport NumberFormat from 'react-number-format'\nimport TextField from '@material-ui/core/TextField'\n\nimport AnimatedNumber from '../AnimatedNumber'\n\nimport { integerString } from '../../utils'\n\nimport './QuantityInput.sass'\n\nconst QuantityNumberFormat = ({ inputRef, min, max, onChange, ...rest }) => (\n  <NumberFormat\n    isNumericString\n    thousandSeparator\n    {...{\n      ...rest,\n      allowNegative: false,\n      decimalScale: 0,\n      onValueChange: ({ floatValue = 0 }) =>\n        onChange(Math.min(floatValue, max)),\n    }}\n  />\n)\n\nconst QuantityTextInput = ({\n  handleSubmit,\n  handleUpdateNumber,\n  maxQuantity,\n  value,\n}) => (\n  <TextField\n    {...{\n      value,\n      inputProps: {\n        pattern: '[0-9]*',\n        min: 0,\n        max: maxQuantity,\n      },\n      onChange: handleUpdateNumber,\n      // Bind to keyup to prevent spamming the event handler.\n      onKeyUp: ({ which }) => {\n        // Enter\n        if (which === 13) {\n          handleSubmit()\n        }\n      },\n\n      InputProps: {\n        inputComponent: QuantityNumberFormat,\n      },\n    }}\n  />\n)\n\nconst QuantityInput = ({\n  handleSubmit,\n  handleUpdateNumber,\n  maxQuantity,\n  setQuantity,\n  value,\n}) => (\n  <div className=\"QuantityInput\">\n    <QuantityTextInput\n      {...{ handleSubmit, handleUpdateNumber, maxQuantity, value }}\n    />\n    <span className=\"quantity\">\n      /{' '}\n      <AnimatedNumber {...{ number: maxQuantity, formatter: integerString }} />\n    </span>\n    <div className=\"number-nudger-container\">\n      <Fab\n        {...{\n          'aria-label': 'Increment',\n          color: 'primary',\n          onClick: () => setQuantity(++value > maxQuantity ? 1 : value),\n          size: 'small',\n        }}\n      >\n        <KeyboardArrowUp />\n      </Fab>\n      <Fab\n        {...{\n          'aria-label': 'Decrement',\n          color: 'primary',\n          onClick: () => setQuantity(--value === 0 ? maxQuantity : value),\n          size: 'small',\n        }}\n      >\n        <KeyboardArrowDown />\n      </Fab>\n    </div>\n  </div>\n)\n\nQuantityInput.propTypes = {\n  handleSubmit: func.isRequired,\n  handleUpdateNumber: func.isRequired,\n  maxQuantity: number.isRequired,\n  setQuantity: func.isRequired,\n  value: number.isRequired,\n}\n\nexport default QuantityInput\n","import React, { useEffect, useState } from 'react'\nimport KeyboardArrowUp from '@material-ui/icons/KeyboardArrowUp'\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport { array, bool, func, number, object } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { items } from '../../img'\nimport { itemsMap } from '../../data/maps'\nimport {\n  inventorySpaceRemaining,\n  isItemSoldInShop,\n  getCropLifecycleDuration,\n  getFinalCropItemFromSeedItem,\n  getItemCurrentValue,\n  getResaleValue,\n  moneyString,\n  integerString,\n} from '../../utils'\nimport QuantityInput from '../QuantityInput'\nimport AnimatedNumber from '../AnimatedNumber'\n\nimport './Item.sass'\n\nconst noop = () => {}\n\nconst ValueIndicator = ({ poorValue }) => (\n  <Tooltip\n    {...{\n      arrow: true,\n      placement: 'top',\n      title: `${poorValue ? 'Poor' : 'Good'} opportunity`,\n    }}\n  >\n    {poorValue ? (\n      <KeyboardArrowDown color=\"error\" />\n    ) : (\n      <KeyboardArrowUp color=\"primary\" />\n    )}\n  </Tooltip>\n)\n\nconst PurchaseValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue = value > itemsMap[id].value,\n}) => (\n  <ValueIndicator\n    {...{\n      id,\n      poorValue,\n      value,\n      valueAdjustments,\n    }}\n  />\n)\n\nconst SellValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue = value < itemsMap[id].value,\n}) => (\n  <ValueIndicator\n    {...{\n      id,\n      poorValue,\n      value,\n      valueAdjustments,\n    }}\n  />\n)\n\nexport const Item = ({\n  completedAchievements,\n  handleItemPurchaseClick,\n  handleItemSelectClick,\n  handleItemSellClick,\n  historicalValueAdjustments,\n  inventory,\n  inventoryLimit,\n  isPurchaseView,\n  isSelectView,\n  isSelected,\n  isSellView,\n  item,\n  item: { description, doesPriceFluctuate, id, isReplantable, name },\n  money,\n  playerInventoryQuantities,\n  showQuantity,\n  valueAdjustments,\n\n  // Note: These props are defaulted to 0 in the tests.\n  adjustedValue = isSellView && isItemSoldInShop(item)\n    ? getResaleValue(item)\n    : getItemCurrentValue(item, valueAdjustments),\n\n  previousDayAdjustedValue = (isSellView && isItemSoldInShop(item)) ||\n  historicalValueAdjustments.length === 0 ||\n  !doesPriceFluctuate\n    ? null\n    : getItemCurrentValue(item, historicalValueAdjustments[0]),\n\n  maxQuantityPlayerCanPurchase = Math.max(\n    0,\n    Math.min(\n      Math.floor(money / adjustedValue),\n      inventorySpaceRemaining({ inventory, inventoryLimit })\n    )\n  ),\n}) => {\n  const [purchaseQuantity, setPurchaseQuantity] = useState(1)\n  const [sellQuantity, setSellQuantity] = useState(1)\n\n  useEffect(() => {\n    // TODO: Determine if this logic can be simplified to be more like the\n    // useEffect function below.\n    setPurchaseQuantity(\n      Math.min(maxQuantityPlayerCanPurchase, Math.max(1, purchaseQuantity))\n    )\n  }, [maxQuantityPlayerCanPurchase, purchaseQuantity])\n\n  useEffect(() => {\n    setSellQuantity(Math.min(playerInventoryQuantities[id], sellQuantity))\n  }, [id, playerInventoryQuantities, sellQuantity])\n\n  const handleItemPurchase = () => {\n    handleItemPurchaseClick(item, purchaseQuantity)\n    setPurchaseQuantity(Math.min(1, maxQuantityPlayerCanPurchase))\n  }\n  const handleItemSell = () => {\n    handleItemSellClick(item, sellQuantity)\n    setSellQuantity(Math.min(1, playerInventoryQuantities[id]))\n  }\n\n  return (\n    <Card\n      {...{\n        className: classNames('Item', {\n          'is-selectable': isSelectView,\n          'is-selected': isSelected,\n        }),\n        onClick: isSelectView ? () => handleItemSelectClick(item) : noop,\n        raised: isSelected,\n      }}\n    >\n      <CardHeader\n        {...{\n          avatar: <img {...{ src: items[id] }} alt={name} />,\n          title: name,\n          subheader: (\n            <div>\n              {isPurchaseView && (\n                <p>\n                  <Tooltip\n                    {...{\n                      arrow: true,\n                      placement: 'top',\n                      title:\n                        previousDayAdjustedValue === null\n                          ? ''\n                          : `Yesterday's price: ${moneyString(\n                              previousDayAdjustedValue\n                            )}`,\n                    }}\n                  >\n                    <span>\n                      Price:{' '}\n                      <AnimatedNumber\n                        {...{ number: adjustedValue, formatter: moneyString }}\n                      />\n                    </span>\n                  </Tooltip>\n                  {completedAchievements['unlock-crop-price-guide'] &&\n                    valueAdjustments[id] && (\n                      <PurchaseValueIndicator\n                        {...{ id, value: adjustedValue, valueAdjustments }}\n                      />\n                    )}\n                </p>\n              )}\n              {isSellView && (\n                <p>\n                  <Tooltip\n                    {...{\n                      arrow: true,\n                      placement: 'top',\n                      title:\n                        previousDayAdjustedValue === null\n                          ? ''\n                          : `Yesterday's sell price: ${moneyString(\n                              previousDayAdjustedValue\n                            )}`,\n                    }}\n                  >\n                    <span>\n                      Sell price:{' '}\n                      <AnimatedNumber\n                        {...{ number: adjustedValue, formatter: moneyString }}\n                      />\n                    </span>\n                  </Tooltip>\n                  {completedAchievements['unlock-crop-price-guide'] &&\n                    valueAdjustments[id] && (\n                      <SellValueIndicator\n                        {...{ id, value: adjustedValue, valueAdjustments }}\n                      />\n                    )}\n                </p>\n              )}\n              {showQuantity && (\n                <p>\n                  <strong>In inventory:</strong>{' '}\n                  <AnimatedNumber\n                    {...{\n                      number: playerInventoryQuantities[id],\n                      formatter: integerString,\n                    }}\n                  />\n                </p>\n              )}\n              {isPurchaseView && item.growsInto && (\n                <p>\n                  Days to mature:{' '}\n                  {getCropLifecycleDuration(getFinalCropItemFromSeedItem(item))}\n                </p>\n              )}\n            </div>\n          ),\n        }}\n      />\n      {isPurchaseView && (description || isReplantable) && (\n        <CardContent>\n          {description && <Typography>{description}</Typography>}\n          {isReplantable && (\n            <Typography {...{ color: 'textSecondary' }}>\n              Once planted in the field, this item can be returned to your\n              inventory with the hoe and then replanted elsewhere.\n            </Typography>\n          )}\n        </CardContent>\n      )}\n      <CardActions>\n        {isSelectView && (\n          <Button\n            {...{\n              // The onClick handler for this is bound on the parent Card for\n              // better select-ability.\n              className: 'select',\n              color: 'primary',\n              variant: isSelected ? 'contained' : 'outlined',\n            }}\n          >\n            Select\n          </Button>\n        )}\n        {isPurchaseView && (\n          <>\n            <Button\n              {...{\n                className: 'purchase',\n                color: 'primary',\n                disabled:\n                  purchaseQuantity === 0 ||\n                  adjustedValue * purchaseQuantity > money,\n                onClick: handleItemPurchase,\n                variant: 'contained',\n              }}\n            >\n              Buy\n            </Button>\n            <QuantityInput\n              {...{\n                handleSubmit: handleItemPurchase,\n                handleUpdateNumber: setPurchaseQuantity,\n                maxQuantity: maxQuantityPlayerCanPurchase,\n                setQuantity: setPurchaseQuantity,\n                value: purchaseQuantity,\n              }}\n            />\n          </>\n        )}\n        {isSellView && (\n          <>\n            <Button\n              {...{\n                className: 'sell',\n                color: 'secondary',\n                disabled: sellQuantity === 0,\n                onClick: handleItemSell,\n                variant: 'contained',\n              }}\n            >\n              Sell\n            </Button>\n            <QuantityInput\n              {...{\n                handleSubmit: handleItemSell,\n                handleUpdateNumber: setSellQuantity,\n                maxQuantity: playerInventoryQuantities[id],\n                setQuantity: setSellQuantity,\n                value: sellQuantity,\n              }}\n            />\n          </>\n        )}\n      </CardActions>\n    </Card>\n  )\n}\n\nItem.propTypes = {\n  adjustedValue: number,\n  completedAchievements: object.isRequired,\n  handleItemPurchaseClick: func,\n  handleItemSelectClick: func,\n  handleItemSellClick: func,\n  historicalValueAdjustments: array.isRequired,\n  inventory: array.isRequired,\n  inventoryLimit: number.isRequired,\n  isPurchaseView: bool,\n  isSelectView: bool,\n  isSelected: bool,\n  isSellView: bool,\n  item: object.isRequired,\n  money: number.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  showQuantity: bool,\n  valueAdjustments: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Item {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { object } from 'prop-types'\nimport Divider from '@material-ui/core/Divider'\n\nimport { itemsMap } from '../../data/maps'\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\n\nimport './PriceEventView.sass'\n\nconst PriceEventView = ({ priceCrashes, priceSurges }) => (\n  <div className=\"PriceEventView\">\n    <h3>Price Surges</h3>\n    <ul className=\"card-list\">\n      {Object.keys(priceSurges).map(itemId => (\n        <li {...{ key: itemId }}>\n          <Item\n            {...{\n              isSellView: true,\n              item: itemsMap[itemId],\n              showQuantity: true,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n    <Divider />\n    <h3>Price Crashes</h3>\n    <ul className=\"card-list\">\n      {Object.keys(priceCrashes).map(itemId => (\n        <li {...{ key: itemId }}>\n          <Item\n            {...{\n              item: itemsMap[itemId],\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nPriceEventView.propTypes = {\n  priceCrashes: object.isRequired,\n  priceSurges: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <PriceEventView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { number } from 'prop-types'\nimport { interpolate, tween } from 'shifty'\n\nimport './ProgressBar.sass'\n\nconst incompleteColor = '#ff9f00'\nconst completeColor = '#00e500'\n\nconst ProgressBar = ({ percent }) => {\n  const [displayedProgress, setDisplayedProgress] = useState(0)\n  const [displayedColor, setDisplayedColor] = useState(incompleteColor)\n  const [currentTweenable, setCurrentTweenable] = useState()\n\n  useEffect(() => {\n    if (!currentTweenable) {\n      const tweenable = tween({\n        delay: 750,\n        easing: 'easeInOutQuad',\n        duration: 1500,\n        from: { currentPercent: 0 },\n        to: { currentPercent: percent },\n        render: ({ currentPercent }) => {\n          setDisplayedProgress(currentPercent.toFixed(2))\n          setDisplayedColor(\n            interpolate(\n              { color: incompleteColor },\n              { color: completeColor },\n              currentPercent / 100\n            ).color\n          )\n        },\n      })\n\n      setCurrentTweenable(tweenable)\n    }\n\n    return () => {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n    }\n  }, [currentTweenable, percent])\n\n  return (\n    <div className=\"ProgressBar\">\n      <div {...{ className: 'progress-wrapper' }}>\n        <div\n          {...{\n            className: 'progress',\n            style: {\n              background: displayedColor,\n              width: `${displayedProgress}%`,\n            },\n          }}\n        ></div>\n      </div>\n      <p>\n        <span>{displayedProgress}%</span>\n      </p>\n    </div>\n  )\n}\n\nProgressBar.propTypes = {\n  percent: number.isRequired,\n}\n\nexport default ProgressBar\n","import React from 'react'\nimport classNames from 'classnames'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport AssignmentIcon from '@material-ui/icons/Assignment'\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn'\nimport { bool, object } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Achievement.sass'\n\nconst Achievement = ({\n  achievement: { description, id, name, rewardDescription },\n  completedAchievements,\n\n  isComplete = Boolean(completedAchievements[id]),\n}) => (\n  <Card\n    {...{ className: classNames('Achievement', { 'is-complete': isComplete }) }}\n  >\n    <CardHeader\n      {...{\n        avatar: isComplete ? <AssignmentTurnedInIcon /> : <AssignmentIcon />,\n        title: name,\n        subheader: <p>Reward: {rewardDescription}</p>,\n      }}\n    />\n    <CardContent>\n      <p>{description}</p>\n    </CardContent>\n  </Card>\n)\n\nAchievement.propTypes = {\n  achievement: object.isRequired,\n  completedAchievements: object.isRequired,\n  isComplete: bool,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Achievement {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport { object } from 'prop-types'\nimport Divider from '@material-ui/core/Divider'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport ProgressBar from '../ProgressBar'\nimport Achievement from '../Achievement'\nimport achievements from '../../data/achievements'\nimport { memoize } from '../../utils'\n\nimport './AchievementsView.sass'\n\nconst partitionAchievements = memoize(completedAchievements =>\n  achievements.reduce(\n    (acc, achievement) => {\n      acc[\n        completedAchievements[achievement.id] ? 'complete' : 'incomplete'\n      ].push(achievement)\n\n      return acc\n    },\n    { complete: [], incomplete: [] }\n  )\n)\n\nconst AchievementsList = ({ achievements }) => (\n  <ExpansionPanelDetails>\n    <ul className=\"card-list\">\n      {achievements.map(achievement => (\n        <li {...{ key: achievement.id }}>\n          <Achievement {...{ achievement }} />\n        </li>\n      ))}\n    </ul>\n  </ExpansionPanelDetails>\n)\n\nconst AchievementsView = ({\n  completedAchievements,\n  partitionedAchievements: { complete, incomplete } = partitionAchievements(\n    completedAchievements\n  ),\n}) => (\n  <div className=\"AchievementsView\">\n    <ProgressBar\n      {...{ percent: (complete.length / achievements.length) * 100 }}\n    />\n    {complete.length ? (\n      <>\n        <ExpansionPanel {...{ defaultExpanded: true }}>\n          <ExpansionPanelSummary>\n            <h3>Completed</h3>\n          </ExpansionPanelSummary>\n          <AchievementsList {...{ achievements: complete }} />\n        </ExpansionPanel>\n        <Divider />\n      </>\n    ) : null}\n    <ExpansionPanel {...{ defaultExpanded: true }}>\n      <ExpansionPanelSummary>\n        <h3>Not Completed</h3>\n      </ExpansionPanelSummary>\n      <AchievementsList {...{ achievements: incomplete }} />\n    </ExpansionPanel>\n  </div>\n)\n\nAchievementsView.propTypes = {\n  completedAchievements: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AchievementsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, object, number, string } from 'prop-types'\nimport classNames from 'classnames'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableRow from '@material-ui/core/TableRow'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Paper from '@material-ui/core/Paper'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport {\n  farmProductSalesVolumeNeededForLevel,\n  farmProductsSold,\n  get7DayAverage,\n  getProfit,\n  getProfitRecord,\n  integerString,\n  levelAchieved,\n  moneyString,\n  moneyTotal,\n} from '../../utils'\nimport { FARM_PRODUCTS_TOOLTIP_TEXT } from '../../strings'\nimport { DAILY_FINANCIAL_HISTORY_RECORD_LENGTH } from '../../constants'\n\nimport './StatsView.sass'\n\nconst ElevatedPaper = props => (\n  <Paper {...{ ...props, elevation: 6 }}>{props.children}</Paper>\n)\n\nconst StatsView = ({\n  farmName,\n  historicalDailyLosses,\n  historicalDailyRevenue,\n  itemsSold,\n  loansTakenOut,\n  profitabilityStreak,\n  record7dayProfitAverage,\n  recordProfitabilityStreak,\n  recordSingleDayProfit,\n  revenue,\n  todaysLosses,\n  todaysRevenue,\n\n  totalFarmProductsSold = farmProductsSold(itemsSold),\n  currentLevel = levelAchieved(totalFarmProductsSold),\n}) => (\n  <div className=\"StatsView\">\n    <TableContainer {...{ component: ElevatedPaper }}>\n      <Table aria-label=\"Farmer Stats\">\n        <TableBody>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Farm Name\n            </TableCell>\n            <TableCell align=\"right\">{farmName} Farm</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Farmer Level\n            </TableCell>\n            <TableCell align=\"right\">{integerString(currentLevel)}</TableCell>\n          </TableRow>\n          <Tooltip\n            {...{\n              arrow: true,\n              placement: 'top',\n              title: FARM_PRODUCTS_TOOLTIP_TEXT,\n            }}\n          >\n            <TableRow>\n              <TableCell {...{ component: 'th', scope: 'row' }}>\n                Farm Products Sold\n              </TableCell>\n              <TableCell align=\"right\">\n                {integerString(totalFarmProductsSold)}\n              </TableCell>\n            </TableRow>\n          </Tooltip>\n          <Tooltip\n            {...{\n              arrow: true,\n              placement: 'top',\n              title: FARM_PRODUCTS_TOOLTIP_TEXT,\n            }}\n          >\n            <TableRow>\n              <TableCell {...{ component: 'th', scope: 'row' }}>\n                Sales Needed for Next Level\n              </TableCell>\n              <TableCell align=\"right\">\n                {integerString(\n                  farmProductSalesVolumeNeededForLevel(currentLevel + 1) -\n                    totalFarmProductsSold\n                )}\n              </TableCell>\n            </TableRow>\n          </Tooltip>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Loans Taken Out\n            </TableCell>\n            <TableCell align=\"right\">{integerString(loansTakenOut)}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <TableContainer {...{ component: ElevatedPaper }}>\n      <Table aria-label=\"Profit and Loss Stats\">\n        <TableBody>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Today's Revenue\n            </TableCell>\n            <TableCell align=\"right\">{moneyString(todaysRevenue)}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Today's Losses\n            </TableCell>\n            <TableCell align=\"right\">{moneyString(todaysLosses)}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Today's Profit\n            </TableCell>\n            <TableCell\n              {...{\n                align: 'right',\n                className: classNames({\n                  'danger-text': Math.abs(todaysLosses) > todaysRevenue,\n                }),\n              }}\n            >\n              {moneyString(getProfit(todaysRevenue, todaysLosses))}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Record Single Day Profit\n            </TableCell>\n            <TableCell\n              {...{\n                align: 'right',\n              }}\n            >\n              {moneyString(\n                getProfitRecord(\n                  recordSingleDayProfit,\n                  todaysRevenue,\n                  todaysLosses\n                )\n              )}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Current Profitability Streak\n            </TableCell>\n            <TableCell align=\"right\">\n              {profitabilityStreak} {profitabilityStreak === 1 ? 'day' : 'days'}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Record Profitability Streak\n            </TableCell>\n            <TableCell align=\"right\">\n              {recordProfitabilityStreak}{' '}\n              {recordProfitabilityStreak === 1 ? 'day' : 'days'}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              {DAILY_FINANCIAL_HISTORY_RECORD_LENGTH}-day Profit Average\n            </TableCell>\n            <TableCell align=\"right\">\n              {moneyString(\n                get7DayAverage(\n                  historicalDailyLosses.map((loss, i) =>\n                    moneyTotal(historicalDailyRevenue[i], loss)\n                  )\n                )\n              )}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Record {DAILY_FINANCIAL_HISTORY_RECORD_LENGTH}-day Profit Average\n            </TableCell>\n            <TableCell align=\"right\">\n              {moneyString(record7dayProfitAverage)}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              All-Time Total Revenue\n            </TableCell>\n            <TableCell align=\"right\">{moneyString(revenue)}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  </div>\n)\n\nStatsView.propTypes = {\n  farmName: string.isRequired,\n  historicalDailyLosses: array.isRequired,\n  historicalDailyRevenue: array.isRequired,\n  itemsSold: object.isRequired,\n  profitabilityStreak: number.isRequired,\n  record7dayProfitAverage: number.isRequired,\n  recordProfitabilityStreak: number.isRequired,\n  revenue: number.isRequired,\n  todaysLosses: number.isRequired,\n  todaysRevenue: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <StatsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport AccountBalanceIcon from '@material-ui/icons/AccountBalance'\nimport NumberFormat from 'react-number-format'\nimport { func, number } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { dollarString, moneyString, moneyTotal } from '../../utils'\nimport {\n  STANDARD_LOAN_AMOUNT,\n  LOAN_INTEREST_RATE,\n  LOAN_GARNISHMENT_RATE,\n} from '../../constants'\n\nimport './AccountingView.sass'\n\nconst MoneyNumberFormat = ({\n  inputRef,\n  max,\n  min,\n  onChange,\n  setLoanInputValue,\n  ...rest\n}) => (\n  <NumberFormat\n    fixedDecimalScale\n    thousandSeparator\n    {...{\n      ...rest,\n      allowNegative: false,\n      decimalScale: 2,\n      prefix: '$',\n      isAllowed: ({ floatValue = 0 }) => min >= 0 && floatValue <= max,\n      onValueChange: ({ floatValue = 0 }) => onChange(floatValue),\n    }}\n  />\n)\n\nconst AccountingView = ({\n  handleClickLoanPaydownButton,\n  handleClickTakeOutLoanButton,\n  loanBalance,\n  money,\n}) => {\n  const [loanInputValue, setLoanInputValue] = useState(\n    Math.min(loanBalance, money)\n  )\n\n  useEffect(() => setLoanInputValue(Math.min(loanBalance, money)), [\n    loanBalance,\n    money,\n  ])\n\n  return (\n    <div className=\"AccountingView\">\n      <Card>\n        <CardHeader\n          {...{\n            avatar: <AccountBalanceIcon />,\n            title: 'Loan Balance',\n            subheader: <p>{moneyString(loanBalance)}</p>,\n          }}\n        />\n        <CardContent>\n          <div className=\"loan-container\">\n            <TextField\n              {...{\n                value: loanInputValue,\n                inputProps: {\n                  max: loanBalance,\n                  min: 0,\n\n                  // Enable a helpful number input for iOS.\n                  // https://css-tricks.com/finger-friendly-numerical-inputs-with-inputmode/\n                  pattern: '[0-9]*',\n                },\n\n                onChange: setLoanInputValue,\n                InputProps: {\n                  inputComponent: MoneyNumberFormat,\n                },\n              }}\n            />\n            <Button\n              {...{\n                color: 'primary',\n                disabled: loanBalance === 0,\n                variant: 'contained',\n                onClick: () => {\n                  handleClickLoanPaydownButton(loanInputValue)\n                  setLoanInputValue(loanBalance - loanInputValue)\n                },\n              }}\n            >\n              Pay into loan\n            </Button>\n            <p>\n              You may take out a Hardship Assistance Loan if your funds fall\n              below {dollarString(STANDARD_LOAN_AMOUNT)}. So long as you have an\n              outstanding loan balance, all farm product sales are garnished by{' '}\n              {LOAN_GARNISHMENT_RATE * 100}% until the loan is repaid. The loan\n              interest rate is {LOAN_INTEREST_RATE * 100}% per day, compounded\n              daily.\n            </p>\n          </div>\n          <Button\n            {...{\n              color: 'secondary',\n              disabled: money >= STANDARD_LOAN_AMOUNT,\n              onClick: () => {\n                handleClickTakeOutLoanButton(STANDARD_LOAN_AMOUNT)\n                setLoanInputValue(\n                  Math.min(\n                    moneyTotal(loanInputValue, STANDARD_LOAN_AMOUNT),\n                    moneyTotal(money, STANDARD_LOAN_AMOUNT)\n                  )\n                )\n              },\n              variant: 'contained',\n            }}\n          >\n            Take out a {dollarString(STANDARD_LOAN_AMOUNT)} loan\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nAccountingView.propTypes = {\n  handleClickTakeOutLoanButton: func.isRequired,\n  handleClickLoanPaydownButton: func.isRequired,\n  loanBalance: number.isRequired,\n  money: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AccountingView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useState } from 'react'\nimport { func } from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Divider from '@material-ui/core/Divider'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport Switch from '@material-ui/core/Switch'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport FileReaderInput from 'react-file-reader-input'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './SettingsView.sass'\n\nconst SettingsView = ({\n  handleClearPersistedDataClick,\n  handleExportDataClick,\n  handleImportDataClick,\n  handleSaveButtonClick,\n  handleUseAlternateEndDayButtonPositionChange,\n  useAlternateEndDayButtonPosition,\n}) => {\n  const [isClearDataDialogOpen, setIsClearDataDialogOpen] = useState(false)\n\n  return (\n    <div className=\"SettingsView\">\n      <div className=\"button-row\">\n        <Button\n          {...{\n            color: 'primary',\n            onClick: handleSaveButtonClick,\n            variant: 'contained',\n          }}\n        >\n          Save Game\n        </Button>\n      </div>\n      <Divider />\n\n      <FormControl component=\"fieldset\">\n        <FormLabel component=\"legend\">Options</FormLabel>\n        <FormGroup>\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={useAlternateEndDayButtonPosition}\n                onChange={handleUseAlternateEndDayButtonPositionChange}\n                name=\"use-alternate-end-day-button-position\"\n              />\n            }\n            label=\"Use alternate position for Bed button\"\n          />\n        </FormGroup>\n      </FormControl>\n\n      <Divider />\n      <div className=\"button-row\">\n        <Tooltip\n          {...{\n            arrow: true,\n            placement: 'top',\n            title: 'Save your game data as a file on your device',\n          }}\n        >\n          <Button\n            {...{\n              color: 'primary',\n              onClick: handleExportDataClick,\n              variant: 'contained',\n            }}\n          >\n            Export Game Data\n          </Button>\n        </Tooltip>\n        <FileReaderInput\n          {...{\n            as: 'text',\n            onChange: (e, results) => {\n              handleImportDataClick(results)\n            },\n          }}\n        >\n          <Tooltip\n            {...{\n              arrow: true,\n              placement: 'top',\n              title: 'Load game data that was previously saved',\n            }}\n          >\n            <Button {...{ color: 'primary', variant: 'contained' }}>\n              Import Game Data\n            </Button>\n          </Tooltip>\n        </FileReaderInput>\n      </div>\n      <Divider />\n      <div className=\"button-row\">\n        <Button\n          {...{\n            color: 'primary',\n            onClick: () => setIsClearDataDialogOpen(true),\n            variant: 'contained',\n          }}\n        >\n          Delete Game Data\n        </Button>\n      </div>\n\n      <Dialog\n        {...{\n          className: 'Farmhand',\n          open: isClearDataDialogOpen,\n          onClose: () => setIsClearDataDialogOpen(false),\n          maxWidth: 'xs',\n        }}\n      >\n        <DialogTitle>Delete game data?</DialogTitle>\n        <DialogContent dividers>\n          <p>\n            Are you sure that you want to delete your game data? This can't be\n            undone. You may want to export your game data first.\n          </p>\n          <DialogActions>\n            <Button\n              autoFocus\n              {...{\n                color: 'primary',\n                onClick: () => setIsClearDataDialogOpen(false),\n              }}\n            >\n              Cancel\n            </Button>\n            <Button\n              {...{\n                color: 'secondary',\n                onClick: () => {\n                  handleClearPersistedDataClick()\n                  setIsClearDataDialogOpen(false)\n                },\n              }}\n            >\n              Do it\n            </Button>\n          </DialogActions>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n\nSettingsView.propTypes = {\n  handleClearPersistedDataClick: func.isRequired,\n  handleExportDataClick: func.isRequired,\n  handleImportDataClick: func.isRequired,\n  handleSaveButtonClick: func.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <SettingsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport classNames from 'classnames'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Fab from '@material-ui/core/Fab'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn'\nimport HistoryIcon from '@material-ui/icons/History'\nimport FlashOnIcon from '@material-ui/icons/FlashOn'\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp'\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport Switch from '@material-ui/core/Switch'\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport TextField from '@material-ui/core/TextField'\nimport { array, bool, func, number, object, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport {\n  doesInventorySpaceRemain,\n  farmProductsSold,\n  integerString,\n  inventorySpaceConsumed,\n  levelAchieved,\n} from '../../utils'\nimport { dialogView } from '../../enums'\nimport { STAGE_TITLE_MAP } from '../../constants'\nimport { MAX_ROOM_NAME_LENGTH } from '../../common/constants'\n\nimport LogView from '../LogView'\nimport PriceEventView from '../PriceEventView'\nimport AchievementsView from '../AchievementsView'\nimport StatsView from '../StatsView'\nimport AccountingView from '../AccountingView'\nimport SettingsView from '../SettingsView'\n\nimport './Navigation.sass'\n\nconst FarmNameDisplay = ({ farmName, handleFarmNameUpdate }) => {\n  const [displayedFarmName, setDisplayedFarmName] = useState(farmName)\n\n  useEffect(() => {\n    setDisplayedFarmName(farmName)\n  }, [farmName, setDisplayedFarmName])\n\n  return (\n    <h2 className=\"farm-name\">\n      <TextField\n        {...{\n          inputProps: {\n            maxLength: 12,\n          },\n          onChange: ({ target: { value } }) => {\n            setDisplayedFarmName(value)\n          },\n          onBlur: ({ target: { value } }) => {\n            handleFarmNameUpdate(value)\n          },\n          placeholder: 'Farm Name',\n          value: displayedFarmName,\n        }}\n      />{' '}\n      Farm\n    </h2>\n  )\n}\n\nconst OnlineControls = ({\n  activePlayers,\n  handleOnlineToggleChange,\n  handleRoomChange,\n  isOnline,\n  room,\n}) => {\n  const [displayedRoom, setDisplayedRoom] = useState(room)\n\n  useEffect(() => {\n    setDisplayedRoom(room)\n  }, [room, setDisplayedRoom])\n\n  return (\n    <>\n      <FormControl\n        {...{ className: 'online-control-container', component: 'fieldset' }}\n      >\n        <FormGroup {...{ className: 'toggle-container' }}>\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={isOnline}\n                onChange={handleOnlineToggleChange}\n                name=\"use-alternate-end-day-button-position\"\n              />\n            }\n            label=\"Play online\"\n          />\n        </FormGroup>\n        <TextField\n          {...{\n            className: 'room-name',\n            inputProps: {\n              maxLength: MAX_ROOM_NAME_LENGTH,\n            },\n            label: 'Room name',\n            onChange: ({ target: { value } }) => {\n              setDisplayedRoom(value)\n            },\n            onBlur: ({ target: { value } }) => {\n              handleRoomChange(value)\n            },\n            onKeyUp: ({ target: { value }, which }) => {\n              // Enter\n              if (which === 13) {\n                handleRoomChange(value)\n              }\n            },\n            value: displayedRoom,\n            variant: 'outlined',\n          }}\n        />\n      </FormControl>\n      {activePlayers && <h2>Active players: {integerString(activePlayers)}</h2>}\n    </>\n  )\n}\n\nconst {\n  FARMERS_LOG,\n  PRICE_EVENTS,\n  STATS,\n  ACHIEVEMENTS,\n  ACCOUNTING,\n  SETTINGS,\n} = dialogView\n\n// The labels here must be kept in sync with mappings in initInputHandlers in\n// Farmhand.js.\nconst dialogTriggerTextMap = {\n  [FARMERS_LOG]: \"Open Farmer's Log (l)\",\n  [PRICE_EVENTS]: 'See Price Events (e)',\n  [STATS]: 'View your stats (s)',\n  [ACHIEVEMENTS]: 'View Achievements (a)',\n  [ACCOUNTING]: 'View Bank Account (b)',\n  [SETTINGS]: 'View Settings (comma)',\n}\n\nconst dialogTitleMap = {\n  [FARMERS_LOG]: \"Farmer's Log\",\n  [PRICE_EVENTS]: 'Price Events',\n  [STATS]: 'Farm Stats',\n  [ACHIEVEMENTS]: 'Achievements',\n  [ACCOUNTING]: 'Bank Account',\n  [SETTINGS]: 'Settings',\n}\n\nconst dialogContentMap = {\n  [FARMERS_LOG]: <LogView />,\n  [PRICE_EVENTS]: <PriceEventView />,\n  [STATS]: <StatsView />,\n  [ACHIEVEMENTS]: <AchievementsView />,\n  [ACCOUNTING]: <AccountingView />,\n  [SETTINGS]: <SettingsView />,\n}\n\nexport const Navigation = ({\n  activePlayers,\n  currentDialogView,\n  dayCount,\n  farmName,\n  handleClickDialogViewButton,\n  handleCloseDialogView,\n  handleDialogViewExited,\n  handleFarmNameUpdate,\n  handleOnlineToggleChange,\n  handleRoomChange,\n  handleViewChange,\n  inventory,\n  inventoryLimit,\n  itemsSold,\n  isDialogViewOpen,\n  isOnline,\n  room,\n  stageFocus,\n  viewList,\n\n  totalFarmProductsSold = farmProductsSold(itemsSold),\n  currentLevel = levelAchieved(totalFarmProductsSold),\n}) => (\n  <header className=\"Navigation\">\n    <h1>Farmhand</h1>\n    <p className=\"version\">v{process.env.REACT_APP_VERSION}</p>\n    <FarmNameDisplay {...{ farmName, handleFarmNameUpdate }} />\n    <h2 className=\"day-count\">\n      Day {dayCount}, level {integerString(currentLevel)}\n    </h2>\n    <OnlineControls\n      {...{\n        activePlayers,\n        handleOnlineToggleChange,\n        handleRoomChange,\n        isOnline,\n        room,\n      }}\n    />\n    {inventoryLimit > -1 && (\n      <h3\n        {...{\n          className: classNames('inventory-info', {\n            'is-inventory-full': !doesInventorySpaceRemain({\n              inventory,\n              inventoryLimit,\n            }),\n          }),\n        }}\n      >\n        Inventory: {inventorySpaceConsumed(inventory)} / {inventoryLimit}\n      </h3>\n    )}\n\n    <Select\n      {...{\n        className: 'view-select',\n        onChange: handleViewChange,\n        value: stageFocus,\n      }}\n    >\n      {viewList.map((view, i) => (\n        <MenuItem {...{ key: view, value: view }}>\n          {i + 1}: {STAGE_TITLE_MAP[view]}\n        </MenuItem>\n      ))}\n    </Select>\n    <div className=\"button-array\">\n      {[\n        { dialogView: FARMERS_LOG, Icon: HistoryIcon },\n        { dialogView: PRICE_EVENTS, Icon: FlashOnIcon },\n        { dialogView: STATS, Icon: TrendingUpIcon },\n        { dialogView: ACHIEVEMENTS, Icon: AssignmentTurnedInIcon },\n        { dialogView: ACCOUNTING, Icon: AttachMoneyIcon },\n        { dialogView: SETTINGS, Icon: SettingsIcon },\n      ].map(({ dialogView, Icon }) => (\n        <Tooltip\n          {...{\n            arrow: true,\n            key: dialogView,\n            placement: 'top',\n            title: dialogTriggerTextMap[dialogView],\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': dialogTriggerTextMap[dialogView],\n              color: 'primary',\n              onClick: () => handleClickDialogViewButton(dialogView),\n            }}\n          >\n            <Icon />\n          </Fab>\n        </Tooltip>\n      ))}\n    </div>\n    {/*\n    This Dialog gets the Farmhand class because it renders outside of the root\n    Farmhand component. This explicit class maintains style consistency.\n    */}\n    <Dialog\n      {...{\n        className: 'Farmhand',\n        fullWidth: true,\n        maxWidth: 'md',\n        onClose: handleCloseDialogView,\n        open: isDialogViewOpen,\n        onExited: handleDialogViewExited,\n      }}\n    >\n      <DialogTitle>{dialogTitleMap[currentDialogView]}</DialogTitle>\n      <DialogContent>{dialogContentMap[currentDialogView]}</DialogContent>\n      <DialogActions>\n        <Button onClick={handleCloseDialogView} color=\"primary\" autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  </header>\n)\n\nNavigation.propTypes = {\n  activePlayers: number,\n  dayCount: number.isRequired,\n  farmName: string.isRequired,\n  handleClickDialogViewButton: func.isRequired,\n  handleCloseDialogView: func.isRequired,\n  handleDialogViewExited: func.isRequired,\n  handleFarmNameUpdate: func.isRequired,\n  handleOnlineToggleChange: func.isRequired,\n  handleRoomChange: func.isRequired,\n  handleViewChange: func.isRequired,\n  inventory: array.isRequired,\n  inventoryLimit: number.isRequired,\n  itemsSold: object.isRequired,\n  isDialogViewOpen: bool.isRequired,\n  isOnline: bool.isRequired,\n  stageFocus: string.isRequired,\n  viewList: array.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Navigation {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","export const MAX_ROOM_NAME_LENGTH = 25\n\nexport const HEARTBEAT_INTERVAL_PERIOD = 10 * 1000 // 10 seconds\n","import React, { Fragment } from 'react'\nimport { array } from 'prop-types'\nimport Divider from '@material-ui/core/Divider'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\nimport { itemsMap } from '../../data/maps'\nimport { enumify, itemType } from '../../enums'\nimport { sortItems } from '../../utils'\n\nimport './Inventory.sass'\n\nconst {\n  COW_FEED,\n  CRAFTED_ITEM,\n  CROP,\n  FERTILIZER,\n  HUGGING_MACHINE,\n  MILK,\n  SCARECROW,\n  SPRINKLER,\n} = itemType\n\nexport const categoryIds = enumify([\n  'ANIMAL_PRODUCTS',\n  'ANIMAL_SUPPLIES',\n  'CRAFTED_ITEMS',\n  'CROPS',\n  'FIELD_TOOLS',\n  'SEEDS',\n])\nconst categoryIdKeys = Object.keys(categoryIds)\nconst {\n  ANIMAL_PRODUCTS,\n  ANIMAL_SUPPLIES,\n  CRAFTED_ITEMS,\n  CROPS,\n  FIELD_TOOLS,\n  SEEDS,\n} = categoryIds\n\nconst itemTypeCategoryMap = Object.freeze({\n  [COW_FEED]: ANIMAL_SUPPLIES,\n  SEEDS,\n  [CRAFTED_ITEM]: CRAFTED_ITEMS,\n  [CROP]: CROPS,\n  [FERTILIZER]: FIELD_TOOLS,\n  [HUGGING_MACHINE]: ANIMAL_SUPPLIES,\n  [MILK]: ANIMAL_PRODUCTS,\n  [SCARECROW]: FIELD_TOOLS,\n  [SPRINKLER]: FIELD_TOOLS,\n})\n\nconst getItemCategories = () =>\n  categoryIdKeys.reduce((acc, key) => {\n    acc[key] = []\n    return acc\n  }, {})\n\nexport const separateItemsIntoCategories = items =>\n  sortItems(items).reduce((acc, item) => {\n    const { type } = itemsMap[item.id]\n    const category = itemTypeCategoryMap[type]\n\n    if (category === CROPS) {\n      acc[item.isPlantableCrop ? SEEDS : CROPS].push(item)\n    } else {\n      acc[category].push(item)\n    }\n\n    return acc\n  }, getItemCategories())\n\nexport const Inventory = ({\n  items,\n  playerInventory,\n  shopInventory,\n\n  // Infer the type of view this is by doing an identity check against\n  // gameState arrays.\n  isPurchaseView = items === shopInventory,\n  isSellView = items === playerInventory,\n\n  itemCategories = separateItemsIntoCategories(items),\n}) => (\n  <div className=\"Inventory\">\n    {[\n      [CROPS, 'Crops'],\n      [SEEDS, 'Seeds'],\n      [FIELD_TOOLS, 'Field Tools'],\n      [ANIMAL_PRODUCTS, 'Animal Products'],\n      [ANIMAL_SUPPLIES, 'Animal Supplies'],\n      [CRAFTED_ITEMS, 'Crafted Items'],\n    ].map(([category, headerText]) =>\n      itemCategories[category].length ? (\n        <Fragment key={category}>\n          <section>\n            <h3>{headerText}</h3>\n            <ul className=\"card-list\">\n              {itemCategories[category].map(item => (\n                <li key={item.id}>\n                  <Item\n                    {...{\n                      isPurchaseView,\n                      isSellView,\n                      item,\n                      showQuantity: isPurchaseView,\n                    }}\n                  />\n                </li>\n              ))}\n            </ul>\n          </section>\n          <Divider />\n        </Fragment>\n      ) : null\n    )}\n  </div>\n)\n\nInventory.propTypes = {\n  items: array.isRequired,\n  playerInventory: array,\n  shopInventory: array,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Inventory {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { memo, useState } from 'react'\nimport { array, func, number, object, string } from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Divider from '@material-ui/core/Divider'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Select from '@material-ui/core/Select'\nimport TextField from '@material-ui/core/TextField'\nimport Fab from '@material-ui/core/Fab'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward'\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport sortBy from 'lodash.sortby'\nimport classNames from 'classnames'\nimport {\n  faMars,\n  faVenus,\n  faHeart as faFullHeart,\n} from '@fortawesome/free-solid-svg-icons'\nimport { faHeart as faEmptyHeart } from '@fortawesome/free-regular-svg-icons'\n\nimport Item from '../Item'\nimport { animals } from '../../img'\nimport FarmhandContext from '../../Farmhand.context'\nimport { cowColors, enumify, genders } from '../../enums'\nimport {\n  areHuggingMachinesInInventory,\n  getCowValue,\n  getCowWeight,\n  findCowById,\n  moneyString,\n  nullArray,\n} from '../../utils'\nimport { PURCHASEABLE_COW_PENS } from '../../constants'\nimport { cowFeed, huggingMachine } from '../../data/items'\n\nimport './CowPenContextMenu.sass'\n\nconst genderIcons = {\n  [genders.FEMALE]: faVenus,\n  [genders.MALE]: faMars,\n}\n\n// The extra 0.5 is for rounding up to the next full heart. This allows a fully\n// happy cow to have full hearts on the beginning of a new day.\nconst isHeartFull = (heartIndex, numberOfFullHearts) =>\n  heartIndex + 0.5 < numberOfFullHearts\n\nconst isCowInBreedingPen = (cow, cowBreedingPen) =>\n  cowBreedingPen.cowId1 === cow.id || cowBreedingPen.cowId2 === cow.id\n\nconst CowBloodline = memo(({ colorsInBloodline }) => (\n  <ul {...{ className: 'bloodline' }}>\n    {/* TODO: Remove the `|| {}` after 1/11/2020. */}\n    {Object.keys(colorsInBloodline || {})\n      .sort()\n      .map(color => (\n        <li {...{ key: color, className: color.toLowerCase() }} />\n      ))}\n  </ul>\n))\n\nexport const CowCardSubheader = ({\n  cow,\n  cowBreedingPen,\n  cowValue,\n  handleCowAutomaticHugChange,\n  handleCowBreedChange,\n  huggingMachinesRemain,\n  isCowPurchased,\n\n  numberOfFullHearts = cow.happiness * 10,\n  isInBreedingPen = isCowInBreedingPen(cow, cowBreedingPen),\n  isBreedingPenFull = cowBreedingPen.cowId1 !== null &&\n    cowBreedingPen.cowId2 !== null,\n}) => (\n  <>\n    <CowBloodline {...{ colorsInBloodline: cow.colorsInBloodline }} />\n    {isCowPurchased && (\n      <p>\n        {cow.daysOld} {cow.daysOld === 1 ? 'day' : 'days'} old\n      </p>\n    )}\n    <p>\n      {isCowPurchased ? 'Value' : 'Price'}: {moneyString(cowValue)}\n    </p>\n    <p>Weight: {getCowWeight(cow)} lbs.</p>\n    {isCowPurchased && (\n      <>\n        <ol className=\"hearts\">\n          {nullArray(10).map((_null, i) => (\n            <li key={`${cow.id}_${i}`}>\n              <FontAwesomeIcon\n                {...{\n                  icon: isHeartFull(i, numberOfFullHearts)\n                    ? faFullHeart\n                    : faEmptyHeart,\n                  className: classNames('heart', {\n                    'is-full': isHeartFull(i, numberOfFullHearts),\n                  }),\n                }}\n              />\n            </li>\n          ))}\n        </ol>\n        <Tooltip\n          {...{\n            arrow: true,\n            placement: 'top',\n            title: `Check this box to put ${cow.name} into a ${huggingMachine.name} and automatically hug them at the start of every day. Requires a Hugging Machine in your inventory.`,\n          }}\n        >\n          <FormControlLabel\n            {...{\n              control: (\n                <Checkbox\n                  {...{\n                    color: 'primary',\n                    // TODO: This Boolean cast is needed for backwards\n                    // compatibility. Remove it after 10/1/2020.\n                    checked: Boolean(cow.isUsingHuggingMachine),\n                    onChange: e => handleCowAutomaticHugChange(e, cow),\n                  }}\n                />\n              ),\n              disabled: !cow.isUsingHuggingMachine && !huggingMachinesRemain,\n              label: 'Hug automatically',\n            }}\n          />\n        </Tooltip>\n        <Tooltip\n          {...{\n            arrow: true,\n            placement: 'top',\n            title: isInBreedingPen\n              ? `Uncheck this box to return ${cow.name} to the regular pen.`\n              : `Check this box to move ${\n                  cow.name\n                } to the breeding pen to mate with a ${\n                  cow.gender === genders.MALE ? 'female' : 'male'\n                } cow.`,\n          }}\n        >\n          <FormControlLabel\n            {...{\n              control: (\n                <Checkbox\n                  {...{\n                    color: 'primary',\n                    checked: isInBreedingPen,\n                    onChange: e => handleCowBreedChange(e, cow),\n                  }}\n                />\n              ),\n              disabled: !isInBreedingPen && isBreedingPenFull,\n              label: 'Breed',\n            }}\n          />\n        </Tooltip>\n      </>\n    )}\n  </>\n)\n\nexport const CowCard = ({\n  cow,\n  cowBreedingPen,\n  cowInventory,\n  debounced,\n  handleCowAutomaticHugChange,\n  handleCowBreedChange,\n  handleCowHugClick,\n  handleCowNameInputChange,\n  handleCowPurchaseClick,\n  handleCowSellClick,\n  inventory,\n  isSelected,\n  money,\n  purchasedCowPen,\n\n  cowValue = getCowValue(cow),\n  huggingMachinesRemain = areHuggingMachinesInInventory(inventory),\n  isCowPurchased = !!handleCowSellClick,\n  isNameEditable = !!handleCowNameInputChange,\n}) => {\n  const [name, setName] = useState(cow.name)\n\n  return (\n    <Card {...{ raised: isSelected }}>\n      <CardHeader\n        {...{\n          avatar: (\n            <img\n              {...{ src: animals.cow[cowColors[cow.color].toLowerCase()] }}\n              alt=\"Cow\"\n            />\n          ),\n          title: (\n            <>\n              {isNameEditable ? (\n                <TextField\n                  {...{\n                    onChange: e => {\n                      setName(e.target.value)\n                      debounced.handleCowNameInputChange({ ...e }, cow)\n                    },\n                    placeholder: 'Name',\n                    value: name,\n                  }}\n                />\n              ) : (\n                cow.name\n              )}{' '}\n              <FontAwesomeIcon\n                {...{\n                  icon: genderIcons[cow.gender],\n                }}\n              />\n            </>\n          ),\n          subheader: (\n            <CowCardSubheader\n              {...{\n                cow,\n                cowBreedingPen,\n                cowValue,\n                handleCowBreedChange,\n                handleCowAutomaticHugChange,\n                huggingMachinesRemain,\n                isCowPurchased,\n              }}\n            />\n          ),\n        }}\n      />\n      <CardActions>\n        {!isCowPurchased && (\n          <Button\n            {...{\n              className: 'purchase',\n              color: 'primary',\n              disabled:\n                cowValue > money ||\n                cowInventory.length >=\n                  PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows,\n              onClick: () => handleCowPurchaseClick(cow),\n              variant: 'contained',\n            }}\n          >\n            Buy\n          </Button>\n        )}\n        {isCowPurchased && (\n          <>\n            <Button\n              {...{\n                className: 'hug',\n                color: 'primary',\n                onClick: () => handleCowHugClick(cow),\n                variant: 'contained',\n              }}\n            >\n              Hug\n            </Button>\n            <Button\n              {...{\n                className: 'sell',\n                color: 'secondary',\n                onClick: () => handleCowSellClick(cow),\n                variant: 'contained',\n              }}\n            >\n              Sell\n            </Button>\n          </>\n        )}\n      </CardActions>\n    </Card>\n  )\n}\n\nconst { AGE, COLOR, GENDER, HAPPINESS, VALUE, WEIGHT } = enumify([\n  'AGE',\n  'COLOR',\n  'GENDER',\n  'HAPPINESS',\n  'VALUE',\n  'WEIGHT',\n])\n\nconst sortCows = (cows, sortType, isAscending) => {\n  let sorter = _ => _\n\n  if (sortType === VALUE) {\n    sorter = getCowValue\n  } else if (sortType === WEIGHT) {\n    sorter = getCowWeight\n  } else if (sortType === AGE) {\n    sorter = ({ daysOld }) => daysOld\n  } else if (sortType === COLOR) {\n    sorter = ({ color }) => color\n  } else if (sortType === GENDER) {\n    sorter = ({ gender }) => gender\n  } else if (sortType === HAPPINESS) {\n    sorter = ({ happiness }) => happiness\n  }\n\n  const sortedCows = sortBy(cows, sorter)\n\n  return isAscending ? sortedCows : sortedCows.reverse()\n}\n\n/*!\n * @param {farmhand.cowBreedingPen} cowBreedingPen\n * @returns {number}\n */\nconst numberOfCowsBreeding = ({ cowId1, cowId2 }) =>\n  cowId1 ? (cowId2 ? 2 : 1) : 0\n\nexport const CowPenContextMenu = ({\n  cowBreedingPen,\n  cowForSale,\n  cowInventory,\n  debounced,\n  handleCowAutomaticHugChange,\n  handleCowBreedChange,\n  handleCowHugClick,\n  handleCowNameInputChange,\n  handleCowPurchaseClick,\n  handleCowSelect,\n  handleCowSellClick,\n  inventory,\n  money,\n  purchasedCowPen,\n  selectedCowId,\n}) => {\n  const [sortType, setSortType] = useState(VALUE)\n  const [isAscending, setIsAscending] = useState(false)\n\n  return (\n    <div className=\"CowPenContextMenu\">\n      <h3>Supplies</h3>\n      <ul className=\"card-list\">\n        <li>\n          <Item\n            {...{\n              item: cowFeed,\n              isPurchaseView: true,\n              showQuantity: true,\n            }}\n          />\n        </li>\n        <li>\n          <Item\n            {...{\n              item: huggingMachine,\n              isPurchaseView: true,\n              showQuantity: true,\n            }}\n          />\n        </li>\n      </ul>\n      <Divider />\n      <h3>For sale</h3>\n      <CowCard\n        {...{\n          cow: cowForSale,\n          cowBreedingPen,\n          cowInventory,\n          handleCowPurchaseClick,\n          inventory,\n          money,\n          purchasedCowPen,\n        }}\n      />\n      <Divider />\n      <h3>Breeding pen ({numberOfCowsBreeding(cowBreedingPen)} / 2)</h3>\n      <ul className=\"card-list purchased-cows breeding-cows\">\n        {nullArray(numberOfCowsBreeding(cowBreedingPen)).map((_null, i) => {\n          const cowId = cowBreedingPen[`cowId${i + 1}`]\n          const cow = findCowById(cowInventory, cowId)\n          return (\n            <li {...{ key: cowId }}>\n              <CowCard\n                {...{\n                  cow,\n                  cowBreedingPen,\n                  cowInventory,\n                  debounced,\n                  handleCowAutomaticHugChange,\n                  handleCowBreedChange,\n                  handleCowHugClick,\n                  handleCowNameInputChange,\n                  handleCowSellClick,\n                  inventory,\n                  isSelected: cow.id === selectedCowId,\n                  money,\n                  purchasedCowPen,\n                }}\n              />\n            </li>\n          )\n        })}\n      </ul>\n      <Divider />\n      <h3>\n        Cows ({cowInventory.length} /{' '}\n        {PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows})\n      </h3>\n      {cowInventory.length > 1 && (\n        <div {...{ className: 'sort-wrapper' }}>\n          <Fab\n            {...{\n              'aria-label': 'Toggle sorting order',\n              onClick: () => setIsAscending(!isAscending),\n              color: 'primary',\n            }}\n          >\n            {isAscending ? <ArrowUpwardIcon /> : <ArrowDownwardIcon />}\n          </Fab>\n          <Select\n            {...{\n              className: 'sort-select',\n              displayEmpty: true,\n              value: sortType,\n              onChange: ({ target: { value } }) => setSortType(value),\n            }}\n          >\n            <MenuItem {...{ value: VALUE }}>Sort by Value</MenuItem>\n            <MenuItem {...{ value: AGE }}>Sort by Age</MenuItem>\n            <MenuItem {...{ value: HAPPINESS }}>Sort by Happiness</MenuItem>\n            <MenuItem {...{ value: WEIGHT }}>Sort by Weight</MenuItem>\n            <MenuItem {...{ value: GENDER }}>Sort by Gender</MenuItem>\n            <MenuItem {...{ value: COLOR }}>Sort by Color</MenuItem>\n          </Select>\n        </div>\n      )}\n\n      <ul className=\"card-list purchased-cows\">\n        {sortCows(cowInventory, sortType, isAscending).map(cow =>\n          isCowInBreedingPen(cow, cowBreedingPen) ? null : (\n            <li\n              {...{\n                key: cow.id,\n                onFocus: () => handleCowSelect(cow),\n                onClick: () => handleCowSelect(cow),\n              }}\n            >\n              <CowCard\n                {...{\n                  cow,\n                  cowBreedingPen,\n                  cowInventory,\n                  debounced,\n                  handleCowAutomaticHugChange,\n                  handleCowBreedChange,\n                  handleCowHugClick,\n                  handleCowNameInputChange,\n                  handleCowSellClick,\n                  inventory,\n                  isSelected: cow.id === selectedCowId,\n                  money,\n                  purchasedCowPen,\n                }}\n              />\n            </li>\n          )\n        )}\n      </ul>\n    </div>\n  )\n}\n\nCowPenContextMenu.propTypes = {\n  cowForSale: object.isRequired,\n  cowInventory: array.isRequired,\n  debounced: object.isRequired,\n  handleCowAutomaticHugChange: func.isRequired,\n  handleCowBreedChange: func.isRequired,\n  handleCowHugClick: func.isRequired,\n  handleCowNameInputChange: func.isRequired,\n  handleCowPurchaseClick: func.isRequired,\n  handleCowSelect: func.isRequired,\n  handleCowSellClick: func.isRequired,\n  inventory: array.isRequired,\n  money: number.isRequired,\n  purchasedCowPen: number.isRequired,\n  selectedCowId: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <CowPenContextMenu {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { memo } from 'react'\nimport { array, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Inventory from '../Inventory'\nimport CowPenContextMenu from '../CowPenContextMenu'\nimport { stageFocusType } from '../../enums'\n\nimport './ContextPane.sass'\n\nexport const PlayerInventory = memo(\n  ({ playerInventory }) => (\n    <Inventory\n      {...{\n        items: playerInventory,\n      }}\n    />\n  ),\n  (prev, next) => prev.playerInventory === next.playerInventory\n)\n\nexport const ContextPane = ({ playerInventory, stageFocus }) => (\n  <div className=\"ContextPane\">\n    {stageFocus === stageFocusType.COW_PEN ? (\n      <CowPenContextMenu />\n    ) : (\n      <>\n        <h2>Inventory</h2>\n        <PlayerInventory\n          {...{\n            playerInventory,\n          }}\n        />\n      </>\n    )}\n  </div>\n)\n\nContextPane.propTypes = {\n  playerInventory: array.isRequired,\n  stageFocus: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <ContextPane {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { bool, func, number, object, string } from 'prop-types'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport {\n  getCropLifeStage,\n  getCropLifecycleDuration,\n  getPlotContentType,\n  getPlotImage,\n} from '../../utils'\nimport { itemsMap } from '../../data/maps'\nimport { pixel, plotStates } from '../../img'\nimport { cropLifeStage, itemType } from '../../enums'\nimport { FERTILIZER_BONUS } from '../../constants'\nimport './Plot.sass'\n\nexport const getBackgroundStyles = plotContent => {\n  if (!plotContent) {\n    return null\n  }\n\n  const backgroundImages = []\n\n  if (plotContent.isFertilized) {\n    backgroundImages.push(`url(${plotStates['fertilized-plot']})`)\n  }\n\n  if (plotContent.wasWateredToday) {\n    backgroundImages.push(`url(${plotStates['watered-plot']})`)\n  }\n\n  return backgroundImages.join(', ')\n}\n\n/*!\n * @param {(farmhand.plotContent|farmhand.crop)?} plotContent\n * @returns {number?}\n */\nexport const getDaysLeftToMature = plotContent =>\n  // Need to check that daysWatered is > -1 here because it may be NaN (in the\n  // case of non-crop items).\n  plotContent && plotContent.daysWatered > -1\n    ? Math.max(\n        0,\n        Math.ceil(\n          (getCropLifecycleDuration(\n            plotContent ? itemsMap[plotContent.itemId] : null\n          ) -\n            plotContent.daysWatered) /\n            (1 + (plotContent.isFertilized ? FERTILIZER_BONUS : 0))\n        )\n      )\n    : null\n\nexport const Plot = ({\n  handlePlotClick,\n  isInHoverRange,\n  plotContent,\n  setHoveredPlot,\n  x,\n  y,\n\n  image = getPlotImage(plotContent),\n  lifeStage = plotContent &&\n    getPlotContentType(plotContent) === itemType.CROP &&\n    getCropLifeStage(plotContent),\n  isRipe = lifeStage === cropLifeStage.GROWN,\n}) => {\n  const item = plotContent ? itemsMap[plotContent.itemId] : null\n  const daysLeftToMature = getDaysLeftToMature(plotContent)\n\n  const plot = (\n    <div\n      {...{\n        className: classNames('Plot', {\n          'is-empty': !plotContent,\n          'is-in-hover-range': isInHoverRange,\n\n          // For crops\n          crop:\n            plotContent && getPlotContentType(plotContent) === itemType.CROP,\n          'is-fertilized': plotContent && plotContent.isFertilized,\n          'is-ripe': isRipe,\n\n          'is-replantable': plotContent && item.isReplantable,\n        }),\n        style: {\n          backgroundImage: getBackgroundStyles(plotContent),\n        },\n        onClick: () => handlePlotClick(x, y),\n        onMouseOver: () => setHoveredPlot({ x, y }),\n      }}\n    >\n      <img\n        {...{\n          className: classNames('square', {\n            animated: isRipe,\n            heartBeat: isRipe,\n          }),\n          style: {\n            backgroundImage: image ? `url(${image})` : undefined,\n          },\n          src: pixel,\n          alt: '',\n        }}\n      />\n    </div>\n  )\n\n  return plotContent ? (\n    <Tooltip\n      {...{\n        arrow: true,\n        placement: 'top',\n        title: (\n          <>\n            <Typography>{item.name}</Typography>\n            {getPlotContentType(plotContent) === itemType.CROP && (\n              <Typography>\n                {daysLeftToMature\n                  ? `Days of watering to mature: ${daysLeftToMature}`\n                  : 'Ready to harvest!'}\n              </Typography>\n            )}\n          </>\n        ),\n      }}\n    >\n      {plot}\n    </Tooltip>\n  ) : (\n    plot\n  )\n}\n\nPlot.propTypes = {\n  handlePlotClick: func.isRequired,\n  isInHoverRange: bool.isRequired,\n  lifeStage: string,\n  plotContent: object,\n  setHoveredPlot: func.isRequired,\n  x: number.isRequired,\n  y: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Plot {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { func, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport './Toolbelt.sass'\nimport { fieldMode } from '../../enums'\nimport { tools, pixel } from '../../img'\n\nconst { CLEANUP, HARVEST, WATER } = fieldMode\n\nexport const Toolbelt = ({\n  fieldMode: currentFieldMode,\n  handleFieldModeSelect,\n}) => (\n  <div className=\"Toolbelt\">\n    <div className=\"button-array\">\n      {[\n        {\n          alt: 'A watering can for hydrating plants.',\n          fieldMode: WATER,\n          toolImageId: 'watering-can',\n        },\n        {\n          alt: 'A scythe for crop harvesting.',\n          fieldMode: HARVEST,\n          toolImageId: 'scythe',\n        },\n        {\n          alt:\n            'A hoe for removing crops and disposing of them. Also returns replantable items to your inventory.',\n          fieldMode: CLEANUP,\n          toolImageId: 'hoe',\n        },\n      ].map(({ alt, fieldMode, toolImageId }, i) => (\n        <Tooltip\n          {...{\n            key: fieldMode,\n            placement: 'top',\n            title: (\n              <>\n                <p>{alt}</p>\n                <p>(shift + {i + 1})</p>\n              </>\n            ),\n          }}\n        >\n          <Button\n            {...{\n              className: classNames({\n                selected: fieldMode === currentFieldMode,\n              }),\n              color: 'primary',\n              onClick: () => handleFieldModeSelect(fieldMode),\n              variant: fieldMode === currentFieldMode ? 'contained' : 'text',\n            }}\n          >\n            {/* alt is in a different format here because of linter weirdness. */}\n            <img\n              {...{\n                className: `square ${toolImageId}`,\n                src: pixel,\n                style: { backgroundImage: `url(${tools[toolImageId]}` },\n              }}\n              alt={alt}\n            />\n          </Button>\n        </Tooltip>\n      ))}\n    </div>\n  </div>\n)\n\nToolbelt.propTypes = {\n  fieldMode: string.isRequired,\n  handleFieldModeSelect: func.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Toolbelt {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, func, object, string } from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Divider from '@material-ui/core/Divider'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { items as itemImages, pixel } from '../../img'\nimport { integerString, sortItems } from '../../utils'\nimport Toolbelt from '../Toolbelt'\n\nimport './QuickSelect.sass'\n\nconst ItemList = ({\n  handleItemSelectClick,\n  items,\n  playerInventoryQuantities,\n  selectedItemId,\n}) => (\n  <div {...{ className: 'button-array' }}>\n    {sortItems(items).map(item => (\n      <Tooltip\n        {...{\n          key: item.id,\n          placement: 'top',\n          title: item.name,\n        }}\n      >\n        <Button\n          {...{\n            className: classNames({\n              'is-selected': item.id === selectedItemId,\n            }),\n            color: 'primary',\n            onClick: () => handleItemSelectClick(item),\n            variant: item.id === selectedItemId ? 'contained' : 'text',\n          }}\n        >\n          <img\n            alt={item.name}\n            {...{\n              className: 'square',\n              src: pixel,\n              style: { backgroundImage: `url(${itemImages[item.id]}` },\n            }}\n          />\n          <p {...{ className: 'quantity' }}>\n            {integerString(playerInventoryQuantities[item.id])}\n          </p>\n        </Button>\n      </Tooltip>\n    ))}\n  </div>\n)\n\nItemList.propTypes = {\n  handleItemSelectClick: func,\n  items: array.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  selectedItemId: string.isRequired,\n}\n\nconst QuickSelect = ({\n  fieldToolInventory,\n  handleItemSelectClick,\n  playerInventoryQuantities,\n  plantableCropInventory,\n  selectedItemId,\n}) => (\n  <Paper {...{ className: 'QuickSelect', elevation: 10 }}>\n    <Grid {...{ container: true, alignItems: 'center', wrap: 'nowrap' }}>\n      <Toolbelt />\n      {plantableCropInventory.length > 0 && (\n        <>\n          <Divider orientation=\"vertical\" flexItem />\n          <ItemList\n            {...{\n              handleItemSelectClick,\n              items: plantableCropInventory,\n              playerInventoryQuantities,\n              selectedItemId,\n            }}\n          />\n        </>\n      )}\n\n      {fieldToolInventory.length > 0 && (\n        <>\n          <Divider orientation=\"vertical\" flexItem />\n          <ItemList\n            {...{\n              handleItemSelectClick,\n              items: fieldToolInventory,\n              playerInventoryQuantities,\n              selectedItemId,\n            }}\n          />\n        </>\n      )}\n    </Grid>\n  </Paper>\n)\n\nQuickSelect.propTypes = {\n  fieldToolInventory: array.isRequired,\n  handleItemSelectClick: func,\n  plantableCropInventory: array.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  selectedItemId: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <QuickSelect {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { memo, useEffect, useState } from 'react'\nimport { array, element, func, number, object, string } from 'prop-types'\nimport Fab from '@material-ui/core/Fab'\nimport Slider from '@material-ui/core/Slider'\nimport ZoomInIcon from '@material-ui/icons/ZoomIn'\nimport ZoomOutIcon from '@material-ui/icons/ZoomOut'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { TransformWrapper, TransformComponent } from 'react-zoom-pan-pinch'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Plot from '../Plot'\nimport QuickSelect from '../QuickSelect'\nimport { fieldMode } from '../../enums'\nimport { doesInventorySpaceRemain, nullArray } from '../../utils'\n\nimport './Field.sass'\n\nconst {\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  PLANT,\n  SET_SCARECROW,\n  SET_SPRINKLER,\n  WATER,\n} = fieldMode\n\nconst zoomKeyMap = {\n  zoomIn: ['=', 'plus'],\n  zoomOut: '-',\n}\n\nconst fieldKeyMap = {\n  selectWateringCan: 'shift+1',\n  selectScythe: 'shift+2',\n  selectHoe: 'shift+3',\n}\n\nexport const isInHoverRange = ({\n  hoveredPlotRangeSize,\n  hoveredPlot: { x: hoveredPlotX, y: hoveredPlotY },\n  x,\n  y,\n}) => {\n  // If hoveredPlotX is null, assume that hoveredPlotY is as well.\n  if (hoveredPlotX == null) {\n    return false\n  }\n\n  const squareSize = 2 * hoveredPlotRangeSize\n  const rangeFloorX = hoveredPlotX - hoveredPlotRangeSize\n  const rangeFloorY = hoveredPlotY - hoveredPlotRangeSize\n  const rangeCeilingX = rangeFloorX + squareSize\n  const rangeCeilingY = rangeFloorY + squareSize\n\n  return (\n    x >= rangeFloorX &&\n    x <= rangeCeilingX &&\n    y >= rangeFloorY &&\n    y <= rangeCeilingY\n  )\n}\n\nexport const MemoPlot = memo(\n  props => {\n    const { hoveredPlot, plotContent, setHoveredPlot, x, y } = props\n\n    return (\n      <Plot\n        {...{\n          hoveredPlot,\n          isInHoverRange: isInHoverRange(props),\n          plotContent,\n          setHoveredPlot,\n          x,\n          y,\n        }}\n      />\n    )\n  },\n  (prev, next) => {\n    if (isInHoverRange(prev) !== isInHoverRange(next)) {\n      return false\n    }\n\n    return (\n      prev.plotContent === next.plotContent &&\n      prev.hoveredPlotRangeSize === next.hoveredPlotRangeSize\n    )\n  }\n)\n\nMemoPlot.propTypes = {\n  hoveredPlot: object.isRequired,\n  hoveredPlotRangeSize: number.isRequired,\n  plotContent: object,\n  setHoveredPlot: func.isRequired,\n  x: number.isRequired,\n  y: number.isRequired,\n}\n\nexport const FieldContentWrapper = ({\n  fieldContent,\n\n  previousScale,\n  resetTransform,\n  scale,\n  zoomIn,\n  zoomOut,\n}) => {\n  useEffect(() => {\n    if (scale === 1 && previousScale !== 1) {\n      resetTransform()\n    }\n  }, [scale, previousScale, resetTransform])\n\n  return (\n    <>\n      <GlobalHotKeys\n        {...{\n          keyMap: zoomKeyMap,\n          handlers: {\n            zoomIn,\n            zoomOut,\n          },\n        }}\n      />\n      <TransformComponent>{fieldContent}</TransformComponent>\n      <div className=\"fab-buttons zoom-controls right\">\n        <Tooltip\n          {...{\n            placement: 'top',\n            title: 'Zoom In',\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': 'Zoom In',\n              color: 'primary',\n              onClick: zoomIn,\n            }}\n          >\n            <ZoomInIcon />\n          </Fab>\n        </Tooltip>\n      </div>\n      <div className=\"fab-buttons zoom-controls left\">\n        <Tooltip\n          {...{\n            placement: 'top',\n            title: 'Zoom Out',\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': 'Zoom Out',\n              color: 'primary',\n              onClick: zoomOut,\n            }}\n          >\n            <ZoomOutIcon />\n          </Fab>\n        </Tooltip>\n      </div>\n    </>\n  )\n}\n\nFieldContentWrapper.propTypes = {\n  fieldContent: element.isRequired,\n}\n\nexport const FieldContent = ({\n  columns,\n  field,\n  hoveredPlot,\n  hoveredPlotRangeSize,\n  rows,\n  setHoveredPlot,\n}) => (\n  <div\n    {...{\n      onMouseLeave: () => setHoveredPlot({ x: null, y: null }),\n    }}\n  >\n    {nullArray(rows).map((_null, y) => (\n      <div className=\"row\" key={y}>\n        {nullArray(columns).map((_null, x, arr, plotContent = field[y][x]) => (\n          <MemoPlot\n            key={x}\n            {...{\n              hoveredPlot,\n              hoveredPlotRangeSize,\n              plotContent,\n              setHoveredPlot,\n              x,\n              y,\n            }}\n          />\n        ))}\n      </div>\n    ))}\n  </div>\n)\n\nFieldContent.propTypes = {\n  columns: number.isRequired,\n  field: array.isRequired,\n  hoveredPlot: object.isRequired,\n  hoveredPlotRangeSize: number.isRequired,\n  rows: number.isRequired,\n  setHoveredPlot: func.isRequired,\n}\n\nconst adjustableRangeFieldModes = new Set([\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  PLANT,\n  WATER,\n])\n\nconst RangeSliderValueLabelComponent = ({ children, open, value }) => (\n  <Tooltip {...{ open, placement: 'top', title: `Range: ${value} x ${value}` }}>\n    {children}\n  </Tooltip>\n)\n\nexport const Field = props => {\n  const {\n    field,\n    fieldMode,\n    handleFieldActionRangeChange,\n    hoveredPlotRangeSize,\n    inventory,\n    inventoryLimit,\n    purchasedField,\n  } = props\n\n  const [hoveredPlot, setHoveredPlot] = useState({ x: null, y: null })\n  const [currentScale, setCurrentScale] = useState(1)\n  const [fieldActionRange, setFieldActionRange] = useState(hoveredPlotRangeSize)\n\n  useEffect(() => {\n    setFieldActionRange(hoveredPlotRangeSize)\n  }, [hoveredPlotRangeSize])\n\n  const handleFieldActionRangeSliderChange = value => {\n    setFieldActionRange(value)\n    handleFieldActionRangeChange(value)\n  }\n\n  return (\n    <>\n      <GlobalHotKeys\n        {...{\n          keyMap: fieldKeyMap,\n          // Handlers are defined in Farmhand.js's initInputHandlers.\n        }}\n      />\n      <div\n        {...{\n          className: classNames('Field', {\n            'cleanup-mode': fieldMode === CLEANUP,\n            'fertilize-mode': fieldMode === FERTILIZE,\n            'harvest-mode': fieldMode === HARVEST,\n            'is-inventory-full': !doesInventorySpaceRemain({\n              inventory,\n              inventoryLimit,\n            }),\n            'plant-mode': fieldMode === PLANT,\n            'set-scarecrow-mode': fieldMode === SET_SCARECROW,\n            'set-sprinkler-mode': fieldMode === SET_SPRINKLER,\n            'water-mode': fieldMode === WATER,\n          }),\n          'data-purchased-field': purchasedField,\n        }}\n      >\n        <TransformWrapper\n          {...{\n            options: {\n              limitToBounds: false,\n            },\n            reset: {\n              animationTime: 0,\n            },\n            pan: {\n              disabled: currentScale <= 1,\n            },\n            // These 0s prevent NREs within react-zoom-pan-pinch, but also\n            // disable zoom animations.\n            zoomIn: {\n              animationTime: 0,\n            },\n            zoomOut: {\n              animationTime: 0,\n            },\n            onZoomChange: ({ scale }) => {\n              // If setCurrentScale with scale < 1 is called here, it causes a\n              // reference error within react-zoom-pan-pinch.\n              if (scale >= 1) {\n                setCurrentScale(scale)\n              }\n            },\n            wheel: {\n              disabled: true,\n            },\n            doubleClick: { disabled: true },\n          }}\n        >\n          {transformProps => (\n            <FieldContentWrapper\n              {...{\n                ...transformProps,\n                fieldContent: (\n                  <FieldContent\n                    {...{ ...props, hoveredPlot, setHoveredPlot }}\n                  />\n                ),\n              }}\n            />\n          )}\n        </TransformWrapper>\n        {adjustableRangeFieldModes.has(fieldMode) && (\n          <div className=\"slider-wrapper\">\n            <Slider\n              {...{\n                marks: true,\n                max: field.length - 1,\n                min: 0,\n                onChange: (e, value) =>\n                  handleFieldActionRangeSliderChange(value),\n                step: 1,\n                value: fieldActionRange,\n                valueLabelDisplay: 'auto',\n                valueLabelFormat: value => `${value * 2 + 1}`,\n                ValueLabelComponent: RangeSliderValueLabelComponent,\n              }}\n            />\n          </div>\n        )}\n        <QuickSelect />\n        <div {...{ className: 'spacer' }} />\n      </div>\n    </>\n  )\n}\n\nField.propTypes = {\n  columns: number.isRequired,\n  field: array.isRequired,\n  fieldMode: string.isRequired,\n  handleFieldActionRangeChange: func.isRequired,\n  hoveredPlotRangeSize: number.isRequired,\n  inventory: array.isRequired,\n  inventoryLimit: number.isRequired,\n  purchasedField: number.isRequired,\n  rows: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Field {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { func } from 'prop-types'\nimport ReactMarkdown from 'react-markdown'\nimport Button from '@material-ui/core/Button'\nimport Divider from '@material-ui/core/Divider'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\n\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { STANDARD_LOAN_AMOUNT } from '../../constants'\nimport { stageFocusType } from '../../enums'\n\nimport './Home.sass'\n\nconst Home = ({ handleViewChangeButtonClick }) => (\n  <div className=\"Home\">\n    <h1>Welcome!</h1>\n    <ExpansionPanel>\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n        <h2>Click to read a note from the developer</h2>\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <ReactMarkdown\n          {...{\n            linkTarget: '_blank',\n            className: 'markdown',\n            source: `\nHi! You're playing **Farmhand**, an open source game being developed by [Jeremy Kahn](https://github.com/jeremyckahn).\n\n[![Source code](https://badgen.net/badge/icon/github?icon=github&label)](https://github.com/jeremyckahn/farmhand) [![Discord](https://img.shields.io/discord/714539345050075176?label=farmhand+discord)](https://discord.gg/6cHEZ9H) [![r/FarmhandGame](https://img.shields.io/reddit/subreddit-subscribers/FarmhandGame?style=social)](https://www.reddit.com/r/FarmhandGame/)\n\nFarmhand is a resource management game that puts a farm in your hand. It is designed to be both desktop and mobile-friendly and fun for 30 seconds or 30 minutes at a time. Can you build a thriving farming business? Give it a try and find out!\n\nThis project has been in development since 2018. **Farmhand will always remain completely free to play**. My intention is to add features and iterate on this game for years to come as I can. If you'd like to support further development, [please consider becoming a patron](https://www.patreon.com/jeremyckahn)! Additionally, one-off [donations are also gratefully accepted](https://github.com/jeremyckahn#please-help-support-my-work).\n\nFarmhand is developed in a fully transparent way. As much of its development and operation is as publicly accessible as possible, including [API deployment logs](https://farmhand.vercel.app/_logs), [build job logs](https://github.com/jeremyckahn/farmhand/actions), and [deployed static assets](https://github.com/jeremyckahn/farmhand/tree/gh-pages). Your privacy is important, so none of your personal information is collected or transmitted. You're welcome to audit the code, logs, and network requests to verify it for yourself.\n\nHappy farming! \n    `,\n          }}\n        />\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n    <Divider />\n    <Card>\n      <CardContent>\n        <ReactMarkdown\n          {...{\n            className: 'markdown',\n            linkTarget: '_blank',\n            source: `\n### How to play\n\nThe goal of Farmhand is to make money by buying, growing, harvesting, and then selling crops. Keep an eye on prices though, because they go up and down every day! The best farmers buy seeds for a low price and sell them for a high price.\n\nIf you can master the art of the harvest, there's no limit to how profitable you can become! Every farmer starts with a $${STANDARD_LOAN_AMOUNT} loan from the bank. If you run out of money, you can always take out another loan. Be careful though, because the bank takes a portion of your sales until the debt is repaid. You can access your bank account in the menu.\n    `,\n          }}\n        />\n        <Button\n          {...{\n            color: 'primary',\n            onClick: () => handleViewChangeButtonClick(stageFocusType.SHOP),\n            variant: 'contained',\n          }}\n        >\n          Go to the shop\n        </Button>\n      </CardContent>\n    </Card>\n    <Divider />\n    <Card>\n      <CardContent>\n        <ReactMarkdown\n          {...{\n            className: 'markdown',\n            linkTarget: '_blank',\n            source: `\n### Online multiplayer\n\nYou can play Farmhand online with others! Online play is totally free, untracked, and anonymous.\n\nTo play online, flip the \"Play online\" toggle in the menu. You'll be connected to the **global** room by default, but you can select another room to play in if you'd like. If you select a room that doesn't exist, it will automatically be created for you. You can then tell others to meet you in that room.\n\nOnline play works just like offline play, except that the fluctuating market values are shared among everyone playing in the room with you. Additionally, market values are affected by your choices when you end a farm day:\n\n* Buying seeds or harvesting crops raises their respective values\n\n* Selling items (seeds or harvested crops) or harvesting seeds lowers their respective values\n\nYou'll see a notification explaining how you affected the market when you end the farm day. Because room market values are shared, **your buy/sell/harvest decisions affect others** when they join the room or end their farm day. Time your actions right to take advantage of market trends and gain the competitive edge over other online farmers!\n    `,\n          }}\n        />\n      </CardContent>\n    </Card>\n    <Divider />\n    <Card>\n      <CardContent>\n        <ReactMarkdown\n          {...{\n            className: 'markdown',\n            linkTarget: '_blank',\n            source: `\n### Installation\n\nIf you're playing Farmhand on a mobile device, you can install it as an app right from this website and play it offline! All you need to do is [add it to your home screen](https://www.howtogeek.com/196087/how-to-add-websites-to-the-home-screen-on-any-smartphone-or-tablet/). If you are playing it on desktop Chrome, you can [install it as app there as well](https://twitter.com/jeremyckahn/status/1329266318785253377?s=20).\n    `,\n          }}\n        />\n      </CardContent>\n    </Card>\n    <Divider />\n    <Card>\n      <CardContent>\n        <ReactMarkdown\n          {...{\n            className: 'markdown',\n            linkTarget: '_blank',\n            source: `\n### A few other tips\n\n* Press the bed button in the top-right of the screen to end the farm day and advance the game. This also saves your progress.\n\n* Crops need to be watered daily to grow.\n\n* Crafting items out of harvested crops in the Workshop is an excellent way to make money!\n\n* Purchasing a cow pen will allow you to buy, sell, milk, and breed cows. Can you breed the mythical Rainbow Cow?\n\n* Put up a scarecrow to protect your field!\n\n* Watch your inventory space as you obtain items. You can purchase additional storage space in the shop.\n\n* You'll be able to unlock new crops and items as you level up. Sell crops, milk, and crafted items to gain experience!\n\n* Bank loans accrue interest daily, so pay off your balance as soon as you can.\n\n    `,\n          }}\n        />\n      </CardContent>\n    </Card>\n  </div>\n)\n\nHome.propTypes = {\n  handleViewChangeButtonClick: func.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Home {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Component } from 'react'\nimport { array, bool, func, object, string } from 'prop-types'\nimport classNames from 'classnames'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\n\nimport { cowColors } from '../../enums'\nimport FarmhandContext from '../../Farmhand.context'\nimport { animals } from '../../img'\n\nimport './CowPen.sass'\n\nexport class Cow extends Component {\n  state = {\n    isMoving: false,\n    showHugAnimation: false,\n    x: Cow.randomPosition(),\n    y: Cow.randomPosition(),\n  }\n\n  repositionTimeoutId = null\n  animateMovementTimeoutId = null\n  animateHugTimeoutId = null\n\n  // This MUST be kept in sync with $movement-animation-duration in CowPen.sass.\n  static movementAnimationDuration = 3000\n\n  // This MUST be kept in sync with $hug-animation-duration in CowPen.sass.\n  static hugAnimationDuration = 750\n\n  static randomPosition = () => 10 + Math.random() * 80\n\n  get waitVariance() {\n    return 2000 * this.props.cowInventory.length\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.isSelected &&\n      !prevProps.isSelected &&\n      this.repositionTimeoutId !== null\n    ) {\n      clearTimeout(this.repositionTimeoutId)\n    }\n\n    if (!this.props.isSelected && prevProps.isSelected) {\n      this.scheduleMove()\n    }\n\n    if (\n      this.props.cow.happinessBoostsToday >\n        prevProps.cow.happinessBoostsToday &&\n      !this.state.showHugAnimation\n    ) {\n      this.setState({ showHugAnimation: true })\n\n      this.animateHugTimeoutId = setTimeout(\n        () => this.setState({ showHugAnimation: false }),\n        Cow.hugAnimationDuration\n      )\n    }\n  }\n\n  animateTimeoutHandler = () => {\n    this.animateMovementTimeoutId = null\n    this.finishMoving()\n  }\n\n  move = () => {\n    this.animateMovementTimeoutId = setTimeout(\n      this.animateTimeoutHandler,\n      Cow.movementAnimationDuration\n    )\n\n    this.setState({\n      isMoving: true,\n      x: Cow.randomPosition(),\n      y: Cow.randomPosition(),\n    })\n  }\n\n  finishMoving = () => {\n    this.scheduleMove()\n    this.setState({ isMoving: false })\n  }\n\n  repositionTimeoutHandler = () => {\n    this.repositionTimeoutId = null\n    this.move()\n  }\n\n  scheduleMove = () => {\n    if (this.props.isSelected) {\n      return\n    }\n\n    this.repositionTimeoutId = setTimeout(\n      this.repositionTimeoutHandler,\n      Math.random() * this.waitVariance\n    )\n  }\n\n  componentDidMount() {\n    this.scheduleMove()\n  }\n\n  componentWillUnmount() {\n    ;[\n      this.repositionTimeoutId,\n      this.animateMovementTimeoutId,\n      this.animateHugTimeoutId,\n    ].forEach(clearTimeout)\n  }\n\n  render() {\n    const {\n      props: { cow, handleCowClick, isSelected },\n      state: { isMoving, showHugAnimation, x, y },\n    } = this\n\n    return (\n      <div\n        {...{\n          className: classNames('cow', {\n            'is-moving': isMoving,\n            'is-selected': isSelected,\n          }),\n          onClick: () => handleCowClick(cow),\n          style: {\n            left: `${y}%`,\n            top: `${x}%`,\n          },\n        }}\n      >\n        <Tooltip\n          {...{\n            arrow: true,\n            placement: 'top',\n            title: cow.name,\n            open: isSelected,\n            PopperProps: {\n              disablePortal: true,\n            },\n          }}\n        >\n          <div>\n            <img\n              {...{\n                src: animals.cow[cowColors[cow.color].toLowerCase()],\n              }}\n              alt=\"Cow\"\n            />\n            <FontAwesomeIcon\n              {...{\n                className: classNames('animation', {\n                  'is-animating': showHugAnimation,\n                }),\n                icon: faHeart,\n              }}\n            />\n          </div>\n        </Tooltip>\n        <ol {...{ className: 'happiness-boosts-today' }}>\n          {new Array(this.props.cow.happinessBoostsToday).fill().map((_, i) => (\n            <li {...{ key: i }}>\n              <FontAwesomeIcon\n                {...{\n                  icon: faHeart,\n                }}\n              />\n            </li>\n          ))}\n        </ol>\n      </div>\n    )\n  }\n}\n\nCow.propTypes = {\n  cow: object.isRequired,\n  cowInventory: array.isRequired,\n  handleCowClick: func.isRequired,\n  isSelected: bool.isRequired,\n}\n\nexport const CowPen = ({ cowInventory, handleCowClick, selectedCowId }) => (\n  <div className=\"CowPen fill\">\n    {cowInventory.map(cow => (\n      <Cow\n        {...{\n          cow,\n          cowInventory,\n          key: cow.id,\n          handleCowClick,\n          isSelected: selectedCowId === cow.id,\n        }}\n      />\n    ))}\n  </div>\n)\n\nCowPen.propTypes = {\n  cowInventory: array.isRequired,\n  handleCowClick: func.isRequired,\n  selectedCowId: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <CowPen {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Component } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport { func, instanceOf, number, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport './TierPurchase.sass'\n\nexport class TierPurchase extends Component {\n  state = {\n    selectedTier: '',\n  }\n\n  tierValues = [...this.props.tiers.entries()]\n\n  get selectedTierNumber() {\n    return Number(this.state.selectedTier)\n  }\n\n  get canPlayerBuySelectedTier() {\n    const {\n      props: { money },\n      selectedTierNumber,\n    } = this\n\n    const selectedTier = this.props.tiers.get(selectedTierNumber)\n\n    return (\n      !!selectedTier &&\n      !this.hasPurchasedTier(selectedTierNumber) &&\n      money >= selectedTier.price\n    )\n  }\n\n  hasPurchasedTier = tierLevel => tierLevel <= this.props.purchasedTier\n\n  handleTierPurchase = () => {\n    const {\n      props: { handleTierPurchase, money },\n      selectedTierNumber,\n    } = this\n    const { price } = this.props.tiers.get(selectedTierNumber)\n\n    if (money >= price) {\n      handleTierPurchase(selectedTierNumber)\n    }\n  }\n\n  onSelectChange = ({ target: { value } }) => {\n    this.setState({ selectedTier: value })\n  }\n\n  updateSelectedTier = () => {\n    const {\n      props: { money },\n      selectedTierNumber,\n    } = this\n\n    const nextTierNumber = selectedTierNumber + 1\n    const nextTierToPurchase = this.props.tiers.get(nextTierNumber)\n\n    if (nextTierToPurchase && money >= nextTierToPurchase.price) {\n      this.setState({ selectedTier: String(nextTierNumber) })\n    }\n  }\n\n  componentDidMount() {\n    this.updateSelectedTier()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.money !== prevProps.money) {\n      this.updateSelectedTier()\n    }\n  }\n\n  render() {\n    const {\n      canPlayerBuySelectedTier,\n      handleTierPurchase,\n      hasPurchasedTier,\n      onSelectChange,\n      props: { money, renderTierLabel, title },\n      tierValues,\n      state: { selectedTier },\n    } = this\n\n    return (\n      <Card className=\"TierPurchase\">\n        <CardHeader {...{ title }} />\n        <CardActions>\n          <Button\n            {...{\n              color: 'primary',\n              disabled: !canPlayerBuySelectedTier,\n              onClick: handleTierPurchase,\n              variant: 'contained',\n            }}\n          >\n            Buy\n          </Button>\n          <Select\n            {...{\n              onChange: onSelectChange,\n              value: selectedTier,\n            }}\n          >\n            {tierValues.map(([id, tier]) => (\n              <MenuItem\n                key={id}\n                value={id}\n                disabled={money < tier.price || hasPurchasedTier(id)}\n              >\n                {renderTierLabel(tier)}\n              </MenuItem>\n            ))}\n          </Select>\n        </CardActions>\n      </Card>\n    )\n  }\n}\n\nTierPurchase.propTypes = {\n  handleTierPurchase: func.isRequired,\n  money: number.isRequired,\n  purchasedTier: number.isRequired,\n  renderTierLabel: func.isRequired,\n  tiers: instanceOf(Map),\n  title: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <TierPurchase {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, func, number, object } from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Typography from '@material-ui/core/Typography'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { moneyString } from '../../utils'\nimport { items } from '../../img'\nimport {\n  PURCHASEABLE_COW_PENS,\n  PURCHASEABLE_FIELD_SIZES,\n  STORAGE_EXPANSION_AMOUNT,\n  STORAGE_EXPANSION_PRICE,\n} from '../../constants'\nimport Inventory from '../Inventory'\nimport TierPurchase from '../TierPurchase'\n\nimport './Shop.sass'\n\nexport const Shop = ({\n  handleCowPenPurchase,\n  handleFieldPurchase,\n  handleStorageExpansionPurchase,\n  inventoryLimit,\n  money,\n  purchasedCowPen,\n  purchasedField,\n  shopInventory,\n}) => (\n  <div className=\"Shop\">\n    <Inventory\n      {...{\n        items: shopInventory,\n      }}\n    />\n    <ul className=\"card-list\">\n      {inventoryLimit > -1 && (\n        <li>\n          <Card>\n            <CardHeader\n              {...{\n                avatar: (\n                  <img\n                    {...{ src: items['inventory-box'] }}\n                    alt={'Inventory box'}\n                  />\n                ),\n                title: 'Storage Unit',\n                subheader: (\n                  <div>\n                    <p>Price: {moneyString(STORAGE_EXPANSION_PRICE)}</p>\n                    <p>Current inventory space: {inventoryLimit}</p>\n                  </div>\n                ),\n              }}\n            />\n            <CardContent>\n              <Typography>\n                Purchase a Storge Unit to increase your inventory capacity for{' '}\n                {STORAGE_EXPANSION_AMOUNT} more items.\n              </Typography>\n            </CardContent>\n            <CardActions>\n              <Button\n                {...{\n                  disabled: money < STORAGE_EXPANSION_PRICE,\n                  color: 'primary',\n                  onClick: handleStorageExpansionPurchase,\n                  variant: 'contained',\n                }}\n              >\n                Buy\n              </Button>\n            </CardActions>\n          </Card>\n        </li>\n      )}\n\n      <li>\n        <TierPurchase\n          {...{\n            handleTierPurchase: handleFieldPurchase,\n            purchasedTier: purchasedField,\n            renderTierLabel: ({ columns, price, rows }) =>\n              `$${price}: ${columns} x ${rows}`,\n            tiers: PURCHASEABLE_FIELD_SIZES,\n            title: 'Expand field',\n          }}\n        />\n      </li>\n      <li>\n        <TierPurchase\n          {...{\n            handleTierPurchase: handleCowPenPurchase,\n            purchasedTier: purchasedCowPen,\n            renderTierLabel: ({ cows, price }) => `$${price}: ${cows} cow pen`,\n            tiers: PURCHASEABLE_COW_PENS,\n            title: 'Buy cow pen',\n          }}\n        />\n      </li>\n    </ul>\n  </div>\n)\n\nShop.propTypes = {\n  handleCowPenPurchase: func.isRequired,\n  handleFieldPurchase: func.isRequired,\n  handleStorageExpansionPurchase: func.isRequired,\n  inventoryLimit: number.isRequired,\n  money: number.isRequired,\n  purchasedCowPen: number.isRequired,\n  purchasedField: number.isRequired,\n  shopInventory: array.isRequired,\n  valueAdjustments: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Shop {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport classNames from 'classnames'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport { array, func, number, object } from 'prop-types'\n\nimport {\n  canMakeRecipe,\n  doesInventorySpaceRemain,\n  dollarString,\n  maxYieldOfRecipe,\n  integerString,\n} from '../../utils'\nimport { itemsMap } from '../../data/maps'\nimport { craftedItems } from '../../img'\nimport QuantityInput from '../QuantityInput'\nimport AnimatedNumber from '../AnimatedNumber'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Recipe.sass'\n\nconst IngredientsList = ({\n  playerInventoryQuantities,\n  recipe: { ingredients, name },\n}) => (\n  <ul {...{ className: 'card-list', title: `Ingredients for ${name}` }}>\n    <li>\n      <h3>Ingredients required:</h3>\n    </li>\n    {Object.keys(ingredients).map(itemId => (\n      <li {...{ key: itemId }}>\n        <p\n          {...{\n            className: classNames(\n              playerInventoryQuantities[itemId] >= ingredients[itemId]\n                ? 'in-stock'\n                : 'out-of-stock'\n            ),\n          }}\n        >\n          {ingredients[itemId]} x {itemsMap[itemId].name} (On hand:{' '}\n          <AnimatedNumber\n            {...{\n              number: playerInventoryQuantities[itemId],\n              formatter: integerString,\n            }}\n          />\n          )\n        </p>\n      </li>\n    ))}\n  </ul>\n)\n\nconst Recipe = ({\n  handleMakeRecipeClick,\n  inventory,\n  inventoryLimit,\n  playerInventoryQuantities,\n  recipe,\n  recipe: { id, name },\n}) => {\n  const [quantity, setQuantity] = useState(1)\n\n  useEffect(() => {\n    setQuantity(Math.min(maxYieldOfRecipe(recipe, inventory), 1))\n  }, [inventory, recipe])\n\n  const canBeMade =\n    quantity > 0 &&\n    canMakeRecipe(recipe, inventory, quantity) &&\n    doesInventorySpaceRemain({ inventory, inventoryLimit })\n\n  const handleMakeRecipe = () => {\n    if (canBeMade) {\n      handleMakeRecipeClick(recipe, quantity)\n    }\n  }\n\n  const maxQuantity = maxYieldOfRecipe(recipe, inventory)\n\n  return (\n    <Card\n      {...{\n        className: classNames('Recipe', { 'can-be-made': canBeMade }),\n      }}\n    >\n      <CardHeader\n        {...{\n          avatar: <img {...{ src: craftedItems[id], alt: name }} />,\n          title: name,\n          subheader: (\n            <>\n              <p>Sell price: {dollarString(itemsMap[id].value)}</p>\n              <p>\n                In Inventory: {integerString(playerInventoryQuantities[id])}\n              </p>\n              <IngredientsList {...{ playerInventoryQuantities, recipe }} />\n            </>\n          ),\n        }}\n      />\n      <CardActions>\n        <Button\n          {...{\n            className: 'make-recipe',\n            color: 'primary',\n            disabled: !canBeMade,\n            onClick: handleMakeRecipe,\n            variant: 'contained',\n          }}\n        >\n          Make\n        </Button>\n        <QuantityInput\n          {...{\n            handleSubmit: handleMakeRecipe,\n            handleUpdateNumber: setQuantity,\n            maxQuantity,\n            setQuantity,\n            value: quantity,\n          }}\n        />\n      </CardActions>\n    </Card>\n  )\n}\n\nRecipe.propTypes = {\n  handleMakeRecipeClick: func.isRequired,\n  inventory: array.isRequired,\n  inventoryLimit: number.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  recipe: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Recipe {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { object } from 'prop-types'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Divider from '@material-ui/core/Divider'\nimport ReactMarkdown from 'react-markdown'\n\nimport { recipesMap } from '../../data/maps'\nimport Recipe from '../Recipe'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Workshop.sass'\n\nconst Workshop = ({ learnedRecipes }) => (\n  <div className=\"Workshop\">\n    <h3>Learned Recipes</h3>\n    <section>\n      <ul className=\"card-list\">\n        {Object.keys(learnedRecipes).map(recipeId => (\n          <li key={recipeId}>\n            <Recipe\n              {...{\n                recipe: recipesMap[recipeId],\n              }}\n            />\n          </li>\n        ))}\n      </ul>\n    </section>\n    <Divider />\n    <section>\n      <ul className=\"card-list\">\n        {/*\n          This really isn't a list, but it makes it easy to keep the UI\n          consistent.\n        */}\n        <li>\n          <Card>\n            <CardContent>\n              <ReactMarkdown\n                {...{\n                  linkTarget: '_blank',\n                  className: 'markdown',\n                  source: `Recipes are learned by selling crops and animal products. Sell as much as you can of a wide variety of items!`,\n                }}\n              />\n            </CardContent>\n          </Card>\n        </li>\n      </ul>\n    </section>\n  </div>\n)\n\nWorkshop.propTypes = {\n  learnedRecipes: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Workshop {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useRef } from 'react'\nimport classNames from 'classnames'\nimport { array, arrayOf, bool, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Field from '../Field'\nimport Home from '../Home'\nimport CowPen from '../CowPen'\nimport Shop from '../Shop'\nimport Workshop from '../Workshop'\nimport { stageFocusType } from '../../enums'\n\nimport './Stage.sass'\n\nexport const Stage = ({\n  field,\n  isMenuOpen,\n  playerInventory,\n  stageFocus,\n  viewTitle,\n}) => {\n  const ref = useRef(null)\n\n  useEffect(() => {\n    const {\n      current,\n      current: { style },\n    } = ref\n    // Set scroll position to the top\n    current.scrollTop = 0\n\n    // Stop any intertial scrolling\n    style.overflow = 'hidden'\n    setTimeout(() => (style.overflow = ''), 0)\n  }, [stageFocus])\n\n  return (\n    <div\n      {...{\n        className: classNames(\n          'Stage',\n          isMenuOpen ? 'menu-open' : 'menu-closed'\n        ),\n        'data-stage-focus': stageFocus,\n        ref,\n      }}\n    >\n      <h2 className=\"view-title\">{viewTitle}</h2>\n      {stageFocus === stageFocusType.HOME && <Home />}\n      {stageFocus === stageFocusType.FIELD && (\n        <Field\n          {...{\n            columns: field[0].length,\n            rows: field.length,\n          }}\n        />\n      )}\n      {stageFocus === stageFocusType.SHOP && <Shop />}\n      {stageFocus === stageFocusType.COW_PEN && <CowPen />}\n      {stageFocus === stageFocusType.WORKSHOP && <Workshop />}\n      <div {...{ className: 'spacer' }} />\n    </div>\n  )\n}\n\nStage.propTypes = {\n  field: arrayOf(array).isRequired,\n  isMenuOpen: bool.isRequired,\n  playerInventory: array.isRequired,\n  stageFocus: string.isRequired,\n  viewTitle: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Stage {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { arrayOf, bool, func, shape, string } from 'prop-types'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Alert from '@material-ui/lab/Alert'\nimport ReactMarkdown from 'react-markdown'\n\nimport { NOTIFICATION_DURATION } from '../../constants'\nimport FarmhandContext from '../../Farmhand.context'\nimport './NotificationSystem.sass'\n\nexport const NotificationSystem = ({\n  handleCloseNotification,\n  handleNotificationClick,\n  handleNotificationExited,\n  notifications,\n  doShowNotifications,\n}) => (\n  <div className=\"NotificationSystem notification-container\">\n    <Snackbar\n      {...{\n        anchorOrigin: { vertical: 'top', horizontal: 'right' },\n        autoHideDuration: NOTIFICATION_DURATION,\n        className: 'notification',\n        onClick: handleNotificationClick,\n        onClose: handleCloseNotification,\n        onExited: handleNotificationExited,\n        open: doShowNotifications,\n      }}\n    >\n      {/*\n      Notifications *must* be wrapped in a div, even though it would be a bit\n      cleaner to use a Fragment. Without a wrapping div, the\n      handleCloseNotification function tends to throw null reference errors\n      that crash the game.\n      */}\n      <div className=\"wrapper\">\n        {notifications.map(({ message, onClick, severity }) => (\n          <Alert\n            {...{\n              elevation: 3,\n              key: `${severity}_${message}`,\n              onClick,\n              severity,\n            }}\n          >\n            <ReactMarkdown {...{ source: message }} />\n          </Alert>\n        ))}\n      </div>\n    </Snackbar>\n  </div>\n)\n\nNotificationSystem.propTypes = {\n  handleCloseNotification: func.isRequired,\n  handleNotificationClick: func.isRequired,\n  handleNotificationExited: func.isRequired,\n  notifications: arrayOf(\n    shape({\n      message: string.isRequired,\n      severity: string.isRequired,\n    })\n  ).isRequired,\n  doShowNotifications: bool.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <NotificationSystem {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import { createMuiTheme } from '@material-ui/core'\n\nexport default createMuiTheme({\n  typography: {\n    // Needed to silence this warning:\n    // https://material-ui.com/style/typography/#migration-to-typography-v2\n    useNextVariants: true,\n  },\n})\n","// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst commonFetchConfig = {\n  mode: 'cors', // no-cors, *cors, same-origin\n  cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n  credentials: 'same-origin', // include, *same-origin, omit\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  redirect: 'follow', // manual, *follow, error\n  referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n}\n\nexport async function getData(url = '', data = {}) {\n  const params = new URLSearchParams()\n\n  Object.keys(data).forEach(key =>\n    params.append(encodeURIComponent(key), encodeURIComponent(data[key]))\n  )\n\n  // Default options are marked with *\n  const response = await fetch(`${url}?${params}`, {\n    ...commonFetchConfig,\n    method: 'GET',\n  })\n\n  return response.json() // parses JSON response into native JavaScript objects\n}\n\nexport async function postData(url = '', data = {}) {\n  // Default options are marked with *\n  const response = await fetch(url, {\n    ...commonFetchConfig,\n    method: 'POST',\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n  })\n\n  return response.json() // parses JSON response into native JavaScript objects\n}\n","export const endpoints = {\n  getMarketData: `${process.env.REACT_APP_API_ROOT}api/get-market-data`,\n  postDayResults: `${process.env.REACT_APP_API_ROOT}api/post-day-results`,\n}\n","import React, { Component } from 'react'\nimport window from 'global/window'\nimport { Redirect } from 'react-router-dom'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport localforage from 'localforage'\nimport { v4 as uuid } from 'uuid'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport Drawer from '@material-ui/core/Drawer'\nimport Fab from '@material-ui/core/Fab'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport HotelIcon from '@material-ui/icons/Hotel'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport debounce from 'lodash.debounce'\nimport classNames from 'classnames'\n\nimport FarmhandContext from './Farmhand.context'\nimport eventHandlers from './event-handlers'\nimport * as reducers from './reducers'\n// This must be imported here so that it can be overridden by component styles.\nimport './Farmhand.sass'\n\nimport AppBar from './components/AppBar'\nimport Navigation from './components/Navigation'\nimport ContextPane from './components/ContextPane'\nimport Stage from './components/Stage'\nimport NotificationSystem from './components/NotificationSystem'\nimport DebugMenu from './components/DebugMenu'\nimport theme from './mui-theme'\nimport {\n  computeMarketPositions,\n  createNewField,\n  doesMenuObstructStage,\n  farmProductsSold,\n  getAvailbleShopInventory,\n  getItemCurrentValue,\n  getLevelEntitlements,\n  levelAchieved,\n  memoize,\n  moneyTotal,\n  nullArray,\n  reduceByPersistedKeys,\n  sanitizeStateForImport,\n} from './utils'\nimport { getData, postData } from './fetch-utils'\nimport { itemsMap, recipesMap } from './data/maps'\nimport { dialogView, fieldMode, stageFocusType } from './enums'\nimport {\n  DEFAULT_ROOM,\n  INITIAL_INVENTORY_LIMIT,\n  PURCHASEABLE_COW_PENS,\n  STAGE_TITLE_MAP,\n  STANDARD_LOAN_AMOUNT,\n} from './constants'\nimport { HEARTBEAT_INTERVAL_PERIOD } from './common/constants'\nimport {\n  CONNECTED_TO_ROOM,\n  COW_PEN_PURCHASED,\n  LOAN_INCREASED,\n  POSITIONS_POSTED_NOTIFICATION,\n  RECIPE_LEARNED,\n} from './templates'\nimport {\n  DATA_DELETED,\n  CONNECTING_TO_SERVER,\n  DISCONNECTED_FROM_SERVER,\n  PROGRESS_SAVED_MESSAGE,\n  SERVER_ERROR,\n  UPDATE_AVAILABLE,\n} from './strings'\nimport { endpoints } from './config'\n\nconst { CLEANUP, HARVEST, OBSERVE, WATER } = fieldMode\n\nconst itemIds = Object.freeze(Object.keys(itemsMap))\n\n/*!\n * @param {Array.<{ id: farmhand.item, quantity: number }>} inventory\n * @param {Object.<number>} valueAdjustments\n * @returns {Array.<farmhand.item>}\n */\nexport const computePlayerInventory = memoize((inventory, valueAdjustments) =>\n  inventory.map(({ quantity, id }) => ({\n    quantity,\n    ...itemsMap[id],\n    value: getItemCurrentValue(itemsMap[id], valueAdjustments),\n  }))\n)\n\n/*!\n * @param {Array.<{ id: farmhand.item }>} inventory\n * @returns {Array.<{ id: farmhand.item }>}\n */\nexport const getFieldToolInventory = memoize(inventory =>\n  inventory\n    .filter(({ id }) => {\n      const { enablesFieldMode } = itemsMap[id]\n\n      return (\n        typeof enablesFieldMode === 'string' &&\n        enablesFieldMode !== fieldMode.PLANT\n      )\n    })\n    .map(({ id }) => itemsMap[id])\n)\n\n/*!\n * @param {Array.<{ id: farmhand.item }>} inventory\n * @returns {Array.<{ id: farmhand.item }>}\n */\nexport const getPlantableCropInventory = memoize(inventory =>\n  inventory\n    .filter(({ id }) => itemsMap[id].isPlantableCrop)\n    .map(({ id }) => itemsMap[id])\n)\n\n/**\n * @param {Object.<number>} valueAdjustments\n * @param {farmhand.priceEvent} priceCrashes\n * @param {farmhand.priceEvent} priceSurges\n * @returns {Object.<number>}\n */\nconst applyPriceEvents = (valueAdjustments, priceCrashes, priceSurges) => {\n  const patchedValueAdjustments = { ...valueAdjustments }\n\n  Object.keys(priceCrashes).forEach(itemId => {\n    patchedValueAdjustments[itemId] = 0.5\n  })\n  Object.keys(priceSurges).forEach(itemId => {\n    patchedValueAdjustments[itemId] = 1.5\n  })\n\n  return patchedValueAdjustments\n}\n\n/**\n * @typedef farmhand.state\n * @type {Object}\n * @property {number?} activePlayers\n * @property {farmhand.module:enums.dialogView} currentDialogView\n * @property {Object.<string, boolean>} completedAchievements Keys are\n * achievement ids.\n * @property {farmhand.cow} cowForSale\n * @property {Array.<farmhand.cowBreedingPen>} cowBreedingPen\n * @property {Array.<farmhand.cow>} cowInventory\n * @property {Object.<farmhand.module:enums.cowColors, number>}\n * cowColorsPurchased Keys are color enums, values are the number of that color\n * of cow purchased.\n * @property {Object} cowsSold Keys are items IDs, values are the id references\n * of cow colors (rainbow-cow, etc.).\n * @property {Object.<farmhand.module:enums.cropType, number>} cropsHarvested A\n * map of totals of crops harvested. Keys are crop type IDs, values are the\n * number of that crop harvested.\n * @property {number} dayCount\n * @property {Array.<Array.<?farmhand.plotContent>>} field\n * @property {farmhand.module:enums.fieldMode} fieldMode\n * @property {number?} heartbeatIntervalId\n * @property {Array.<number>} historicalDailyLosses\n * @property {Array.<number>} historicalDailyRevenue\n * @property {Array.<Object.<number>>} historicalValueAdjustments Currently\n * there is only one element in this array, but it will be used for more\n * historical price data analysis in the future. It is an array for\n * future-facing flexibility.\n * @property {number} hoveredPlotRangeSize\n * @property {string} id\n * @property {Array.<{ id: farmhand.item, quantity: number }>} inventory\n * @property {number} inventoryLimit Is -1 if inventory is unlimited.\n * @property {boolean} isAwaitingNetworkRequest\n * @property {boolean} isMenuOpen\n * @property {Object} itemsSold Keys are items IDs, values are the number of\n * that item sold.\n * @property {boolean} isDialogViewOpen\n * @property {boolean} isOnline Whether the player is playing online.\n * @property {Object} learnedRecipes Keys are recipe IDs, values are `true`.\n * @property {number} loanBalance\n * @property {number} loansTakenOut\n * @property {number} money\n * @property {Array.<farmhand.notification>} newDayNotifications\n * @property {Array.<farmhand.notification>} notifications\n * @property {Array.<farmhand.notification>} notificationLog\n * @property {string} selectedCowId\n * @property {string} selectedItemId\n * @property {Object.<string, farmhand.priceEvent>} priceCrashes Keys are\n * itemIds.\n * @property {Object.<string, farmhand.priceEvent>} priceSurges Keys are\n * itemIds.\n * @property {number} purchasedCowPen\n * @property {number} purchasedField\n * @property {number} profitabilityStreak\n * @property {number} record7dayProfitAverage\n * @property {number} recordProfitabilityStreak\n * @property {number} recordSingleDayProfit\n * @property {number} revenue The amount of money the player has generated in\n * @property {string} redirect Transient value used to drive router redirection.\n * @property {string} room What online room the player is in.\n * @property {boolean} doShowNotifications\n * @property {farmhand.module:enums.stageFocusType} stageFocus\n * @property {Array.<farmhand.notification>} todaysPastNotifications\n * @property {number} todaysLosses Should always be a negative number.\n * @property {Object} todaysPurchases Keys are item names, values are their\n * respective quantities.\n * @property {number} todaysRevenue Should always be a positive number.\n * @property {Object} todaysStartingInventory Keys are item names, values are\n * their respective quantities.\n * @property {boolean} useAlternateEndDayButtonPosition Option to display the\n * Bed button on the left side of the screen.\n * @property {Object.<number>} valueAdjustments\n * @property {string} version Comes from the `version` property in\n * package.json.\n */\n\nexport default class Farmhand extends Component {\n  // Bind event handlers\n\n  localforage = localforage.createInstance({\n    name: 'farmhand',\n    description: 'Persisted game data for Farmhand',\n  })\n\n  /*!\n   * @member farmhand.Farmhand#state\n   * @type {farmhand.state}\n   */\n  state = {\n    activePlayers: null,\n    currentDialogView: dialogView.NONE,\n    completedAchievements: {},\n    cowForSale: {},\n    cowBreedingPen: {\n      cowId1: null,\n      cowId2: null,\n      daysUntilBirth: -1,\n    },\n    cowInventory: [],\n    cowColorsPurchased: {},\n    cowsSold: {},\n    cropsHarvested: {},\n    dayCount: 0,\n    farmName: 'Unnamed',\n    field: createNewField(),\n    hasBooted: false,\n    heartbeatIntervalId: null,\n    historicalDailyLosses: [],\n    historicalDailyRevenue: [],\n    historicalValueAdjustments: [],\n    hoveredPlotRangeSize: 0,\n    id: uuid(),\n    inventory: [],\n    inventoryLimit: INITIAL_INVENTORY_LIMIT,\n    isAwaitingNetworkRequest: false,\n    isMenuOpen: !doesMenuObstructStage(),\n    itemsSold: {},\n    isDialogViewOpen: false,\n    isOnline: this.props.match.path.startsWith('/online'),\n    learnedRecipes: {},\n    loanBalance: STANDARD_LOAN_AMOUNT,\n    loansTakenOut: 1,\n    money: STANDARD_LOAN_AMOUNT,\n    newDayNotifications: [],\n    notifications: [],\n    notificationLog: [],\n    selectedCowId: '',\n    selectedItemId: '',\n    fieldMode: OBSERVE,\n    priceCrashes: {},\n    priceSurges: {},\n    profitabilityStreak: 0,\n    record7dayProfitAverage: 0,\n    recordProfitabilityStreak: 0,\n    recordSingleDayProfit: 0,\n    revenue: 0,\n    redirect: '',\n    room: decodeURIComponent(this.props.match.params.room || DEFAULT_ROOM),\n    purchasedCowPen: 0,\n    purchasedField: 0,\n    doShowNotifications: false,\n    stageFocus: stageFocusType.HOME,\n    todaysPastNotifications: [],\n    todaysLosses: 0,\n    todaysPurchases: {},\n    todaysRevenue: 0,\n    todaysStartingInventory: {},\n    useAlternateEndDayButtonPosition: false,\n    valueAdjustments: {},\n    version: process.env.REACT_APP_VERSION,\n  }\n\n  constructor() {\n    super(...arguments)\n\n    this.initInputHandlers()\n    this.initReducers()\n\n    // This is antipattern, but it's useful for debugging. The Farmhand\n    // component assumes that it is a singleton.\n    window.farmhand = this\n  }\n\n  getData = getData\n  postData = postData\n\n  get viewTitle() {\n    return STAGE_TITLE_MAP[this.state.stageFocus]\n  }\n\n  get fieldToolInventory() {\n    return getFieldToolInventory(this.state.inventory)\n  }\n\n  get playerInventory() {\n    const { inventory, valueAdjustments } = this.state\n    return computePlayerInventory(inventory, valueAdjustments)\n  }\n\n  get playerInventoryQuantities() {\n    const { inventory } = this.state\n\n    return itemIds.reduce((acc, itemId) => {\n      const itemInInventory = inventory.find(({ id }) => id === itemId)\n      acc[itemId] = itemInInventory ? itemInInventory.quantity : 0\n\n      return acc\n    }, {})\n  }\n\n  get plantableCropInventory() {\n    return getPlantableCropInventory(this.state.inventory)\n  }\n\n  get viewList() {\n    const { COW_PEN, FIELD, HOME, WORKSHOP, SHOP } = stageFocusType\n    const viewList = [HOME, SHOP, FIELD]\n\n    if (this.state.purchasedCowPen) {\n      viewList.push(COW_PEN)\n    }\n\n    viewList.push(WORKSHOP)\n\n    return viewList\n  }\n\n  get levelEntitlements() {\n    return getLevelEntitlements(\n      levelAchieved(farmProductsSold(this.state.itemsSold))\n    )\n  }\n\n  get shopInventory() {\n    return getAvailbleShopInventory(this.levelEntitlements)\n  }\n\n  initInputHandlers() {\n    const debouncedInputRate = 50\n\n    this.handlers = { debounced: {} }\n\n    Object.keys(eventHandlers).forEach(method => {\n      this.handlers[method] = eventHandlers[method].bind(this)\n\n      this.handlers.debounced[method] = debounce(\n        this.handlers[method],\n        debouncedInputRate\n      )\n    })\n\n    // The dialog view mappings here must be kept in sync with the\n    // dialogTriggerTextMap map in Navigation.js.\n    this.keyMap = {\n      incrementDay: 'shift+c',\n      nextView: 'right',\n      openAccounting: 'b',\n      openAchievements: 'a',\n      openLog: 'l',\n      openPriceEvents: 'e',\n      openStats: 's',\n      openSettings: ',',\n      previousView: 'left',\n      toggleMenu: 'm',\n    }\n\n    this.keyHandlers = {\n      incrementDay: () => this.incrementDay(),\n      nextView: this.focusNextView.bind(this),\n      openAccounting: () => this.openDialogView(dialogView.ACCOUNTING),\n      openAchievements: () => this.openDialogView(dialogView.ACHIEVEMENTS),\n      openLog: () => this.openDialogView(dialogView.FARMERS_LOG),\n      openPriceEvents: () => this.openDialogView(dialogView.PRICE_EVENTS),\n      openStats: () => this.openDialogView(dialogView.STATS),\n      openSettings: () => this.openDialogView(dialogView.SETTINGS),\n      previousView: this.focusPreviousView.bind(this),\n      selectHoe: () => this.handlers.handleFieldModeSelect(CLEANUP),\n      selectScythe: () => this.handlers.handleFieldModeSelect(HARVEST),\n      selectWateringCan: () => this.handlers.handleFieldModeSelect(WATER),\n      toggleMenu: () => this.handlers.handleMenuToggle(),\n    }\n\n    nullArray(9).forEach((_, i) => {\n      const index = i + 1\n      const key = `numberKey${index}`\n      this.keyMap[key] = String(index)\n      this.keyHandlers[key] = () => {\n        const viewName = this.viewList[i]\n\n        if (typeof viewName === 'string') {\n          this.setState({ stageFocus: stageFocusType[viewName] })\n        }\n      }\n    })\n\n    if (process.env.NODE_ENV === 'development') {\n      Object.assign(this.keyMap, {\n        clearPersistedData: 'shift+d',\n        waterAllPlots: 'w',\n      })\n    }\n\n    Object.assign(this.keyHandlers, {\n      clearPersistedData: () => this.clearPersistedData(),\n      waterAllPlots: () => this.waterAllPlots(this.state),\n    })\n  }\n\n  initReducers() {\n    ;[\n      'adjustLoan',\n      'computeStateForNextDay',\n      'changeCowAutomaticHugState',\n      'changeCowBreedingPenResident',\n      'changeCowName',\n      'clearPlot',\n      'fertilizeCrop',\n      'forRange',\n      'harvestPlot',\n      'hugCow',\n      'makeRecipe',\n      'modifyCow',\n      'purchaseCow',\n      'purchaseCowPen',\n      'purchaseField',\n      'purchaseItem',\n      'purchaseStorageExpansion',\n      'plantInPlot',\n      'sellItem',\n      'sellCow',\n      'selectCow',\n      'setScarecrow',\n      'setSprinkler',\n      'showNotification',\n      'waterField',\n      'waterAllPlots',\n      'waterPlot',\n    ].forEach(reducerName => {\n      const reducer = reducers[reducerName]\n\n      this[reducerName] = (...args) => {\n        this.setState(state => reducer(state, ...args))\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.localforage.getItem('state').then(state => {\n      if (state) {\n        const sanitizedState = sanitizeStateForImport(state)\n        const { newDayNotifications } = sanitizedState\n\n        this.setState({ ...sanitizedState, newDayNotifications: [] }, () => {\n          newDayNotifications.forEach(({ message, severity }) =>\n            this.showNotification(message, severity)\n          )\n        })\n      } else {\n        // Initialize new game\n        this.incrementDay(true)\n        this.setState(() => ({ historicalValueAdjustments: [] }))\n        this.showNotification(LOAN_INCREASED`${STANDARD_LOAN_AMOUNT}`, 'info')\n      }\n\n      this.syncToRoom()\n\n      this.setState({ hasBooted: true })\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      hasBooted,\n      heartbeatIntervalId,\n      isMenuOpen,\n      isOnline,\n      money,\n      room,\n      stageFocus,\n    } = this.state\n\n    // The operations after this if block concern transient gameplay state, but\n    // componentDidUpdate runs as part of the rehydration/bootup process. So,\n    // check to see if the app has completed booting before doing anything with\n    // this transient state.\n    if (!hasBooted) {\n      return\n    }\n\n    const {\n      match: {\n        path,\n        params: { room: newRoom = room },\n      },\n    } = this.props\n\n    const decodedRoom = decodeURIComponent(newRoom)\n\n    const newIsOnline = path.startsWith('/online')\n\n    if (newIsOnline !== this.state.isOnline || decodedRoom !== room) {\n      this.setState(() => ({\n        isOnline: newIsOnline,\n        redirect: '',\n        room: decodedRoom,\n      }))\n    }\n\n    if (isOnline !== prevState.isOnline || room !== prevState.room) {\n      this.syncToRoom()\n\n      if (!isOnline) {\n        clearInterval(heartbeatIntervalId)\n        this.setState({ activePlayers: null, heartbeatIntervalId: null })\n      }\n    }\n\n    if (isOnline === false && prevState.isOnline === true) {\n      this.showNotification(DISCONNECTED_FROM_SERVER, 'info')\n    }\n\n    const updatedAchievementsState = reducers.updateAchievements(\n      this.state,\n      prevState\n    )\n\n    if (updatedAchievementsState !== this.state) {\n      this.setState(() => updatedAchievementsState)\n    }\n\n    if (\n      this.state.stageFocus === stageFocusType.COW_PEN &&\n      prevState.stageFocus !== stageFocusType.COW_PEN\n    ) {\n      this.setState(() => ({ selectedCowId: '' }))\n    }\n\n    if (stageFocus !== prevState.stageFocus) {\n      if (isMenuOpen) {\n        this.setState(() => ({ isMenuOpen: !doesMenuObstructStage() }))\n      }\n    }\n\n    if (money < prevState.money) {\n      this.setState(({ todaysLosses }) => ({\n        todaysLosses: moneyTotal(todaysLosses, money - prevState.money),\n      }))\n    }\n\n    ;[\n      'showCowPenPurchasedNotifications',\n      'showRecipeLearnedNotifications',\n    ].forEach(fn => this[fn](prevState))\n  }\n\n  clearPersistedData() {\n    this.localforage.clear().then(() => this.showNotification(DATA_DELETED))\n  }\n\n  async syncToRoom() {\n    const { isOnline, priceCrashes, priceSurges, room } = this.state\n\n    if (!isOnline) {\n      return\n    }\n\n    this.showNotification(CONNECTING_TO_SERVER, 'info')\n\n    try {\n      this.setState({ isAwaitingNetworkRequest: true })\n\n      const { activePlayers, valueAdjustments } = await getData(\n        endpoints.getMarketData,\n        {\n          farmId: this.state.id,\n          room: room,\n        }\n      )\n\n      this.startHeartbeat()\n\n      this.setState({\n        activePlayers,\n        valueAdjustments: applyPriceEvents(\n          valueAdjustments,\n          priceCrashes,\n          priceSurges\n        ),\n      })\n\n      this.showNotification(CONNECTED_TO_ROOM`${room}`, 'success')\n    } catch (e) {\n      // TODO: Add some reasonable fallback behavior in case the server request\n      // fails. Possibility: Regenerate valueAdjustments and notify the user\n      // they are offline.\n\n      this.showNotification(SERVER_ERROR, 'error')\n\n      console.error(e)\n    }\n\n    this.setState({ isAwaitingNetworkRequest: false })\n  }\n\n  startHeartbeat() {\n    const { heartbeatIntervalId: oldHeartbeatIntervalId, id, room } = this.state\n    clearInterval(oldHeartbeatIntervalId)\n\n    const heartbeatIntervalId = setInterval(async () => {\n      const { activePlayers } = await getData(endpoints.getMarketData, {\n        farmId: id,\n        room,\n      })\n\n      this.setState({ activePlayers })\n    }, HEARTBEAT_INTERVAL_PERIOD)\n\n    this.setState(() => ({ heartbeatIntervalId }))\n  }\n\n  /*!\n   * @param {farmhand.state} prevState\n   */\n  showCowPenPurchasedNotifications(prevState) {\n    const {\n      state: { purchasedCowPen },\n    } = this\n\n    if (purchasedCowPen !== prevState.purchasedCowPen) {\n      const { cows } = PURCHASEABLE_COW_PENS.get(purchasedCowPen)\n\n      this.showNotification(COW_PEN_PURCHASED`${cows}`)\n    }\n  }\n\n  /*!\n   * @param {farmhand.state} prevState\n   */\n  showRecipeLearnedNotifications({ learnedRecipes: previousLearnedRecipes }) {\n    Object.keys(this.state.learnedRecipes).forEach(recipeId => {\n      if (!previousLearnedRecipes.hasOwnProperty(recipeId)) {\n        this.showNotification(RECIPE_LEARNED`${recipesMap[recipeId]}`)\n      }\n    })\n  }\n\n  /*!\n   * @param {Object} [overrides] Data to patch into this.state when persisting.\n   * @return {Promise}\n   */\n  persistState(overrides = {}) {\n    return this.localforage.setItem(\n      'state',\n      reduceByPersistedKeys({\n        ...this.state,\n        ...overrides,\n      })\n    )\n  }\n\n  /*!\n   * @param {boolean} [isFirstDay=false]\n   */\n  async incrementDay(isFirstDay = false) {\n    const {\n      inventory,\n      isOnline,\n      room,\n      todaysPurchases,\n      todaysStartingInventory,\n    } = this.state\n    const nextDayState = reducers.computeStateForNextDay(this.state, isFirstDay)\n    const serverMessages = []\n\n    if (isOnline) {\n      try {\n        this.setState({ isAwaitingNetworkRequest: true })\n\n        const positions = computeMarketPositions(\n          todaysStartingInventory,\n          todaysPurchases,\n          inventory\n        )\n\n        if (Object.keys(positions).length) {\n          serverMessages.push({\n            message: POSITIONS_POSTED_NOTIFICATION`${positions}`,\n            severity: 'info',\n          })\n        }\n\n        const { valueAdjustments } = await postData(endpoints.postDayResults, {\n          positions,\n          room,\n        })\n\n        nextDayState.valueAdjustments = applyPriceEvents(\n          valueAdjustments,\n          nextDayState.priceCrashes,\n          nextDayState.priceSurges\n        )\n      } catch (e) {\n        serverMessages.push({\n          message: SERVER_ERROR,\n          severity: 'error',\n        })\n\n        console.error(e)\n      }\n\n      this.setState({ isAwaitingNetworkRequest: false })\n    }\n\n    const pendingNotifications = [\n      ...serverMessages,\n      ...nextDayState.newDayNotifications,\n    ]\n\n    // This would be cleaner if setState was called after localForage.setItem,\n    // but updating the state first makes for a more responsive user\n    // experience. The persisted state is computed post-update and stored\n    // asynchronously, thus avoiding state changes from being blocked.\n\n    this.setState(\n      { ...nextDayState, newDayNotifications: [], notifications: [] },\n      async () => {\n        try {\n          await this.persistState({\n            // Old pendingNotifications are persisted so that they can be\n            // shown to the player when the app reloads.\n            newDayNotifications: pendingNotifications,\n          })\n          ;[]\n            .concat(pendingNotifications)\n            .concat(\n              isFirstDay\n                ? []\n                : [{ message: PROGRESS_SAVED_MESSAGE, severity: 'info' }]\n            )\n            .forEach(({ message, severity }) =>\n              this.showNotification(message, severity)\n            )\n        } catch (e) {\n          console.error(e)\n\n          this.showNotification(JSON.stringify(e), 'error')\n        }\n      }\n    )\n  }\n\n  /*!\n   * @param {farmhand.module:enums.dialogView} dialogView\n   */\n  openDialogView(dialogView) {\n    this.setState({ currentDialogView: dialogView, isDialogViewOpen: true })\n  }\n\n  closeDialogView() {\n    this.setState({ isDialogViewOpen: false })\n  }\n\n  focusNextView() {\n    const { viewList } = this\n\n    this.setState(({ stageFocus }) => {\n      const currentViewIndex = viewList.indexOf(stageFocus)\n\n      return { stageFocus: viewList[(currentViewIndex + 1) % viewList.length] }\n    })\n  }\n\n  focusPreviousView() {\n    const { viewList } = this\n\n    this.setState(({ stageFocus }) => {\n      const currentViewIndex = viewList.indexOf(stageFocus)\n\n      return {\n        stageFocus:\n          viewList[\n            currentViewIndex === 0\n              ? viewList.length - 1\n              : (currentViewIndex - 1) % viewList.length\n          ],\n      }\n    })\n  }\n\n  /*!\n   * @param {ServiceWorkerRegistration} registration\n   */\n  showUpdateNotification(registration) {\n    // @see https://github.com/jeremyckahn/farmhand/blob/dd1dd502b079be39f50c7d62a54a2027ba83360c/src/service-worker.js#L65-L71\n    // @see https://github.com/pwa-builder/pwa-update/blob/1b709e339e1bde6b13cc71eb4812618d2d28fd54/src/pwa-update.ts#L169-L171\n    registration.waiting.postMessage({ type: 'SKIP_WAITING' })\n\n    this.showNotification(UPDATE_AVAILABLE, 'success', () => {\n      window.location.reload()\n    })\n  }\n\n  render() {\n    const {\n      state: { redirect },\n      fieldToolInventory,\n      handlers,\n      keyHandlers,\n      keyMap,\n      levelEntitlements,\n      plantableCropInventory,\n      playerInventory,\n      playerInventoryQuantities,\n      shopInventory,\n      viewList,\n      viewTitle,\n    } = this\n\n    // Bundle up the raw state and the computed state into one object to be\n    // passed down through the component tree.\n    const gameState = {\n      ...this.state,\n      fieldToolInventory,\n      levelEntitlements,\n      plantableCropInventory,\n      playerInventory,\n      playerInventoryQuantities,\n      shopInventory,\n      viewList,\n      viewTitle,\n    }\n\n    return (\n      <GlobalHotKeys keyMap={keyMap} handlers={keyHandlers}>\n        <MuiThemeProvider theme={theme}>\n          {redirect && <Redirect {...{ to: redirect }} />}\n          <FarmhandContext.Provider value={{ gameState, handlers }}>\n            <div\n              {...{\n                className: classNames('Farmhand fill', {\n                  'use-alternate-end-day-button-position': this.state\n                    .useAlternateEndDayButtonPosition,\n                  'block-input': this.state.isAwaitingNetworkRequest,\n                }),\n              }}\n            >\n              <AppBar />\n              <Drawer\n                {...{\n                  className: 'sidebar-wrapper',\n                  open: gameState.isMenuOpen,\n                  variant: 'persistent',\n                  PaperProps: {\n                    className: 'sidebar',\n                  },\n                }}\n              >\n                <Navigation />\n                <ContextPane />\n                {process.env.NODE_ENV === 'development' && <DebugMenu />}\n                <div {...{ className: 'spacer' }} />\n              </Drawer>\n              <Stage />\n\n              {/*\n              These controls need to be at this top level instead of the Stage\n              because of scrolling issues in iOS.\n              */}\n              <div className=\"bottom-controls\">\n                <MobileStepper\n                  variant=\"dots\"\n                  steps={viewList.length}\n                  position=\"static\"\n                  activeStep={viewList.indexOf(this.state.stageFocus)}\n                  className=\"\"\n                />\n                <div className=\"fab-buttons buttons\">\n                  <Fab\n                    {...{\n                      'aria-label': 'Previous view',\n                      color: 'primary',\n                      onClick: () => this.focusPreviousView(),\n                    }}\n                  >\n                    <KeyboardArrowLeft />\n                  </Fab>\n                  <Fab\n                    {...{\n                      className: classNames('menu-button', {\n                        'is-open': this.state.isMenuOpen,\n                      }),\n                      color: 'primary',\n                      'aria-label': 'Open drawer',\n                      onClick: () => handlers.handleMenuToggle(),\n                    }}\n                  >\n                    <MenuIcon />\n                  </Fab>\n                  <Fab\n                    {...{\n                      'aria-label': 'Next view',\n                      color: 'primary',\n                      onClick: () => this.focusNextView(),\n                    }}\n                  >\n                    <KeyboardArrowRight />\n                  </Fab>\n                </div>\n              </div>\n              <Tooltip\n                {...{\n                  placement: 'left',\n                  title: (\n                    <>\n                      <p>\n                        End the day to save your progress and advance the game.\n                      </p>\n                      <p>(shift + c)</p>\n                    </>\n                  ),\n                }}\n              >\n                <Fab\n                  {...{\n                    'aria-label':\n                      'End the day to save your progress and advance the game.',\n                    className: 'end-day',\n                    color: 'secondary',\n                    onClick: handlers.handleClickEndDayButton,\n                  }}\n                >\n                  <HotelIcon />\n                </Fab>\n              </Tooltip>\n            </div>\n            <NotificationSystem />\n          </FarmhandContext.Provider>\n        </MuiThemeProvider>\n      </GlobalHotKeys>\n    )\n  }\n}\n","/**\n * @namespace farmhand\n */\n\n/**\n * Lookup table for the lifecycle durations of a crop (in days).\n * @typedef farmhand.cropTimetable\n * @readonly\n * @type {Object}\n * @property {number} seed\n * @property {number} growing\n */\n\n/**\n * Reference object for an item.\n * @typedef farmhand.item\n * @type {Object}\n * @readonly\n * @property {string} id\n * @property {string} name\n * @property {string} type\n * @property {farmhand.cropTimetable} [cropTimetable]\n * @property {farmhand.module:enums.cropType} [cropType]\n * @property {string} [description] A user-friendly description of the item.\n * @property {string} [enablesFieldMode] The fieldMode that this item enables.\n * @property {string} [growsInto] The id of another farmhand.item.\n * @property {boolean} [doesPriceFluctuate] Whether or not this item has a\n * value that fluctuates from day to day.\n * @property {number} [hoveredPlotRange] The number to set.\n * farmhand.state.hoveredPlotRange to when the item is active.\n * @property {boolean} [isPlantableCrop]\n * @property {boolean} [isReplantable]\n * @property {number} [quantity] How many of the item the player has.\n * @property {number} [tier] The value tier that the item belongs to.\n */\n\n/**\n * This is a minimalist base type to be inherited and expanded on by types like\n * farmhand.crop. This also represents non-crop plot content like scarecrows\n * and sprinklers.\n * @typedef farmhand.plotContent\n * @type {Object}\n * @property {string} itemId\n */\n\n/**\n * Represents a crop as it proceeds through the lifecycle.\n * @typedef farmhand.crop\n * @type {farmhand.plotContent}\n * @property {number} daysOld\n * @property {number} daysWatered\n * @property {boolean} isFertilized\n * @property {boolean} wasWateredToday\n */\n\n// Note: At some point farmhand.cow will be abstracted to farmhand.animal, but\n// there's only one animal so far so the abstraction isn't helpful yet.\n/**\n * @typedef farmhand.cow\n * @type {Object}\n * @property {number} baseWeight\n * @property {string} color\n * @property {Object.<farmhand.module:enums.cowColors, boolean>} colorsInBloodline\n * @property {number} daysOld\n * @property {number} daysSinceMilking\n * @property {string} gender\n * @property {number} happiness 0-1.\n * @property {number} happinessBoostsToday\n * @property {string} id\n * @property {boolean} isBred\n * @property {boolean} isUsingHuggingMachine\n * @property {string} name\n * @property {number} weightMultiplier Clamped between 0.5 and 1.5.\n */\n\n/**\n * @typedef farmhand.cowBreedingPen\n * @type {Object}\n * @property {string?} cowId1\n * @property {string?} cowId2\n * @property {number} daysUntilBirth\n */\n\n/**\n * @callback farmhand.recipeCondition\n * @param {farmhand.state} state\n * @returns {boolean}\n */\n\n/**\n * @typedef farmhand.recipe\n * @readonly\n * @type {farmhand.item}\n * @property {{string: number}} ingredients An object where each\n * key is the id of a farmhand.item and the value is the quantity of that item.\n * @property {farmhand.recipeCondition} condition This must return `true` for\n * the recipe to be made available to the player.\n */\n\n/**\n * @typedef farmhand.priceEvent\n * @type {Object}\n * @property {string} itemId\n * @property {number} daysRemaining\n */\n\n/**\n * @callback farmhand.achievementCondition\n * @param {farmhand.state} state\n * @param {farmhand.state} prevState\n * @returns {boolean}\n */\n\n/**\n * @callback farmhand.achievementReward\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\n\n/**\n * @typedef farmhand.achievement\n * @readonly\n * @type {Object}\n * @property {string} id\n * @property {string} name\n * @property {string} description\n * @property {string} rewardDescription\n * @property {farmhand.achievementCondition} condition\n * @property {farmhand.achievementReward} reward\n */\n\n/**\n * @typedef farmhand.level\n * @readonly\n * @type {Object}\n * @property {number} id\n * @property {boolean} [increasesSprinklerRange]\n * @property {string} [unlocksShopItem] Must reference a farmhand.item id.\n */\n\n/**\n * @typedef farmhand.notification\n * @type {Object}\n * @property {'error'|'info'|'success'|'warning'} severity\n * @property {Function?} onClick\n * @property {string} message\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter as Router, Route } from 'react-router-dom'\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration'\nimport './index.sass'\nimport Farmhand from './Farmhand'\nimport 'typeface-francois-one'\nimport 'typeface-public-sans'\n\nReactDOM.render(\n  <Router\n    {...{\n      hashType: 'noslash',\n    }}\n  >\n    <Route\n      {...{ path: ['/online/:room', '/online', '/'], component: Farmhand }}\n    />\n  </Router>,\n  document.getElementById('root')\n)\n\nserviceWorkerRegistration.register()\n"],"sourceRoot":""}